"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[6500],{6500:(St,Z,l)=>{l.r(Z),l.d(Z,{DynamicPropertiesModule:()=>wt});var T=l(71902),M=l(92337),_=l(70916),s=l(41840),x=l(47530),t=l(99468),p=l(44328),A=l(63686),d=l(96814),P=l(612),u=l(72500),g=l(94901),f=l(68027),h=l(85219),C=l(68989),c=l(56223),b=l(24142),m=l(3291),v=l(83410);const D=["createOrEditModal"];function E(i,r){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"localize"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"AddNewDynamicPropertyValue")," "))}function w(i,r){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"localize"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"EditDynamicPropertyValue")," "))}function N(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.createDynamicPropertyValue())}),t._UZ(1,"i",24),t.qZA()}}function S(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",25)(1,"div",26)(2,"label",27),t._uU(3),t.ALo(4,"localize"),t.qZA(),t.TgZ(5,"div",28)(6,"input",29),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.dynamicPropertyValue.value=n)}),t.qZA(),t.TgZ(7,"div",30)(8,"button",31),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.save())}),t._uU(9,"Save"),t.qZA()()()()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,2,"Value")),t.xp6(3),t.Q6J("ngModel",e.dynamicPropertyValue.value)}}function J(i,r){1&i&&(t.TgZ(0,"tr")(1,"th"),t._uU(2),t.ALo(3,"localize"),t.qZA(),t._UZ(4,"th",32)(5,"th",32),t.qZA()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Values")))}function q(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.editDynamicPropertyValue(n.id))}),t._uU(1),t.ALo(2,"localize"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Edit")," "))}function L(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.deleteDynamicPropertyValue(n.id))}),t._uU(1),t.ALo(2,"localize"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Delete")," "))}function O(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,q,3,3,"button",33),t.ALo(5,"permission"),t.qZA(),t.TgZ(6,"td"),t.YNc(7,L,3,3,"button",34),t.ALo(8,"permission"),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.hij(" ",e.value," "),t.xp6(2),t.Q6J("ngIf",t.lcZ(5,3,"Pages.Administration.DynamicPropertyValue.Edit")),t.xp6(3),t.Q6J("ngIf",t.lcZ(8,5,"Pages.Administration.DynamicPropertyValue.Delete"))}}function V(i,r){1&i&&(t.TgZ(0,"div",37),t._uU(1),t.ALo(2,"localize"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NoData")," "))}const z=function(){return{"min-width":"50rem"}};function I(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",12)(2,"button",13),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.getDynamicProperties())}),t._UZ(3,"i",14),t.qZA(),t.YNc(4,N,2,0,"button",15),t.ALo(5,"permission"),t.qZA(),t.YNc(6,S,10,4,"div",16),t.TgZ(7,"div",17)(8,"div",18)(9,"p-table",19,20),t.NdJ("onLazyLoad",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.getDynamicProperties())}),t.YNc(11,J,6,3,"ng-template",21),t.YNc(12,O,9,7,"ng-template",22),t.qZA(),t.YNc(13,V,3,3,"div",23),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",t.lcZ(5,9,"Pages.Administration.DynamicPropertyValue.Create")),t.xp6(2),t.Q6J("ngIf",e.createOrEditValueEnabled),t.xp6(2),t.Q6J("busyIf",e.primengTableHelper.isLoading),t.xp6(1),t.s9C("rows",e.primengTableHelper.defaultRecordsCountPerPage),t.Q6J("value",e.primengTableHelper.records)("paginator",!1)("lazy",!0)("tableStyle",t.DdM(11,z)),t.xp6(4),t.Q6J("ngIf",0==e.primengTableHelper.totalRecordsCount)}}const Q=function(i){return{backdrop:"static",keyboard:i}};let U=(()=>{class i extends s.c{constructor(e,o){super(e),this._dynamicPropertyValueAppService=o,this.createOrEditValueEnabled=!1,this.saving=!1}getDynamicProperties(){this.showMainSpinner(),this._dynamicPropertyValueAppService.getAllValuesOfDynamicProperty(this.dynamicPropertyId).subscribe(e=>{this.primengTableHelper.totalRecordsCount=e.items.length,this.primengTableHelper.records=e.items,this.primengTableHelper.hideLoadingIndicator(),this.hideMainSpinner()},e=>{this.hideMainSpinner()})}editDynamicPropertyValue(e){this._dynamicPropertyValueAppService.get(e).subscribe(o=>{this.dynamicPropertyValue=o,this.createOrEditValueEnabled=!0,this.hideMainSpinner()},o=>{this.hideMainSpinner()})}deleteDynamicPropertyValue(e){this.message.confirm(this.l("DeleteDynamicPropertyValueMessage"),this.l("AreYouSure"),o=>{o&&this._dynamicPropertyValueAppService.delete(e).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.getDynamicProperties()})})}createDynamicPropertyValue(){this.dynamicPropertyValue=new p.YNq,this.dynamicPropertyValue.dynamicPropertyId=this.dynamicPropertyId,this.createOrEditValueEnabled=!0}show(e){this.dynamicPropertyValue=new p.YNq,this.dynamicPropertyValue.dynamicPropertyId=e,this.dynamicPropertyId=e,this.getDynamicProperties(),this.modal.show()}save(){let e;this.saving=!0,this.showMainSpinner(),e=this.dynamicPropertyValue.id?this._dynamicPropertyValueAppService.update(this.dynamicPropertyValue):this._dynamicPropertyValueAppService.add(this.dynamicPropertyValue),e.subscribe(()=>{this.getDynamicProperties(),this.notify.info(this.l("SavedSuccessfully")),this.hideMainSpinner(),this.saving=!1,this.createOrEditValueEnabled=!1},o=>{this.hideMainSpinner(),this.saving=!1,this.createOrEditValueEnabled=!1})}close(){this.modal.hide()}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(t.zs3),t.Y36(p.Fn))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["dynamic-property-value-modal"]],viewQuery:function(o,n){if(1&o&&t.Gf(D,5),2&o){let a;t.iGM(a=t.CRH())&&(n.modal=a.first)}},features:[t.qOj],decls:14,vars:12,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","createOrEditModal","aria-hidden","true",1,"modal","fade",3,"config"],["createOrEditModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],["type","button",1,"btn-close",3,"disabled","click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"disabled","click"],[1,"modal-body"],[1,"row","justify-content-end","px-5"],[1,"btn","btn-outline-brand","btn-sm","btn-icon","btn-icon-md",3,"click"],[1,"flaticon2-refresh"],["class","btn btn-outline-brand btn-sm btn-icon btn-icon-md",3,"click",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","align-items-center"],[1,"col","primeng-datatable-container",3,"busyIf"],[3,"value","rows","paginator","lazy","tableStyle","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"flaticon2-plus"],[1,"row"],[1,"mb-5","col"],["for","Name",1,"form-label","required"],[1,"input-group"],["type","text","name","Name","required","",1,"form-control","col",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-primary",3,"click"],[2,"width","100px"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"primeng-no-data"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t.YNc(6,E,3,3,"span",6),t.YNc(7,w,3,3,"span",6),t.qZA(),t.TgZ(8,"button",7),t.NdJ("click",function(){return n.close()}),t.qZA()(),t.YNc(9,I,14,12,"div",8),t.TgZ(10,"div",9)(11,"button",10),t.NdJ("click",function(){return n.close()}),t._uU(12),t.ALo(13,"localize"),t.qZA()()()()()),2&o&&(t.Q6J("config",t.VKq(10,Q,!n.saving)),t.xp6(6),t.Q6J("ngIf",n.dynamicPropertyValue&&!n.dynamicPropertyValue.id),t.xp6(1),t.Q6J("ngIf",n.dynamicPropertyValue&&n.dynamicPropertyValue.id),t.xp6(1),t.Q6J("disabled",n.saving),t.uIk("aria-label",n.l("Close")),t.xp6(1),t.Q6J("ngIf",n.dynamicPropertyValue),t.xp6(2),t.Q6J("disabled",n.saving),t.xp6(1),t.hij(" ",t.lcZ(13,8,"Close")," "))},dependencies:[d.O5,c.Fj,c.JJ,c.Q7,c.On,g.U,f.iA,h.jx,b.Z,m.F,v.a],encapsulation:2})}return i})();var H=l(45513),k=l(59170);const Y=["createOrEditModal"],F=["permissionFilterTreeModal"];function G(i,r){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"localize"),t.ALo(3,"localize"),t.qZA()),2&i&&(t.xp6(1),t.AsE(" ",t.lcZ(2,2,"Edit")," ",t.lcZ(3,4,"DynamicProperty")," "))}function j(i,r){1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"localize"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"AddNewDynamicProperty")))}function K(i,r){if(1&i&&(t.TgZ(0,"option",27),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function R(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",8)(2,"h4",9),t.YNc(3,G,4,6,"span",7),t.YNc(4,j,3,3,"span",7),t.qZA(),t.TgZ(5,"button",10),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.close())}),t.qZA()(),t.TgZ(6,"div",11)(7,"div",12)(8,"div",13)(9,"label",14),t._uU(10),t.ALo(11,"localize"),t.qZA(),t.TgZ(12,"input",15),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.dynamicProperty.propertyName=n)}),t.qZA()(),t.TgZ(13,"div",13)(14,"label",16),t._uU(15),t.ALo(16,"localize"),t.qZA(),t.TgZ(17,"input",15),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.dynamicProperty.displayName=n)}),t.qZA()(),t.TgZ(18,"div",13)(19,"label",14),t._uU(20),t.ALo(21,"localize"),t.qZA(),t.TgZ(22,"select",17),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.dynamicProperty.inputType=n)}),t.YNc(23,K,2,2,"option",18),t.qZA()(),t.TgZ(24,"div",13)(25,"label",16),t._uU(26),t.ALo(27,"localize"),t.qZA(),t.TgZ(28,"div",19),t._UZ(29,"input",20),t.TgZ(30,"button",21),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.openPermissionTreeModal())}),t._UZ(31,"i",22),t.qZA()()()()(),t.TgZ(32,"div",23)(33,"button",24),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.close())}),t._uU(34),t.ALo(35,"localize"),t.qZA(),t.TgZ(36,"button",25),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.save())}),t._UZ(37,"i",26),t.TgZ(38,"span"),t._uU(39),t.ALo(40,"localize"),t.qZA()()()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",e.dynamicPropertyId),t.xp6(1),t.Q6J("ngIf",!e.dynamicPropertyId),t.xp6(1),t.Q6J("disabled",e.saving),t.uIk("aria-label",e.l("Close")),t.xp6(5),t.Oqu(t.lcZ(11,19,"PropertyName")),t.xp6(2),t.Q6J("ngModel",e.dynamicProperty.propertyName),t.xp6(3),t.Oqu(t.lcZ(16,21,"DisplayName")),t.xp6(2),t.Q6J("ngModel",e.dynamicProperty.displayName),t.xp6(3),t.Oqu(t.lcZ(21,23,"InputType")),t.xp6(2),t.Q6J("ngModel",e.dynamicProperty.inputType),t.xp6(1),t.Q6J("ngForOf",e.allIputTypes),t.xp6(3),t.Oqu(t.lcZ(27,25,"Permission")),t.xp6(3),t.s9C("value",e.dynamicProperty.permission),t.xp6(4),t.Q6J("disabled",e.saving),t.xp6(1),t.hij(" ",t.lcZ(35,27,"Cancel")," "),t.xp6(2),t.Q6J("disabled",!e.dynamicProperty.propertyName||!e.dynamicProperty.inputType)("buttonBusy",e.saving)("busyText",e.l("SavingWithThreeDot")),t.xp6(3),t.Oqu(t.lcZ(40,29,"Save"))}}const B=function(i){return{backdrop:"static",keyboard:i}};function $(i,r){if(1&i&&(t.TgZ(0,"div",3,4)(2,"div",5)(3,"div",6),t.YNc(4,R,41,31,"div",7),t.qZA()()()),2&i){const e=t.oxw();t.Q6J("config",t.VKq(2,B,!e.saving)),t.xp6(4),t.Q6J("ngIf",e.active)}}let X=(()=>{class i extends s.c{constructor(e,o,n){super(e),this._dynamicPropertyService=o,this._dynamicEntityPropertyDefinitionServiceProxy=n,this.modalSave=new t.vpe,this.loading=!0,this.saving=!1}show(e){if(this.dynamicPropertyId=e,!e)return this.dynamicProperty=new p.jDf,this.active=!0,void this.modal.show();this.showMainSpinner(),this._dynamicPropertyService.get(e).subscribe(o=>{this.dynamicProperty=o,this.active=!0,this.modal.show(),this.hideMainSpinner()},o=>{this.hideMainSpinner()})}save(){let e;this.saving=!0,e=this.dynamicProperty.id?this._dynamicPropertyService.update(this.dynamicProperty):this._dynamicPropertyService.add(this.dynamicProperty),this.showMainSpinner(),e.subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.hideMainSpinner(),this.modalSave.emit(null),this.modal.hide(),this.saving=!1},o=>{this.hideMainSpinner(),this.saving=!1})}ngOnInit(){this._dynamicEntityPropertyDefinitionServiceProxy.getAllAllowedInputTypeNames().subscribe(e=>{this.allIputTypes=e,this.loading=!1})}close(){this.modal.hide()}openPermissionTreeModal(){this.permissionFilterTreeModal.openPermissionTreeModal()}onPermissionSelected(e){this.dynamicProperty.permission=e[0]}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(t.zs3),t.Y36(p.ddT),t.Y36(p._5w))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["create-or-edit-dynamic-property-modal"]],viewQuery:function(o,n){if(1&o&&(t.Gf(Y,5),t.Gf(F,7)),2&o){let a;t.iGM(a=t.CRH())&&(n.modal=a.first),t.iGM(a=t.CRH())&&(n.permissionFilterTreeModal=a.first)}},outputs:{modalSave:"modalSave"},features:[t.qOj],decls:3,vars:3,consts:[["appBsModal","","class","modal fade","tabindex","-1","role","dialog","aria-labelledby","createOrEditModal","aria-hidden","true",3,"config",4,"ngIf"],[3,"singleSelect","dontAddOpenerButton","onModalclose"],["permissionFilterTreeModal",""],["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","createOrEditModal","aria-hidden","true",1,"modal","fade",3,"config"],["createOrEditModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],[1,"mb-5","col-12"],[1,"mb-5"],[1,"form-label","required"],["type","text","name","Name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-label"],[1,"form-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group"],["type","text","disabled","disabled",1,"form-control",3,"value"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-hand-pointer",2,"color","white"],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"disabled","click"],["type","button",1,"btn","btn-primary","fw-bold",3,"disabled","buttonBusy","busyText","click"],[1,"fa","fa-save"],[3,"value"]],template:function(o,n){1&o&&(t.YNc(0,$,5,4,"div",0),t.TgZ(1,"permission-tree-modal",1,2),t.NdJ("onModalclose",function(y){return n.onPermissionSelected(y)}),t.qZA()),2&o&&(t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("singleSelect",!0)("dontAddOpenerButton",!0))},dependencies:[d.sg,d.O5,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.Q7,c.On,H.L,b.Z,k.Z,m.F],encapsulation:2})}return i})();var W=l(26039),tt=l(9315);const et=["createModal"];function it(i,r){if(1&i&&(t.TgZ(0,"option",20),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function nt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",6)(2,"h4",7)(3,"span"),t._uU(4),t.ALo(5,"localize"),t.qZA()(),t.TgZ(6,"button",8),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.close())}),t.qZA()(),t.TgZ(7,"div",9)(8,"div",10)(9,"div",11)(10,"label",12),t._uU(11),t.ALo(12,"localize"),t.qZA(),t.TgZ(13,"select",13),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw(2);return t.KtG(a.entityFullName=n)}),t.TgZ(14,"option",14),t._uU(15),t.ALo(16,"localize"),t.qZA(),t.YNc(17,it,2,2,"option",15),t.qZA()()()(),t.TgZ(18,"div",16)(19,"button",17),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.close())}),t._uU(20),t.ALo(21,"localize"),t.qZA(),t.TgZ(22,"button",18),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.save())}),t._UZ(23,"i",19),t.TgZ(24,"span"),t._uU(25),t.ALo(26,"localize"),t.qZA()()()()}if(2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,8,"SelectAnEntity")),t.xp6(7),t.Oqu(t.lcZ(12,10,"Entity")),t.xp6(2),t.Q6J("ngModel",e.entityFullName),t.xp6(2),t.Oqu(t.lcZ(16,12,"SelectAnEntity")),t.xp6(2),t.Q6J("ngForOf",e.allEntities),t.xp6(2),t.Q6J("disabled",e.saving),t.xp6(1),t.hij(" ",t.lcZ(21,14,"Cancel")," "),t.xp6(5),t.Oqu(t.lcZ(26,16,"Save"))}}function ot(i,r){if(1&i&&(t.TgZ(0,"div",3)(1,"div",4),t.YNc(2,nt,27,18,"div",5),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.initialized)}}const at=function(){return{backdrop:"static"}};let rt=(()=>{class i extends s.c{constructor(e,o,n){super(e),this._dynamicEntityPropertyService=o,this._dynamicEntityPropertyDefinitionService=n,this.modalSave=new t.vpe,this.initialized=!1,this.saving=!1}show(){this.initialize(),this.modal.show()}save(){this.saving=!0,this.showMainSpinner(),this.modalSave.emit(this.entityFullName),this.modal.hide()}close(){this.modal.hide()}initialize(){if(this.initialized)return;this.showMainSpinner();let e=this._dynamicEntityPropertyDefinitionService.getAllEntities(),o=this._dynamicEntityPropertyService.getAllEntitiesHasDynamicProperty();(0,tt.D)([e,o]).subscribe(([n,a])=>{this.allEntities=n.filter(function(y){return-1===a.items.map(Nt=>Nt.entityFullName).indexOf(y)}),this.hideMainSpinner(),this.initialized=!0},n=>{this.hideMainSpinner()})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(t.zs3),t.Y36(p.kvd),t.Y36(p._5w))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["select-and-entity-modal"]],viewQuery:function(o,n){if(1&o&&t.Gf(et,5),2&o){let a;t.iGM(a=t.CRH())&&(n.modal=a.first)}},outputs:{modalSave:"modalSave"},features:[t.qOj],decls:3,vars:3,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","createModal","aria-hidden","true",1,"modal","fade",3,"config"],["createModal","bs-modal"],["class","modal-dialog modal-lg",4,"ngIf"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-5","col-12"],[1,"mb-5"],["for","Name",1,"form-label","required"],["required","",1,"form-select",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"disabled","click"],["type","button",1,"btn","btn-primary","fw-bold",3,"click"],[1,"fa","fa-save"],[3,"value"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0,1),t.YNc(2,ot,3,1,"div",2),t.qZA()),2&o&&(t.Q6J("config",t.DdM(2,at)),t.xp6(2),t.Q6J("ngIf",n.initialized))},dependencies:[d.sg,d.O5,c.YN,c.Kr,c.EJ,c.JJ,c.Q7,c.On,b.Z,m.F],encapsulation:2})}return i})();const lt=["selectAnEntityModal"],ct=["manageDynamicEntityPropertyModalComponent"];function pt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.addNewDynamicEntityProperty())}),t._UZ(1,"i",15),t.TgZ(2,"span",16),t._uU(3),t.ALo(4,"localize"),t.qZA()()}2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"AddNewDynamicEntityProperty")," "))}function dt(i,r){1&i&&(t.TgZ(0,"tr"),t._UZ(1,"th",17),t.TgZ(2,"th"),t._uU(3),t.ALo(4,"localize"),t.qZA()()),2&i&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"EntityFullName")))}function st(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,a=t.oxw();return t.KtG(a.gotoEdit(n.entityFullName))}),t._uU(1),t.ALo(2,"localize"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Detail")," "))}function mt(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t.YNc(2,st,3,3,"button",18),t.ALo(3,"permission"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.Q6J("ngIf",t.lcZ(3,2,"Pages.Administration.DynamicEntityProperties.Edit")),t.xp6(3),t.hij(" ",e.entityFullName," ")}}function yt(i,r){1&i&&(t.TgZ(0,"div",20),t._uU(1),t.ALo(2,"localize"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NoData")," "))}const _t=function(){return{"min-width":"50rem"}};let ut=(()=>{class i extends s.c{constructor(e,o,n){super(e),this._dynamicEntityPropertyService=o,this._router=n}ngOnInit(){this.getDynamicEntityProperties()}getDynamicEntityProperties(){this.showMainSpinner(),this._dynamicEntityPropertyService.getAllEntitiesHasDynamicProperty().subscribe(e=>{this.primengTableHelper.totalRecordsCount=e.items.length,this.primengTableHelper.records=e.items,this.primengTableHelper.hideLoadingIndicator(),this.hideMainSpinner()},e=>{this.hideMainSpinner()})}addNewDynamicEntityProperty(){this.selectAnEntityModal.show()}gotoEdit(e){this.manageDynamicEntityPropertyModalComponent.show(e)}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(t.zs3),t.Y36(p.kvd),t.Y36(_.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["dynamic-entity-property-list"]],viewQuery:function(o,n){if(1&o&&(t.Gf(lt,5),t.Gf(ct,5)),2&o){let a;t.iGM(a=t.CRH())&&(n.selectAnEntityModal=a.first),t.iGM(a=t.CRH())&&(n.manageDynamicEntityPropertyModalComponent=a.first)}},features:[t.qOj],decls:15,vars:11,consts:[[1,"row","justify-content-end"],[1,"col"],["class","btn btn-primary float-end",3,"click",4,"ngIf"],[1,"row","align-items-center"],[1,"col","primeng-datatable-container",3,"busyIf"],[3,"value","rows","paginator","lazy","tableStyle","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[3,"modalSave"],["selectAnEntityModal",""],[3,"onPropertyChange"],["manageDynamicEntityPropertyModalComponent",""],[1,"btn","btn-primary","float-end",3,"click"],[1,"fa","fa-plus","btn-md-icon"],[1,"d-none","d-md-inline-block"],[2,"width","100px"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"primeng-no-data"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,pt,5,3,"button",2),t.ALo(3,"permission"),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"p-table",5,6),t.NdJ("onLazyLoad",function(){return n.getDynamicEntityProperties()}),t.YNc(8,dt,5,3,"ng-template",7),t.YNc(9,mt,6,4,"ng-template",8),t.qZA(),t.YNc(10,yt,3,3,"div",9),t.qZA()(),t.TgZ(11,"select-and-entity-modal",10,11),t.NdJ("modalSave",function(y){return n.gotoEdit(y)}),t.qZA(),t.TgZ(13,"manage-dynamic-entity-property-modal",12,13),t.NdJ("onPropertyChange",function(){return n.getDynamicEntityProperties()}),t.qZA()),2&o&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,8,"Pages.Administration.DynamicEntityProperties.Create")),t.xp6(3),t.Q6J("busyIf",n.primengTableHelper.isLoading),t.xp6(1),t.s9C("rows",n.primengTableHelper.defaultRecordsCountPerPage),t.Q6J("value",n.primengTableHelper.records)("paginator",!1)("lazy",!0)("tableStyle",t.DdM(10,_t)),t.xp6(4),t.Q6J("ngIf",0==n.primengTableHelper.totalRecordsCount))},dependencies:[d.O5,g.U,f.iA,h.jx,W.E,rt,m.F,v.a],encapsulation:2})}return i})();const gt=["createOrEditDynamicProperty"],ft=["dynamicPropertyValueModal"];function ht(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.addNewDynamicProperty())}),t._UZ(1,"i",18),t.TgZ(2,"span",19),t._uU(3),t.ALo(4,"localize"),t.qZA()()}2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"AddNewDynamicProperty")," "))}function bt(i,r){1&i&&(t.TgZ(0,"tr"),t._UZ(1,"th",20),t.TgZ(2,"th"),t._uU(3),t.ALo(4,"localize"),t.qZA(),t.TgZ(5,"th"),t._uU(6),t.ALo(7,"localize"),t.qZA(),t.TgZ(8,"th"),t._uU(9),t.ALo(10,"localize"),t.qZA(),t.TgZ(11,"th"),t._uU(12),t.ALo(13,"localize"),t.qZA()()),2&i&&(t.xp6(3),t.Oqu(t.lcZ(4,4,"PropertyName")),t.xp6(3),t.Oqu(t.lcZ(7,6,"DisplayName")),t.xp6(3),t.Oqu(t.lcZ(10,8,"InputType")),t.xp6(3),t.Oqu(t.lcZ(13,10,"Permission")))}function vt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"li",28)(1,"a",29),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit,a=t.oxw();return t.KtG(a.editDynamicProperty(n.id))}),t._uU(2),t.ALo(3,"localize"),t.qZA()()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"Edit")," "))}function Zt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"li",28)(1,"a",29),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit,a=t.oxw();return t.KtG(a.deleteDynamicProperty(n.id))}),t._uU(2),t.ALo(3,"localize"),t.qZA()()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"Delete")," "))}function Pt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"li",28)(1,"a",29),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2).$implicit,a=t.oxw();return t.KtG(a.editValues(n))}),t._uU(2),t.ALo(3,"localize"),t.qZA()()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"EditValues")," "))}function Tt(i,r){if(1&i&&(t.TgZ(0,"ul",26),t.YNc(1,vt,4,3,"li",27),t.ALo(2,"permission"),t.YNc(3,Zt,4,3,"li",27),t.ALo(4,"permission"),t.YNc(5,Pt,4,3,"li",27),t.ALo(6,"permission"),t.qZA()),2&i){const e=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,"Pages.Administration.DynamicProperties.Edit")),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,"Pages.Administration.DynamicProperties.Delete")),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,7,"Pages.Administration.DynamicPropertyValue.Edit")&&o.hasValues(e.inputType))}}function Mt(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td")(2,"div",21)(3,"button",22),t._UZ(4,"i",23)(5,"span",24),t._uU(6),t.ALo(7,"localize"),t.qZA(),t.YNc(8,Tt,7,9,"ul",25),t.qZA()(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA()()),2&i){const e=r.$implicit;t.xp6(6),t.hij(" ",t.lcZ(7,5,"Actions")," "),t.xp6(4),t.hij(" ",e.propertyName," "),t.xp6(2),t.hij(" ",e.displayName," "),t.xp6(2),t.hij(" ",e.inputType," "),t.xp6(2),t.hij(" ",e.permission," ")}}function xt(i,r){1&i&&(t.TgZ(0,"div",30),t._uU(1),t.ALo(2,"localize"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"NoData")," "))}const At=function(){return{"min-width":"50rem"}},Ct=[{path:"",component:(()=>{class i extends s.c{constructor(e,o,n,a){super(e),this._dynamicPropertyService=o,this._router=n,this._inputTypeConfigurationService=a}getDynamicProperties(){this.showMainSpinner(),this._dynamicPropertyService.getAll().subscribe(e=>{this.primengTableHelper.totalRecordsCount=e.items.length,this.primengTableHelper.records=e.items,this.primengTableHelper.hideLoadingIndicator(),this.hideMainSpinner()},e=>{this.hideMainSpinner()})}addNewDynamicProperty(){this.createOrEditDynamicPropertyModal.show()}editDynamicProperty(e){this.createOrEditDynamicPropertyModal.show(e)}deleteDynamicProperty(e){this.message.confirm(this.l("DeleteDynamicPropertyMessage"),this.l("AreYouSure"),o=>{o&&this._dynamicPropertyService.delete(e).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.getDynamicProperties()})})}editValues(e){this.dynamicPropertyValueModal.show(e.id)}hasValues(e){return this._inputTypeConfigurationService.getByName(e).hasValues}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(t.zs3),t.Y36(p.ddT),t.Y36(_.F0),t.Y36(A.R))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],viewQuery:function(o,n){if(1&o&&(t.Gf(gt,7),t.Gf(ft,7)),2&o){let a;t.iGM(a=t.CRH())&&(n.createOrEditDynamicPropertyModal=a.first),t.iGM(a=t.CRH())&&(n.dynamicPropertyValueModal=a.first)}},features:[t.qOj],decls:27,vars:23,consts:[[3,"title"],[1,"card","card-custom","gutter-b"],[1,"card-body"],[1,"row","align-items-center"],[1,"p-5",3,"heading"],[1,"row","justify-content-end","px-5","pb-5"],[1,"col"],["class","btn btn-primary float-end",3,"click",4,"ngIf"],[1,"primeng-datatable-container",3,"busyIf"],[3,"value","rows","paginator","lazy","tableStyle","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],["dynamicPropertyValueModal",""],[3,"modalSave"],["createOrEditDynamicProperty",""],[1,"btn","btn-primary","float-end",3,"click"],[1,"fa","fa-plus","btn-md-icon"],[1,"d-none","d-md-inline-block"],[2,"width","130px"],["dropdown","","placement","bottom left","container","body",1,"btn-group"],["id","dropdownButton","type","button","dropdownToggle","","aria-controls","dropdownMenu",1,"btn","btn-primary","btn-sm","dropdown-toggle"],[1,"fa","fa-cog"],[1,"caret"],["id","dropdownMenu","class","dropdown-menu","role","menu","aria-labelledby","dropdownButton",4,"dropdownMenu"],["id","dropdownMenu","role","menu","aria-labelledby","dropdownButton",1,"dropdown-menu"],["role","menuitem",4,"ngIf"],["role","menuitem"],["href","javascript:;",1,"dropdown-item",3,"click"],[1,"primeng-no-data"]],template:function(o,n){1&o&&(t.TgZ(0,"div"),t._UZ(1,"sub-header",0),t.ALo(2,"localize"),t.TgZ(3,"div")(4,"div",1)(5,"div",2)(6,"div",3)(7,"tabset")(8,"tab",4),t.ALo(9,"localize"),t.TgZ(10,"div",5)(11,"div",6),t.YNc(12,ht,5,3,"button",7),t.ALo(13,"permission"),t.qZA()(),t.TgZ(14,"div",8)(15,"p-table",9,10),t.NdJ("onLazyLoad",function(){return n.getDynamicProperties()}),t.YNc(17,bt,14,12,"ng-template",11),t.YNc(18,Mt,17,7,"ng-template",12),t.qZA(),t.YNc(19,xt,3,3,"div",13),t.qZA()(),t.TgZ(20,"tab",4),t.ALo(21,"localize"),t._UZ(22,"dynamic-entity-property-list"),t.qZA()()()()(),t._UZ(23,"dynamic-property-value-modal",null,14),t.TgZ(25,"create-or-edit-dynamic-property-modal",15,16),t.NdJ("modalSave",function(){return n.getDynamicProperties()}),t.qZA()()()),2&o&&(t.Q6J("@routerTransition",void 0),t.xp6(1),t.Q6J("title",t.lcZ(2,14,"DynamicPropertyManagement")),t.xp6(2),t.Tol(n.containerClass),t.xp6(5),t.MGl("heading"," ",t.lcZ(9,16,"DynamicProperties"),""),t.xp6(4),t.Q6J("ngIf",t.lcZ(13,18,"Pages.Administration.DynamicProperties.Create")),t.xp6(2),t.Q6J("busyIf",n.primengTableHelper.isLoading),t.xp6(1),t.s9C("rows",n.primengTableHelper.defaultRecordsCountPerPage),t.Q6J("value",n.primengTableHelper.records)("paginator",!1)("lazy",!0)("tableStyle",t.DdM(22,At)),t.xp6(4),t.Q6J("ngIf",0==n.primengTableHelper.totalRecordsCount),t.xp6(1),t.MGl("heading"," ",t.lcZ(21,20,"DynamicEntityProperties"),""))},dependencies:[d.O5,P.wW,P.AH,u.Hz,u.Mq,u.TO,g.U,f.iA,h.jx,C.$,U,X,ut,m.F,v.a],encapsulation:2,data:{animation:[(0,x.MH)()]}})}return i})(),pathMatch:"full"}];let Dt=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[_.Bz.forChild(Ct),_.Bz]})}return i})();var Et=l(2313);let wt=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[M.o,T.g,Dt,Et.DynamicEntityPropertiesModule]})}return i})()}}]);