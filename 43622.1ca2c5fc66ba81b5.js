"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[43622],{43622:(Be,y,r)=>{r.r(y),r.d(y,{TenantsModule:()=>Ye});var S=r(71902),E=r(92337),C=r(70916),U=r(47530),_=r(41840),p=r(44328),f=r(66232),h=r(64716),e=r(99468),J=r(12990),b=r(58399),u=r(96814),s=r(56223),x=r(72500),g=r(53279),I=r(56906),D=r(76388),N=r(94901),L=r(81243),Z=r(68027),F=r(85219),R=r(51712);const P=["EditionCombobox"];function H(o,c){if(1&o&&(e.TgZ(0,"option",3),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.displayText)}}let Q=(()=>{class o extends _.c{constructor(t,i){super(i),this._editionService=t,this.selectedEdition=void 0,this.selectedEditionChange=new e.vpe,this.editions=[]}ngOnInit(){this._editionService.getEditionComboboxItems(0,!0,!1).subscribe(t=>{this.editions=t})}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(p.GnT),e.Y36(e.zs3))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["edition-combo"]],viewQuery:function(i,n){if(1&i&&e.Gf(P,7),2&i){let a;e.iGM(a=e.CRH())&&(n.editionComboboxElement=a.first)}},inputs:{selectedEdition:"selectedEdition"},outputs:{selectedEditionChange:"selectedEditionChange"},features:[e.qOj],decls:3,vars:2,consts:[[1,"form-select",3,"ngModel","ngModelChange"],["EditionCombobox",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,n){1&i&&(e.TgZ(0,"select",0,1),e.NdJ("ngModelChange",function(d){return n.selectedEdition=d})("ngModelChange",function(d){return n.selectedEditionChange.emit(d)}),e.YNc(2,H,2,2,"option",2),e.qZA()),2&i&&(e.Q6J("ngModel",n.selectedEdition),e.xp6(2),e.Q6J("ngForOf",n.editions))},dependencies:[u.sg,s.YN,s.Kr,s.EJ,s.JJ,s.On],encapsulation:2})}return o})();var k=r(68989),z=r(78176),O=r(24276),A=r(45513),q=r(42152),w=r(34714),M=r(24142),T=r(3291);const G=["createModal"];function j(o,c){1&o&&(e.TgZ(0,"span",53),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"TenantName_Regex_Description")," "))}const m=function(o){return{edited:o}};function K(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",11)(1,"label",54),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.TgZ(4,"input",55,56),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.tenant.connectionString=n)}),e.qZA(),e._UZ(6,"validation-messages",15),e.qZA()}if(2&o){const t=e.MAs(5),i=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,4,"DatabaseConnectionString")),e.xp6(2),e.Q6J("ngModel",i.tenant.connectionString)("ngClass",e.VKq(6,m,i.tenant.connectionString)),e.xp6(2),e.Q6J("formCtrl",t)}}function Y(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",11)(1,"label",57),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.TgZ(4,"input",58,59),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.tenant.adminPassword=n)}),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,9,"AdminPassword")),e.xp6(2),e.Q6J("ngModel",t.tenant.adminPassword)("ngClass",e.VKq(11,m,t.tenant.adminPassword))("required",!t.setRandomPassword)("requireDigit",t.passwordComplexitySetting.requireDigit)("requireLowercase",t.passwordComplexitySetting.requireLowercase)("requireUppercase",t.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",t.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",t.passwordComplexitySetting.requiredLength)}}function V(o,c){if(1&o&&(e.TgZ(0,"ul",60)(1,"li",34),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.TgZ(4,"li",34),e._uU(5),e.ALo(6,"localize"),e.qZA(),e.TgZ(7,"li",34),e._uU(8),e.ALo(9,"localize"),e.qZA(),e.TgZ(10,"li",34),e._uU(11),e.ALo(12,"localize"),e.qZA(),e.TgZ(13,"li",34),e._uU(14),e.ALo(15,"localize"),e.qZA()()),2&o){e.oxw();const t=e.MAs(1),i=e.oxw();e.xp6(1),e.Q6J("hidden",!t.controls.adminPassword.errors.requireDigit),e.xp6(1),e.hij(" ",e.lcZ(3,10,"PasswordComplexity_RequireDigit_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.controls.adminPassword.errors.requireLowercase),e.xp6(1),e.hij(" ",e.lcZ(6,12,"PasswordComplexity_RequireLowercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.controls.adminPassword.errors.requireUppercase),e.xp6(1),e.hij(" ",e.lcZ(9,14,"PasswordComplexity_RequireUppercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.controls.adminPassword.errors.requireNonAlphanumeric),e.xp6(1),e.hij(" ",e.lcZ(12,16,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.controls.adminPassword.errors.requiredLength),e.xp6(1),e.hij(" ",e.xi3(15,18,"PasswordComplexity_RequiredLength_Hint",i.passwordComplexitySetting.requiredLength)," ")}}function B(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",11)(1,"label",61),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.TgZ(4,"input",62,63),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.tenantAdminPasswordRepeat=n)}),e.qZA()()}if(2&o){const t=e.MAs(5),i=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,9,"AdminPasswordRepeat")),e.xp6(2),e.Q6J("ngModel",i.tenantAdminPasswordRepeat)("ngClass",e.VKq(11,m,t))("required",!i.setRandomPassword)("requireDigit",i.passwordComplexitySetting.requireDigit)("requireLowercase",i.passwordComplexitySetting.requireLowercase)("requireUppercase",i.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",i.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",i.passwordComplexitySetting.requiredLength)}}function $(o,c){if(1&o&&(e.TgZ(0,"ul",60)(1,"li",34),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.TgZ(4,"li",34),e._uU(5),e.ALo(6,"localize"),e.qZA(),e.TgZ(7,"li",34),e._uU(8),e.ALo(9,"localize"),e.qZA(),e.TgZ(10,"li",34),e._uU(11),e.ALo(12,"localize"),e.qZA(),e.TgZ(13,"li",34),e._uU(14),e.ALo(15,"localize"),e.qZA(),e.TgZ(16,"li",34),e._uU(17),e.ALo(18,"localize"),e.qZA()()),2&o){e.oxw();const t=e.MAs(1),i=e.oxw();e.xp6(1),e.Q6J("hidden",!t.controls.adminPasswordRepeat.errors.requireDigit),e.xp6(1),e.hij(" ",e.lcZ(3,12,"PasswordComplexity_RequireDigit_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.controls.adminPasswordRepeat.errors.requireLowercase),e.xp6(1),e.hij(" ",e.lcZ(6,14,"PasswordComplexity_RequireLowercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.controls.adminPasswordRepeat.errors.requireUppercase),e.xp6(1),e.hij(" ",e.lcZ(9,16,"PasswordComplexity_RequireUppercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.controls.adminPasswordRepeat.errors.requireNonAlphanumeric),e.xp6(1),e.hij(" ",e.lcZ(12,18,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.controls.adminPasswordRepeat.errors.requiredLength),e.xp6(1),e.hij(" ",e.xi3(15,20,"PasswordComplexity_RequiredLength_Hint",i.passwordComplexitySetting.requiredLength)," "),e.xp6(2),e.Q6J("hidden",t.controls.adminPasswordRepeat.valid),e.xp6(1),e.hij(" ",e.lcZ(18,23,"PasswordsDontMatch")," ")}}function W(o,c){if(1&o&&(e.TgZ(0,"option",64),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.displayText," ")}}const X=function(o){return{"has-error":o}},ee=function(){return{adaptivePosition:!0}};function te(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"form",5,6),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.save())}),e.TgZ(2,"div",7)(3,"h5",8)(4,"span"),e._uU(5),e.ALo(6,"localize"),e.qZA()(),e.TgZ(7,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.close())}),e.qZA()(),e.TgZ(8,"div",10)(9,"div",11)(10,"label",12),e._uU(11),e.ALo(12,"localize"),e.qZA(),e.TgZ(13,"input",13,14),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.tenant.tenancyName=n)}),e.qZA(),e._UZ(16,"validation-messages",15),e.qZA(),e.TgZ(17,"div"),e.YNc(18,j,3,3,"span",16),e.qZA(),e.TgZ(19,"div",11)(20,"label",17),e._uU(21),e.ALo(22,"localize"),e.qZA(),e.TgZ(23,"input",18,19),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.tenant.name=n)}),e.qZA(),e._UZ(25,"validation-messages",15),e.qZA(),e.TgZ(26,"label",20)(27,"input",21),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.useHostDb=n)}),e.qZA(),e.TgZ(28,"span",22),e._uU(29),e.ALo(30,"localize"),e.qZA()(),e.YNc(31,K,7,8,"div",23),e.TgZ(32,"div",11)(33,"label",24),e._uU(34),e.ALo(35,"localize"),e.qZA(),e.TgZ(36,"input",25,26),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.tenant.adminName=n)}),e.qZA(),e._UZ(38,"validation-messages",15),e.qZA(),e.TgZ(39,"div",11)(40,"label",27),e._uU(41),e.ALo(42,"localize"),e.qZA(),e.TgZ(43,"input",28,29),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.tenant.adminSurname=n)}),e.qZA(),e._UZ(45,"validation-messages",15),e.qZA(),e.TgZ(46,"div",11)(47,"label",30),e._uU(48),e.ALo(49,"localize"),e.qZA(),e.TgZ(50,"input",31,32),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.tenant.adminEmailAddress=n)}),e.qZA(),e._UZ(52,"validation-messages",15),e.qZA(),e.TgZ(53,"label",20)(54,"input",33),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.setRandomPassword=n)}),e.qZA(),e.TgZ(55,"span",22),e._uU(56),e.ALo(57,"localize"),e.qZA()(),e.YNc(58,Y,6,13,"div",23),e.TgZ(59,"div",34),e.YNc(60,V,16,21,"ul",35),e.qZA(),e.YNc(61,B,6,13,"div",23),e.TgZ(62,"div",34),e.YNc(63,$,19,25,"ul",35),e.qZA(),e.TgZ(64,"div",11)(65,"label",36),e._uU(66),e.ALo(67,"localize"),e.qZA(),e.TgZ(68,"select",37),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.tenant.editionId=n)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onEditionChange())}),e.YNc(69,W,2,2,"option",38),e.qZA()(),e.TgZ(70,"label",39)(71,"input",40),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.isUnlimited=n)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onIsUnlimitedChange())}),e.qZA(),e.TgZ(72,"span",22),e._uU(73),e.ALo(74,"localize"),e.qZA()(),e.TgZ(75,"div",41)(76,"label",42),e._uU(77),e.ALo(78,"localize"),e.qZA(),e.TgZ(79,"input",43,44),e.NdJ("dateChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.tenant.subscriptionEndDateUtc=n)}),e.qZA()(),e.TgZ(81,"label",39)(82,"input",45),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.tenant.isInTrialPeriod=n)}),e.qZA(),e.TgZ(83,"span",22),e._uU(84),e.ALo(85,"localize"),e.qZA()(),e.TgZ(86,"label",20)(87,"input",46),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.tenant.shouldChangePasswordOnNextLogin=n)}),e.qZA(),e.TgZ(88,"span",22),e._uU(89),e.ALo(90,"localize"),e.qZA()(),e.TgZ(91,"label",20)(92,"input",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.tenant.sendActivationEmail=n)}),e.qZA(),e.TgZ(93,"span",22),e._uU(94),e.ALo(95,"localize"),e.qZA()(),e.TgZ(96,"label",20)(97,"input",48),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.tenant.isActive=n)}),e.qZA(),e.TgZ(98,"span",22),e._uU(99),e.ALo(100,"localize"),e.qZA()()(),e.TgZ(101,"div",49)(102,"button",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.close())}),e._uU(103),e.ALo(104,"localize"),e.qZA(),e.TgZ(105,"button",51),e._UZ(106,"i",52),e.TgZ(107,"span"),e._uU(108),e.ALo(109,"localize"),e.qZA()()()()}if(2&o){const t=e.MAs(1),i=e.MAs(14),n=e.MAs(15),a=e.MAs(24),d=e.MAs(37),v=e.MAs(44),Ve=e.MAs(51),l=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,62,"CreateNewTenant")),e.xp6(2),e.Q6J("disabled",l.saving),e.uIk("aria-label",l.l("Close")),e.xp6(4),e.Oqu(e.lcZ(12,64,"TenancyName")),e.xp6(2),e.Q6J("ngClass",e.VKq(96,m,l.tenant.tenancyName))("ngModel",l.tenant.tenancyName),e.xp6(3),e.Q6J("formCtrl",i),e.xp6(2),e.Q6J("ngIf",!n.valid&&!n.pristine),e.xp6(3),e.Oqu(e.lcZ(22,66,"Name")),e.xp6(2),e.Q6J("ngClass",e.VKq(98,m,l.tenant.name))("ngModel",l.tenant.name),e.xp6(2),e.Q6J("formCtrl",a),e.xp6(2),e.Q6J("ngModel",l.useHostDb),e.xp6(2),e.hij(" ",e.lcZ(30,68,"UseHostDatabase")," "),e.xp6(2),e.Q6J("ngIf",!l.useHostDb),e.xp6(3),e.Oqu(e.lcZ(35,70,"AdminName")),e.xp6(2),e.Q6J("ngModel",l.tenant.adminName)("ngClass",e.VKq(100,m,l.tenant.adminName)),e.xp6(2),e.Q6J("formCtrl",d),e.xp6(3),e.Oqu(e.lcZ(42,72,"AdminSurname")),e.xp6(2),e.Q6J("ngModel",l.tenant.adminSurname)("ngClass",e.VKq(102,m,l.tenant.adminSurname)),e.xp6(2),e.Q6J("formCtrl",v),e.xp6(3),e.Oqu(e.lcZ(49,74,"AdminEmailAddress")),e.xp6(2),e.Q6J("ngModel",l.tenant.adminEmailAddress)("ngClass",e.VKq(104,m,l.tenant.adminEmailAddress)),e.xp6(2),e.Q6J("formCtrl",Ve),e.xp6(2),e.Q6J("ngModel",l.setRandomPassword),e.xp6(2),e.hij(" ",e.lcZ(57,76,"SetRandomPassword")," "),e.xp6(2),e.Q6J("ngIf",!l.setRandomPassword),e.xp6(1),e.Q6J("hidden",t.form.valid||t.form.pristine),e.xp6(1),e.Q6J("ngIf",t.controls.adminPassword&&t.controls.adminPassword.errors),e.xp6(1),e.Q6J("ngIf",!l.setRandomPassword),e.xp6(1),e.Q6J("hidden",t.form.valid||t.form.pristine),e.xp6(1),e.Q6J("ngIf",t.controls.adminPasswordRepeat&&t.controls.adminPasswordRepeat.errors),e.xp6(3),e.Oqu(e.lcZ(67,78,"Edition")),e.xp6(2),e.Q6J("ngModel",l.tenant.editionId),e.xp6(1),e.Q6J("ngForOf",l.editions),e.xp6(1),e.Q6J("hidden",!l.isSubscriptionFieldsVisible),e.xp6(1),e.Q6J("ngModel",l.isUnlimited),e.xp6(2),e.hij(" ",e.lcZ(74,80,"UnlimitedTimeSubscription")," "),e.xp6(2),e.Q6J("hidden",l.isUnlimited||!l.isSubscriptionFieldsVisible)("ngClass",e.VKq(106,X,!l.subscriptionEndDateIsValid())),e.xp6(2),e.Oqu(e.lcZ(78,82,"SubscriptionEndDate")),e.xp6(2),e.Q6J("date",l.tenant.subscriptionEndDateUtc)("bsConfig",e.DdM(108,ee)),e.xp6(2),e.Q6J("hidden",l.isUnlimited||!l.isSubscriptionFieldsVisible),e.xp6(1),e.Q6J("ngModel",l.tenant.isInTrialPeriod)("disabled",l.isSelectedEditionFree),e.xp6(2),e.hij(" ",e.lcZ(85,84,"IsInTrialPeriod")," "),e.xp6(3),e.Q6J("ngModel",l.tenant.shouldChangePasswordOnNextLogin),e.xp6(2),e.hij(" ",e.lcZ(90,86,"ShouldChangePasswordOnNextLogin")," "),e.xp6(3),e.Q6J("ngModel",l.tenant.sendActivationEmail),e.xp6(2),e.hij(" ",e.lcZ(95,88,"SendActivationEmail")," "),e.xp6(3),e.Q6J("ngModel",l.tenant.isActive),e.xp6(2),e.hij(" ",e.lcZ(100,90,"Active")," "),e.xp6(3),e.Q6J("disabled",l.saving),e.xp6(1),e.hij(" ",e.lcZ(104,92,"Cancel")," "),e.xp6(2),e.Q6J("buttonBusy",l.saving)("busyText",l.l("SavingWithThreeDot"))("disabled",!t.form.valid||l.saving||!l.subscriptionEndDateIsValid()),e.xp6(3),e.Oqu(e.lcZ(109,94,"Save"))}}const ne=function(o){return{backdrop:"static",keyboard:o}};let ie=(()=>{class o extends _.c{constructor(t,i,n,a,d){super(t),this._tenantService=i,this._commonLookupService=n,this._profileService=a,this._dateTimeService=d,this.modalSave=new e.vpe,this.active=!1,this.saving=!1,this.setRandomPassword=!0,this.useHostDb=!0,this.editions=[],this.passwordComplexitySetting=new p.qSp,this.isUnlimited=!1,this.isSubscriptionFieldsVisible=!1,this.isSelectedEditionFree=!1,this.tenantAdminPasswordRepeat=""}show(){this.active=!0,this.init(),this._profileService.getPasswordComplexitySetting().subscribe(t=>{this.passwordComplexitySetting=t.setting,this.modal.show()})}onShown(){document.getElementById("TenancyName").focus()}init(){this.tenant=new p.uNx,this.tenant.isActive=!0,this.tenant.shouldChangePasswordOnNextLogin=!0,this.tenant.sendActivationEmail=!0,this.tenant.editionId=0,this.tenant.isInTrialPeriod=!1,this._commonLookupService.getEditionsForCombobox(!1).subscribe(t=>{this.editions=t.items;let i=new p.EHF;i.value="",i.displayText=this.l("NotAssigned"),this.editions.unshift(i),this._commonLookupService.getDefaultEditionName().subscribe(n=>{let a=(0,f.Z)(this.editions,{displayText:n.name});a&&a[0]&&(this.tenant.editionId=parseInt(a[0].value),this.toggleSubscriptionFields())})})}getEditionValue(t){return parseInt(t.value)}selectedEditionIsFree(){let t=(0,f.Z)(this.editions,{value:this.tenant.editionId.toString()}).map(n=>Object.assign(new p.EHF,n));return 1!==t.length&&(this.isSelectedEditionFree=!0),this.isSelectedEditionFree=t[0].isFree,this.isSelectedEditionFree}subscriptionEndDateIsValid(){return!!(this.tenant.editionId<=0||this.isUnlimited)||!!this.tenant.subscriptionEndDateUtc&&void 0!==this.tenant.subscriptionEndDateUtc}save(){this.saving=!0,this.setRandomPassword&&(this.tenant.adminPassword=null),0===this.tenant.editionId&&(this.tenant.editionId=null),this.isUnlimited&&(this.tenant.isInTrialPeriod=!1),this.tenant.subscriptionEndDateUtc=this.isUnlimited||this.tenant.editionId<=0?null:this._dateTimeService.toUtcDate(this.tenant.subscriptionEndDateUtc),this._tenantService.createTenant(this.tenant).pipe((0,h.x)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.modalSave.emit(null)})}close(){this.active=!1,this.tenantAdminPasswordRepeat="",this.modal.hide()}onEditionChange(){this.tenant.isInTrialPeriod=this.tenant.editionId>0&&!this.selectedEditionIsFree(),this.toggleSubscriptionFields()}toggleSubscriptionFields(){this.isSelectedEditionFree=this.selectedEditionIsFree(),this.tenant.editionId<=0||this.isSelectedEditionFree?(this.isSubscriptionFieldsVisible=!1,this.isUnlimited=!!this.isSelectedEditionFree):this.isSubscriptionFieldsVisible=!0}onIsUnlimitedChange(){this.isUnlimited&&(this.tenant.isInTrialPeriod=!1)}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.zs3),e.Y36(p.ANv),e.Y36(p.P0Z),e.Y36(p.qAB),e.Y36(b.C))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["createTenantModal"]],viewQuery:function(i,n){if(1&i&&e.Gf(G,7),2&i){let a;e.iGM(a=e.CRH())&&(n.modal=a.first)}},outputs:{modalSave:"modalSave"},features:[e.qOj],decls:5,vars:4,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","createModal","aria-hidden","true",1,"modal","fade",3,"config","onShown"],["createModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["role","form","novalidate","","class","form-validation",3,"submit",4,"ngIf"],["role","form","novalidate","",1,"form-validation",3,"submit"],["tenantCreateForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],[1,"mb-5"],["for","TenancyName",1,"form-label","required"],["id","TenancyName","type","text","name","tenancyName","required","","maxlength","64","pattern","^[a-zA-Z][a-zA-Z0-9_-]{1,}$",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["tenancyNameInput","ngModel","tenancyName","ngModel"],[3,"formCtrl"],["class","form-control-feedback",4,"ngIf"],["for","Name",1,"form-label","required"],["id","Name","type","text","name","Name","required","","maxlength","128",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["nameInput","ngModel"],[1,"form-check","form-check-custom","form-check-solid","py-1"],["id","CreateTenant_UseHostDb","type","checkbox","name","UseHostDb",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],["class","mb-5",4,"ngIf"],["for","AdminName",1,"form-label","required"],["id","AdminName","type","text","name","AdminName","required","","maxlength","64",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["adminNameInput","ngModel"],["for","AdminSurname",1,"form-label","required"],["id","AdminSurname","type","text","name","AdminSurname","required","","maxlength","64",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["adminSurnameInput","ngModel"],["for","AdminEmailAddress",1,"form-label","required"],["id","AdminEmailAddress","type","email","name","AdminEmailAddress","required","","pattern","^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$","maxlength","256",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["adminEmailAddressInput","ngModel"],["id","CreateTenant_SetRandomPassword","type","checkbox","name","SetRandomPassword",1,"form-check-input",3,"ngModel","ngModelChange"],[3,"hidden"],["class","help-block text-danger",4,"ngIf"],["for","edition",1,"form-label"],["id","edition","name","edition",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"form-check","form-check-custom","form-check-solid","py-1",3,"hidden"],["id","CreateTenant_IsUnlimited","type","checkbox","name","IsUnlimited",1,"form-check-input",3,"ngModel","ngModelChange","change"],[1,"mb-5",3,"hidden","ngClass"],["for","SubscriptionEndDate"],["id","SubscriptionEndDate","type","text","name","SubscriptionEndDateUtc","bsDatepicker","","datePickerLuxonModifier","","autocomplete","new-password",1,"form-control",3,"date","bsConfig","dateChange"],["SubscriptionEndDateUtc",""],["id","CreateTenant_IsInTrialPeriod","type","checkbox","name","IsInTrialPeriod",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["id","CreateTenant_ShouldChangePasswordOnNextLogin","type","checkbox","name","ShouldChangePasswordOnNextLogin",1,"form-check-input",3,"ngModel","ngModelChange"],["id","CreateTenant_SendActivationEmail","type","checkbox","name","SendActivationEmail",1,"form-check-input",3,"ngModel","ngModelChange"],["id","CreateTenant_IsActive","type","checkbox","name","IsActive",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"buttonBusy","busyText","disabled"],[1,"fa","fa-save"],[1,"form-control-feedback"],["for","DatabaseConnectionString",1,"form-label","required"],["id","DatabaseConnectionString","type","text","name","ConnectionString","required","","maxlength","1024",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["connectionStringInput","ngModel"],["for","AdminPassword",1,"form-label"],["id","AdminPassword","type","password","name","adminPassword","id","adminPassword","validateEqual","adminPasswordRepeat","reverse","true","maxlength","32",1,"form-control",3,"ngModel","ngClass","required","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength","ngModelChange"],["adminPassword","ngModel"],[1,"help-block","text-danger"],["for","AdminPasswordRepeat"],["id","AdminPasswordRepeat","type","password","name","adminPasswordRepeat","validateEqual","adminPassword","maxlength","32",1,"form-control",3,"ngModel","ngClass","required","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength","ngModelChange"],["adminPasswordRepeat","ngModel"],[3,"value"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0,1),e.NdJ("onShown",function(){return n.onShown()}),e.TgZ(2,"div",2)(3,"div",3),e.YNc(4,te,110,109,"form",4),e.qZA()()()),2&i&&(e.Q6J("config",e.VKq(2,ne,!n.saving)),e.xp6(4),e.Q6J("ngIf",n.active))},dependencies:[u.mk,u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.JL,s.Q7,s.nD,s.c5,s.On,s.F,g.Np,g.Y5,z.z,O.J,A.L,q.s,w.s,M.Z,T.F],encapsulation:2})}return o})();const oe=["nameInput"],ae=["editModal"],se=["SubscriptionEndDateUtc"];function le(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",11)(1,"label",35),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.TgZ(4,"input",36,37),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.tenant.connectionString=n)}),e.qZA(),e._UZ(6,"validation-messages",15),e.qZA()}if(2&o){const t=e.MAs(5),i=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,3,"DatabaseConnectionString")),e.xp6(2),e.Q6J("ngModel",i.tenant.connectionString),e.xp6(2),e.Q6J("formCtrl",t)}}function re(o,c){1&o&&(e.TgZ(0,"div")(1,"span",38),e._uU(2),e.ALo(3,"localize"),e.qZA()()),2&o&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"TenantDatabaseConnectionStringChangeWarningMessage")," "))}function de(o,c){if(1&o&&(e.TgZ(0,"option",39),e._uU(1),e.qZA()),2&o){const t=c.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.displayText," ")}}const ce=function(o){return{edited:o}},pe=function(o){return{"has-error":o}},ue=function(){return{adaptivePosition:!0}};function me(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"form",5,6),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.save())}),e.TgZ(2,"div",7)(3,"h5",8)(4,"span"),e._uU(5),e.ALo(6,"localize"),e.qZA()(),e.TgZ(7,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.close())}),e.qZA()(),e.TgZ(8,"div",10)(9,"div",11)(10,"label",12),e._uU(11),e.ALo(12,"localize"),e.qZA(),e.TgZ(13,"input",13,14),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.tenant.name=n)}),e.qZA(),e._UZ(15,"validation-messages",15),e.qZA(),e.YNc(16,le,7,5,"div",16),e.YNc(17,re,4,3,"div",17),e.TgZ(18,"div",11)(19,"label",18),e._uU(20),e.ALo(21,"localize"),e.qZA(),e.TgZ(22,"select",19),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.tenant.editionId=n)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onEditionChange())}),e.YNc(23,de,2,2,"option",20),e.qZA()(),e.TgZ(24,"label",21)(25,"input",22),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.isUnlimited=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onUnlimitedChange())}),e.qZA(),e.TgZ(26,"span",23),e._uU(27),e.ALo(28,"localize"),e.qZA()(),e.TgZ(29,"div",24)(30,"label",25),e._uU(31),e.ALo(32,"localize"),e.qZA(),e.TgZ(33,"input",26,27),e.NdJ("dateChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.subscriptionEndDateChange(n))})("dateChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.tenant.subscriptionEndDateUtc=n)}),e.qZA()(),e.TgZ(35,"label",21)(36,"input",28),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.tenant.isInTrialPeriod=n)}),e.qZA(),e.TgZ(37,"span",23),e._uU(38),e.ALo(39,"localize"),e.qZA()(),e.TgZ(40,"label",29)(41,"input",30),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.tenant.isActive=n)}),e.qZA(),e.TgZ(42,"span",23),e._uU(43),e.ALo(44,"localize"),e.qZA()()(),e.TgZ(45,"div",31)(46,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.close())}),e._uU(47),e.ALo(48,"localize"),e.qZA(),e.TgZ(49,"button",33),e._UZ(50,"i",34),e.TgZ(51,"span"),e._uU(52),e.ALo(53,"localize"),e.qZA()()()()}if(2&o){const t=e.MAs(1),i=e.MAs(14),n=e.oxw();e.xp6(5),e.AsE("",e.lcZ(6,35,"EditTenant"),": ",n.tenant.tenancyName,""),e.xp6(2),e.Q6J("disabled",n.saving),e.uIk("aria-label",n.l("Close")),e.xp6(4),e.Oqu(e.lcZ(12,37,"TenantName")),e.xp6(2),e.Q6J("ngClass",e.VKq(53,ce,n.tenant.name))("ngModel",n.tenant.name),e.xp6(2),e.Q6J("formCtrl",i),e.xp6(1),e.Q6J("ngIf",n.currentConnectionString),e.xp6(1),e.Q6J("ngIf",n.currentConnectionString),e.xp6(3),e.Oqu(e.lcZ(21,39,"Edition")),e.xp6(2),e.Q6J("ngModel",n.tenant.editionId),e.xp6(1),e.Q6J("ngForOf",n.editions),e.xp6(1),e.Q6J("hidden",!n.isSubscriptionFieldsVisible),e.xp6(1),e.Q6J("ngModel",n.isUnlimited),e.xp6(2),e.hij(" ",e.lcZ(28,41,"UnlimitedTimeSubscription")," "),e.xp6(2),e.Q6J("hidden",n.isUnlimited||!n.isSubscriptionFieldsVisible)("ngClass",e.VKq(55,pe,!n.subscriptionEndDateUtcIsValid)),e.xp6(2),e.Oqu(e.lcZ(32,43,"SubscriptionEndDateUtc")),e.xp6(2),e.Q6J("date",n.tenant.subscriptionEndDateUtc)("isUtc",!0)("bsConfig",e.DdM(57,ue))("required",!n.isUnlimited),e.xp6(2),e.Q6J("hidden",n.isUnlimited||!n.isSubscriptionFieldsVisible),e.xp6(1),e.Q6J("disabled",n.selectedEditionIsFree())("ngModel",n.tenant.isInTrialPeriod),e.xp6(2),e.hij(" ",e.lcZ(39,45,"IsInTrialPeriod")," "),e.xp6(3),e.Q6J("ngModel",n.tenant.isActive),e.xp6(2),e.hij(" ",e.lcZ(44,47,"Active")," "),e.xp6(3),e.Q6J("disabled",n.saving),e.xp6(1),e.hij(" ",e.lcZ(48,49,"Cancel")," "),e.xp6(2),e.Q6J("buttonBusy",n.saving)("busyText",n.l("SavingWithThreeDot"))("disabled",!t.form.valid||n.saving||!n.subscriptionEndDateUtcIsValid),e.xp6(3),e.Oqu(e.lcZ(53,51,"Save"))}}const ge=function(o){return{backdrop:"static",keyboard:o}};let _e=(()=>{class o extends _.c{constructor(t,i,n,a){super(t),this._tenantService=i,this._commonLookupService=n,this._dateTimeService=a,this.modalSave=new e.vpe,this.active=!1,this.saving=!1,this.isUnlimited=!1,this.subscriptionEndDateUtcIsValid=!1,this.tenant=void 0,this.editions=[],this.isSubscriptionFieldsVisible=!1}show(t){this.active=!0,this._commonLookupService.getEditionsForCombobox(!1).subscribe(i=>{this.editions=i.items;let n=new p.EHF;n.displayText=this.l("NotAssigned"),n.value="",this.editions.unshift(n),this._tenantService.getTenantForEdit(t).subscribe(a=>{this.tenant=a,this.currentConnectionString=a.connectionString,this.tenant.editionId=this.tenant.editionId||0,this.isUnlimited=!this.tenant.subscriptionEndDateUtc,this.subscriptionEndDateUtcIsValid=this.isUnlimited||void 0!==this.tenant.subscriptionEndDateUtc,this.modal.show(),this.toggleSubscriptionFields()})})}onShown(){document.getElementById("Name").focus()}subscriptionEndDateChange(t){this.subscriptionEndDateUtcIsValid=t&&!1!==t.date||this.isUnlimited}selectedEditionIsFree(){if(!this.tenant.editionId)return!0;let t=(0,f.Z)(this.editions,{value:this.tenant.editionId+""});return 1!==t.length||t[0].isFree}save(){this.saving=!0,0===this.tenant.editionId&&(this.tenant.editionId=null),this.isUnlimited&&(this.tenant.isInTrialPeriod=!1),this.tenant.subscriptionEndDateUtc=this.isUnlimited||!this.tenant.editionId?null:this.tenant.subscriptionEndDateUtc.toLocal(),this._tenantService.updateTenant(this.tenant).pipe((0,h.x)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.modalSave.emit(null)})}close(){this.active=!1,this.modal.hide()}onEditionChange(){this.selectedEditionIsFree()&&(this.tenant.isInTrialPeriod=!1),this.toggleSubscriptionFields()}onUnlimitedChange(){this.isUnlimited?(this.tenant.subscriptionEndDateUtc=null,this.subscriptionEndDateUtcIsValid=!0,this.tenant.isInTrialPeriod=!1):this.tenant.subscriptionEndDateUtc||(this.subscriptionEndDateUtcIsValid=!1)}toggleSubscriptionFields(){this.isSubscriptionFieldsVisible=this.tenant.editionId>0}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.zs3),e.Y36(p.ANv),e.Y36(p.P0Z),e.Y36(b.C))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["editTenantModal"]],viewQuery:function(i,n){if(1&i&&(e.Gf(oe,7),e.Gf(ae,7),e.Gf(se,5)),2&i){let a;e.iGM(a=e.CRH())&&(n.nameInput=a.first),e.iGM(a=e.CRH())&&(n.modal=a.first),e.iGM(a=e.CRH())&&(n.subscriptionEndDateUtc=a.first)}},outputs:{modalSave:"modalSave"},features:[e.qOj],decls:5,vars:4,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","editModal","aria-hidden","true",1,"modal","fade",3,"config","onShown"],["editModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["role","form","novalidate","","class","form-validation",3,"submit",4,"ngIf"],["role","form","novalidate","",1,"form-validation",3,"submit"],["tenantEditForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],[1,"mb-5"],["for","Name",1,"form-label","required"],["id","Name","type","text","name","Name","required","","maxlength","128",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["nameInput","ngModel"],[3,"formCtrl"],["class","mb-5",4,"ngIf"],[4,"ngIf"],["for","edition",1,"form-label"],["id","edition","name","edition",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"form-check","form-check-custom","form-check-solid","py-1",3,"hidden"],["id","CreateTenant_IsUnlimited","type","checkbox","name","IsUnlimited",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],[1,"mb-5",3,"hidden","ngClass"],["for","SubscriptionEndDateUtc",1,"form-label"],["id","SubscriptionEndDateUtc","type","datetime","name","SubscriptionEndDateUtc","bsDatepicker","","datePickerLuxonModifier","",1,"form-control",3,"date","isUtc","bsConfig","required","dateChange"],["SubscriptionEndDateUtc",""],["id","CreateTenant_IsInTrialPeriod","type","checkbox","name","IsInTrialPeriod",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],[1,"form-check","form-check-custom","form-check-solid","py-1"],["id","EditTenant_IsActive","type","checkbox","name","IsActive",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"buttonBusy","busyText","disabled"],[1,"fa","fa-save"],["for","DatabaseConnectionString",1,"form-label","required"],["id","DatabaseConnectionString","type","text","name","ConnectionString","required","","maxlength","1024",1,"form-control",3,"ngModel","ngModelChange"],["connectionStringInput","ngModel"],[1,"help-block","text-warning"],[3,"value"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0,1),e.NdJ("onShown",function(){return n.onShown()}),e.TgZ(2,"div",2)(3,"div",3),e.YNc(4,me,54,58,"form",4),e.qZA()()()),2&i&&(e.Q6J("config",e.VKq(2,ge,!n.saving)),e.xp6(4),e.Q6J("ngIf",n.tenant&&n.active))},dependencies:[u.mk,u.sg,u.O5,s._Y,s.YN,s.Kr,s.Fj,s.Wl,s.EJ,s.JJ,s.JL,s.Q7,s.nD,s.On,s.F,g.Np,g.Y5,A.L,q.s,w.s,M.Z,T.F],encapsulation:2})}return o})();var he=r(39387),fe=r(74895);const Te=["tenantFeaturesModal"],Ce=["featureTree"];function be(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"form",5,6),e.NdJ("submit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.save())}),e.TgZ(2,"div",7)(3,"h4",8)(4,"span"),e._uU(5),e.ALo(6,"localize"),e.qZA()(),e.TgZ(7,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.close())}),e.qZA()(),e.TgZ(8,"div",10),e._UZ(9,"feature-tree",null,11),e.qZA(),e.TgZ(11,"div",12)(12,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.resetFeatures())}),e.ALo(13,"localize"),e.TgZ(14,"span"),e._uU(15),e.ALo(16,"localize"),e.qZA()(),e.TgZ(17,"button",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.close())}),e._uU(18),e.ALo(19,"localize"),e.qZA(),e.TgZ(20,"button",15),e._UZ(21,"i",16),e.TgZ(22,"span"),e._uU(23),e.ALo(24,"localize"),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(5),e.AsE("",e.lcZ(6,13,"Features")," - ",t.tenantName,""),e.xp6(7),e.s9C("tooltip",e.lcZ(13,15,"ResetFeaturesTooltip")),e.Q6J("disabled",t.saving)("buttonBusy",t.resettingFeatures)("busyText",t.l("SavingWithThreeDot")),e.xp6(3),e.Oqu(e.lcZ(16,17,"ResetSpecialFeatures")),e.xp6(2),e.Q6J("disabled",t.saving||t.resettingFeatures),e.xp6(1),e.hij(" ",e.lcZ(19,19,"Cancel")," "),e.xp6(2),e.Q6J("disabled",t.resettingFeatures)("buttonBusy",t.saving)("busyText",t.l("SavingWithThreeDot")),e.xp6(3),e.Oqu(e.lcZ(24,21,"Save"))}}const xe=function(){return{backdrop:"static"}};let Ze=(()=>{class o extends _.c{constructor(t,i){super(t),this._tenantService=i,this.active=!1,this.saving=!1,this.resettingFeatures=!1,this.featureEditData=null}show(t,i){this.tenantId=t,this.tenantName=i,this.active=!0,this.loadFeatures(),this.modal.show()}loadFeatures(){const t=this;t._tenantService.getTenantFeaturesForEdit(this.tenantId).subscribe(i=>{t.featureTree.editData=i})}save(){if(!this.featureTree.areAllValuesValid())return void this.message.warn(this.l("InvalidFeaturesWarning"));const t=new p.Qxy;t.id=this.tenantId,t.featureValues=this.featureTree.getGrantedFeatures(),this.saving=!0,this._tenantService.updateTenantFeatures(t).pipe((0,h.x)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close()})}resetFeatures(){const t=new p.KAE;t.id=this.tenantId,this.resettingFeatures=!0,this._tenantService.resetTenantSpecificFeatures(t).pipe((0,h.x)(()=>this.resettingFeatures=!1)).subscribe(()=>{this.notify.info(this.l("ResetSuccessfully")),this.loadFeatures()})}close(){this.active=!1,this.modal.hide()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.zs3),e.Y36(p.ANv))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["tenantFeaturesModal"]],viewQuery:function(i,n){if(1&i&&(e.Gf(Te,7),e.Gf(Ce,5)),2&i){let a;e.iGM(a=e.CRH())&&(n.modal=a.first),e.iGM(a=e.CRH())&&(n.featureTree=a.first)}},features:[e.qOj],decls:5,vars:3,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","tenantFeaturesModal","aria-hidden","true",1,"modal","fade",3,"config"],["tenantFeaturesModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["name","editTenantFeaturesForm","role","form","novalidate","","class","form-validation",3,"submit",4,"ngIf"],["name","editTenantFeaturesForm","role","form","novalidate","",1,"form-validation",3,"submit"],["editTenantFeaturesForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],["featureTree",""],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold","pull-left",3,"disabled","buttonBusy","busyText","tooltip","click"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"disabled","buttonBusy","busyText"],[1,"fa","fa-save"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),e.YNc(4,be,25,23,"form",4),e.qZA()()()),2&i&&(e.Q6J("config",e.DdM(2,xe)),e.xp6(4),e.Q6J("ngIf",n.active))},dependencies:[u.O5,s._Y,s.JL,s.F,A.L,M.Z,he.y,fe.i9,T.F],encapsulation:2})}return o})();var Ae=r(88922),Me=r(83410);const ve=["impersonateUserLookupModal"],ye=["createTenantModal"],qe=["editTenantModal"],we=["tenantFeaturesModal"],Se=["dataTable"],Ee=["paginator"],Ue=["entityTypeHistoryModal"];function Je(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.createTenant())}),e._UZ(1,"i",47),e.TgZ(2,"span",28),e._uU(3),e.ALo(4,"localize"),e.qZA()()}2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"CreateNewTenant")," "))}function Ie(o,c){1&o&&(e.TgZ(0,"tr")(1,"th",48),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.TgZ(4,"th",49),e._uU(5),e.ALo(6,"localize"),e._UZ(7,"p-sortIcon",50),e.qZA(),e.TgZ(8,"th",51),e._uU(9),e.ALo(10,"localize"),e._UZ(11,"p-sortIcon",52),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.ALo(14,"localize"),e.qZA(),e.TgZ(15,"th",53),e._uU(16),e.ALo(17,"localize"),e._UZ(18,"p-sortIcon",54),e.qZA(),e.TgZ(19,"th",55),e._uU(20),e.ALo(21,"localize"),e._UZ(22,"p-sortIcon",56),e.qZA(),e.TgZ(23,"th",57),e._uU(24),e.ALo(25,"localize"),e._UZ(26,"p-sortIcon",58),e.qZA()()),2&o&&(e.xp6(2),e.Oqu(e.lcZ(3,7,"Actions")),e.xp6(3),e.hij(" ",e.lcZ(6,9,"TenancyCodeName")," "),e.xp6(4),e.hij(" ",e.lcZ(10,11,"TenantName")," "),e.xp6(4),e.Oqu(e.lcZ(14,13,"Edition")),e.xp6(3),e.hij(" ",e.lcZ(17,15,"SubscriptionEndDateUtc")," "),e.xp6(4),e.hij(" ",e.lcZ(21,17,"Active")," "),e.xp6(4),e.hij(" ",e.lcZ(25,19,"CreationTime")," "))}function De(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li",71)(1,"a",72),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,a=e.oxw();return e.KtG(n.isActive&&a.showUserImpersonateLookUpModal(n))}),e._uU(2),e.ALo(3,"localize"),e.qZA()()}if(2&o){const t=e.oxw(2).$implicit;e.ekj("disabled",!t.isActive),e.xp6(1),e.ekj("disabled",!t.isActive),e.xp6(1),e.hij(" ",e.lcZ(3,5,"LoginAsThisTenant")," ")}}function Ne(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li",71)(1,"a",72),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;e.oxw();const a=e.MAs(66);return e.KtG(a.show(n.id))}),e._uU(2),e.ALo(3,"localize"),e.qZA()()}2&o&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Edit")," "))}function Le(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li",71)(1,"a",72),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;e.oxw();const a=e.MAs(68);return e.KtG(a.show(n.id,n.name))}),e._uU(2),e.ALo(3,"localize"),e.qZA()()}2&o&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Features")," "))}function Fe(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li",71)(1,"a",72),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.deleteTenant(n))}),e._uU(2),e.ALo(3,"localize"),e.qZA()()}2&o&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Delete")," "))}function Re(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"li",71)(1,"a",72),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.showHistory(n))}),e._uU(2),e.ALo(3,"localize"),e.qZA()()}2&o&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"History")," "))}function Pe(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"ul",68),e.YNc(1,De,4,7,"li",69),e.ALo(2,"permission"),e.YNc(3,Ne,4,3,"li",70),e.ALo(4,"permission"),e.YNc(5,Le,4,3,"li",70),e.ALo(6,"permission"),e.YNc(7,Fe,4,3,"li",70),e.ALo(8,"permission"),e.TgZ(9,"li",71)(10,"a",72),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,a=e.oxw();return e.KtG(a.unlockUser(n))}),e._uU(11),e.ALo(12,"localize"),e.qZA()(),e.YNc(13,Re,4,3,"li",70),e.qZA()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,6,"Pages.Tenants.Impersonation")),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,8,"Pages.Tenants.Edit")),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,10,"Pages.Tenants.ChangeFeatures")),e.xp6(2),e.Q6J("ngIf",e.lcZ(8,12,"Pages.Tenants.Delete")),e.xp6(4),e.hij(" ",e.lcZ(12,14,"Unlock")," "),e.xp6(2),e.Q6J("ngIf",t.entityHistoryEnabled)}}function He(o,c){1&o&&(e._UZ(0,"i",73),e.ALo(1,"localize")),2&o&&e.s9C("title",e.lcZ(1,1,"HasOwnDatabase"))}function Qe(o,c){1&o&&(e.TgZ(0,"span",74),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Yes")," "))}function ke(o,c){1&o&&(e.TgZ(0,"span",75),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No")," "))}function ze(o,c){if(1&o&&(e.TgZ(0,"tr")(1,"td",48)(2,"div",59)(3,"button",60),e._UZ(4,"i",61)(5,"span",62),e._uU(6),e.ALo(7,"localize"),e.qZA(),e.YNc(8,Pe,14,16,"ul",63),e.qZA()(),e.TgZ(9,"td")(10,"span",64),e._uU(11),e.ALo(12,"localize"),e.qZA(),e.YNc(13,He,2,3,"i",65),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"span",64),e._uU(17),e.ALo(18,"localize"),e.qZA(),e._uU(19),e.qZA(),e.TgZ(20,"td")(21,"span",64),e._uU(22),e.ALo(23,"localize"),e.qZA(),e._uU(24),e.qZA(),e.TgZ(25,"td")(26,"span",64),e._uU(27),e.ALo(28,"localize"),e.qZA(),e._uU(29),e.ALo(30,"luxonFormat"),e.qZA(),e.TgZ(31,"td")(32,"span",64),e._uU(33),e.ALo(34,"localize"),e.qZA(),e.YNc(35,Qe,3,3,"span",66),e.YNc(36,ke,3,3,"span",67),e.qZA(),e.TgZ(37,"td")(38,"span",64),e._uU(39),e.ALo(40,"localize"),e.qZA(),e._uU(41),e.ALo(42,"luxonFormat"),e.qZA()()),2&o){const t=c.$implicit;e.xp6(6),e.hij(" ",e.lcZ(7,15,"Actions")," "),e.xp6(5),e.Oqu(e.lcZ(12,17,"TenancyCodeName")),e.xp6(2),e.Q6J("ngIf",t.connectionString),e.xp6(1),e.hij(" ",t.tenancyName," "),e.xp6(3),e.Oqu(e.lcZ(18,19,"Name")),e.xp6(2),e.hij(" ",t.name," "),e.xp6(3),e.Oqu(e.lcZ(23,21,"Edition")),e.xp6(2),e.hij(" ",t.editionDisplayName," "),e.xp6(3),e.hij(" ",e.lcZ(28,23,"SubscriptionEndDateUtc")," "),e.xp6(2),e.hij(" ",t.subscriptionEndDateUtc?e.xi3(30,25,t.subscriptionEndDateUtc,"F"):"-"," "),e.xp6(4),e.Oqu(e.lcZ(34,28,"Active")),e.xp6(2),e.Q6J("ngIf",t.isActive),e.xp6(1),e.Q6J("ngIf",!t.isActive),e.xp6(3),e.Oqu(e.lcZ(40,30,"CreationTime")),e.xp6(2),e.hij(" ",e.xi3(42,32,t.creationTime,"F")," ")}}function Oe(o,c){1&o&&(e.TgZ(0,"div",76),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"NoData")," "))}const Ge=function(){return{"min-width":"50rem"}},je=[{path:"",component:(()=>{class o extends _.c{constructor(t,i,n,a,d,v){super(t),this._tenantService=i,this._activatedRoute=n,this._commonLookupService=a,this._impersonationService=d,this._dateTimeService=v,this.subscriptionDateRange=[this._dateTimeService.getStartOfDay(),this._dateTimeService.getEndOfDayPlusDays(30)],this.creationDateRange=[this._dateTimeService.getStartOfDay(),this._dateTimeService.getEndOfDay()],this._entityTypeFullName="Minimates.MultiTenancy.Tenant",this.entityHistoryEnabled=!1,this.filters={},this.setFiltersFromRoute()}setFiltersFromRoute(){null!=this._activatedRoute.snapshot.queryParams.subscriptionEndDateStart?(this.filters.subscriptionEndDateRangeActive=!0,this.subscriptionDateRange[0]=this._dateTimeService.fromISODateString(this._activatedRoute.snapshot.queryParams.subscriptionEndDateStart)):this.subscriptionDateRange[0]=this._dateTimeService.getStartOfDay(),null!=this._activatedRoute.snapshot.queryParams.subscriptionEndDateEnd?(this.filters.subscriptionEndDateRangeActive=!0,this.subscriptionDateRange[1]=this._dateTimeService.fromISODateString(this._activatedRoute.snapshot.queryParams.subscriptionEndDateEnd)):this.subscriptionDateRange[1]=this._dateTimeService.getEndOfDayPlusDays(30),null!=this._activatedRoute.snapshot.queryParams.creationDateStart?(this.filters.creationDateRangeActive=!0,this.creationDateRange[0]=this._dateTimeService.fromISODateString(this._activatedRoute.snapshot.queryParams.creationDateStart)):this.creationDateRange[0]=this._dateTimeService.getEndOfDayMinusDays(7),null!=this._activatedRoute.snapshot.queryParams.creationDateEnd?(this.filters.creationDateRangeActive=!0,this.creationDateRange[1]=this._dateTimeService.fromISODateString(this._activatedRoute.snapshot.queryParams.creationDateEnd)):this.creationDateRange[1]=this._dateTimeService.getEndOfDay(),null!=this._activatedRoute.snapshot.queryParams.editionId&&(this.filters.selectedEditionId=parseInt(this._activatedRoute.snapshot.queryParams.editionId))}ngOnInit(){this.filters.filterText=this._activatedRoute.snapshot.queryParams.filterText||"",this.setIsEntityHistoryEnabled(),this.impersonateUserLookupModal.configure({title:this.l("SelectAUser"),dataSource:(t,i,n,a)=>{let d=new p.MD_;return d.filter=n,d.maxResultCount=i,d.skipCount=t,d.tenantId=a,this._commonLookupService.findUsers(d)}})}getTenants(t){this.primengTableHelper.shouldResetPaging(t)&&(this.paginator.changePage(0),this.primengTableHelper.records&&this.primengTableHelper.records.length>0)||(this.primengTableHelper.showLoadingIndicator(),this._tenantService.getTenants(this.filters.filterText,this.filters.subscriptionEndDateRangeActive?this.subscriptionDateRange[0]:void 0,this.filters.subscriptionEndDateRangeActive?this.subscriptionDateRange[1].endOf("day"):void 0,this.filters.creationDateRangeActive?this.creationDateRange[0]:void 0,this.filters.creationDateRangeActive?this.creationDateRange[1].endOf("day"):void 0,this.filters.selectedEditionId,void 0!==this.filters.selectedEditionId&&this.filters.selectedEditionId+""!="-1",this.primengTableHelper.getSorting(this.dataTable),this.primengTableHelper.getMaxResultCount(this.paginator,t),this.primengTableHelper.getSkipCount(this.paginator,t)).pipe((0,h.x)(()=>this.primengTableHelper.hideLoadingIndicator())).subscribe(i=>{this.primengTableHelper.totalRecordsCount=i.totalCount,this.primengTableHelper.records=i.items,this.primengTableHelper.hideLoadingIndicator()}))}showUserImpersonateLookUpModal(t){abp.multiTenancy.getTenantIdCookie()?this.message.warn(this.l("YouAreNotLoggedInAsAHostUser")).then(()=>{document.location.reload()}):(this.impersonateUserLookupModal.tenantId=t.id,this.impersonateUserLookupModal.show())}unlockUser(t){this._tenantService.unlockTenantAdmin(new p.QJI({id:t.id})).subscribe(()=>{this.notify.success(this.l("UnlockedTenandAdmin",t.name))})}reloadPage(){this.paginator.changePage(this.paginator.getPage())}createTenant(){this.createTenantModal.show()}deleteTenant(t){this.message.confirm(this.l("TenantDeleteWarningMessage",t.tenancyName),this.l("AreYouSure"),i=>{i&&this._tenantService.deleteTenant(t.id).subscribe(()=>{this.reloadPage(),this.notify.success(this.l("SuccessfullyDeleted"))})})}showHistory(t){this.entityTypeHistoryModal.show({entityId:t.id.toString(),entityTypeFullName:this._entityTypeFullName,entityTypeDescription:t.tenancyName})}impersonateUser(t){this._impersonationService.impersonateTenant(t.id,this.impersonateUserLookupModal.tenantId)}setIsEntityHistoryEnabled(){let t=abp.custom;this.entityHistoryEnabled=t.EntityHistory&&t.EntityHistory.isEnabled&&1===(0,f.Z)(t.EntityHistory.enabledEntities,i=>i===this._entityTypeFullName).length}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.zs3),e.Y36(p.ANv),e.Y36(C.gz),e.Y36(p.P0Z),e.Y36(J.h),e.Y36(b.C))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["ng-component"]],viewQuery:function(i,n){if(1&i&&(e.Gf(ve,7),e.Gf(ye,7),e.Gf(qe,7),e.Gf(we,7),e.Gf(Se,7),e.Gf(Ee,7),e.Gf(Ue,7)),2&i){let a;e.iGM(a=e.CRH())&&(n.impersonateUserLookupModal=a.first),e.iGM(a=e.CRH())&&(n.createTenantModal=a.first),e.iGM(a=e.CRH())&&(n.editTenantModal=a.first),e.iGM(a=e.CRH())&&(n.tenantFeaturesModal=a.first),e.iGM(a=e.CRH())&&(n.dataTable=a.first),e.iGM(a=e.CRH())&&(n.paginator=a.first),e.iGM(a=e.CRH())&&(n.entityTypeHistoryModal=a.first)}},features:[e.qOj],decls:73,vars:55,consts:[[3,"title","description"],["role","actions"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","card-custom","gutter-b"],[1,"card-body"],[1,"form"],["autocomplete","new-password",3,"submit"],[1,"form-body"],[1,"row","mb-4"],[1,"col-xl-6"],["for","TenantNameOrTenancyCode",1,"form-label"],[1,"input-group"],["id","TenantNameOrTenancyCode","name","filterText","type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","submit",1,"btn","btn-primary"],[1,"flaticon-search-1"],["for","EditionDropdown",1,"form-label"],[3,"selectedEdition","selectedEditionChange"],[1,"form-check","form-check-solid","form-label","py-1","mb-1"],["id","TenantsTable_SubscriptionEndDateRangeActive","type","checkbox","name","SubscriptionEndDateRangeActive","value","true",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],["name","SubscriptionEndDateRange","bsDaterangepicker","","dateRangePickerLuxonModifier","",1,"form-control",3,"date","dateChange"],["drpSubscriptionEndDateRange","bsDaterangepicker"],["id","TenantsTable_CreationDateRangeActive","type","checkbox","name","CreationDateRangeActive","value","true",1,"form-check-input",3,"ngModel","ngModelChange"],["name","CreationDateRange","bsDaterangepicker","","dateRangePickerLuxonModifier","",1,"form-control",3,"date","dateChange"],["drpCreationDateRange","bsDaterangepicker"],[1,"col-xl-12","text-end"],["name","RefreshButton",1,"btn","btn-primary"],[1,"fa","fa-sync","btn-md-icon"],[1,"d-none","d-md-inline-block"],[1,"row","align-items-center"],[1,"col","primeng-datatable-container",3,"busyIf"],["sortMode","multiple",3,"value","rows","paginator","lazy","tableStyle","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"primeng-paging-container"],[3,"rows","totalRecords","rowsPerPageOptions","showCurrentPageReport","currentPageReportTemplate","onPageChange"],["paginator",""],[3,"modalSave"],["createTenantModal",""],["editTenantModal",""],["tenantFeaturesModal",""],[3,"itemSelected"],["impersonateUserLookupModal",""],["entityTypeHistoryModal",""],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus","btn-md-icon"],[2,"width","130px"],["pSortableColumn","tenancyName"],["field","tenancyName"],["pSortableColumn","name"],["field","name"],["pSortableColumn","subscriptionEndDateUtc"],["field","subscriptionEndDateUtc"],["pSortableColumn","isActive"],["field","isActive"],["pSortableColumn","creationTime"],["field","creationTime"],["dropdown","","placement","bottom left","container","body",1,"btn-group"],["id","dropdownButton","type","button","dropdownToggle","","aria-controls","dropdownMenu",1,"btn","btn-primary","btn-sm","dropdown-toggle"],[1,"fa","fa-cog"],[1,"caret"],["id","dropdownMenu","class","dropdown-menu","role","menu","aria-labelledby","dropdownButton",4,"dropdownMenu"],[1,"p-column-title"],["class","fa fa-database",3,"title",4,"ngIf"],["class","badge badge-success badge-inline",4,"ngIf"],["class","badge badge-dark badge-inline",4,"ngIf"],["id","dropdownMenu","role","menu","aria-labelledby","dropdownButton",1,"dropdown-menu"],["role","menuitem",3,"disabled",4,"ngIf"],["role","menuitem",4,"ngIf"],["role","menuitem"],["href","javascript:;",1,"dropdown-item",3,"click"],[1,"fa","fa-database",3,"title"],[1,"badge","badge-success","badge-inline"],[1,"badge","badge-dark","badge-inline"],[1,"primeng-no-data"]],template:function(i,n){1&i&&(e.TgZ(0,"div")(1,"sub-header",0),e.ALo(2,"localize"),e.ALo(3,"localize"),e.TgZ(4,"div",1),e.YNc(5,Je,5,3,"button",2),e.ALo(6,"permission"),e.qZA()(),e.TgZ(7,"div")(8,"div",3)(9,"div",4)(10,"div",5)(11,"form",6),e.NdJ("submit",function(){return n.getTenants()}),e.TgZ(12,"div",7)(13,"div",8)(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"localize"),e.qZA(),e.TgZ(18,"div",11)(19,"input",12),e.NdJ("ngModelChange",function(d){return n.filters.filterText=d}),e.ALo(20,"localize"),e.qZA(),e.TgZ(21,"button",13),e._UZ(22,"i",14),e.qZA()()(),e.TgZ(23,"div",9)(24,"label",15),e._uU(25),e.ALo(26,"localize"),e.qZA(),e.TgZ(27,"edition-combo",16),e.NdJ("selectedEditionChange",function(d){return n.filters.selectedEditionId=d}),e.qZA()()(),e.TgZ(28,"div",8)(29,"div",9)(30,"label",17)(31,"input",18),e.NdJ("ngModelChange",function(d){return n.filters.subscriptionEndDateRangeActive=d}),e.qZA(),e.TgZ(32,"span",19),e._uU(33),e.ALo(34,"localize"),e.qZA()(),e.TgZ(35,"input",20,21),e.NdJ("dateChange",function(d){return n.subscriptionDateRange=d}),e.qZA()(),e.TgZ(37,"div",9)(38,"label",17)(39,"input",22),e.NdJ("ngModelChange",function(d){return n.filters.creationDateRangeActive=d}),e.qZA(),e.TgZ(40,"span",19),e._uU(41),e.ALo(42,"localize"),e.qZA()(),e.TgZ(43,"input",23,24),e.NdJ("dateChange",function(d){return n.creationDateRange=d}),e.qZA()()(),e.TgZ(45,"div",8)(46,"div",25)(47,"button",26),e._UZ(48,"i",27),e.TgZ(49,"span",28),e._uU(50),e.ALo(51,"localize"),e.qZA()()()()()()(),e.TgZ(52,"div",29)(53,"div",30)(54,"p-table",31,32),e.NdJ("onLazyLoad",function(d){return n.getTenants(d)}),e.YNc(56,Ie,27,21,"ng-template",33),e.YNc(57,ze,43,35,"ng-template",34),e.qZA(),e.YNc(58,Oe,3,3,"div",35),e.TgZ(59,"div",36)(60,"p-paginator",37,38),e.NdJ("onPageChange",function(d){return n.getTenants(d)}),e.ALo(62,"localize"),e.qZA()()()()()()(),e.TgZ(63,"createTenantModal",39,40),e.NdJ("modalSave",function(){return n.getTenants()}),e.qZA(),e.TgZ(65,"editTenantModal",39,41),e.NdJ("modalSave",function(){return n.getTenants()}),e.qZA(),e._UZ(67,"tenantFeaturesModal",null,42),e.TgZ(69,"commonLookupModal",43,44),e.NdJ("itemSelected",function(d){return n.impersonateUser(d)}),e.qZA(),e._UZ(71,"entityTypeHistoryModal",null,45),e.qZA()),2&i&&(e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("title",e.lcZ(2,33,"Tenants"))("description",e.lcZ(3,35,"TenantsHeaderInfo")),e.xp6(4),e.Q6J("ngIf",e.lcZ(6,37,"Pages.Tenants.Create")),e.xp6(2),e.Tol(n.containerClass),e.xp6(9),e.hij(" ",e.lcZ(17,39,"TenantNameOrTenancyCode")," "),e.xp6(3),e.s9C("placeholder",e.lcZ(20,41,"SearchWithThreeDot")),e.Q6J("ngModel",n.filters.filterText),e.xp6(3),e.uIk("aria-label",n.l("Search")),e.xp6(3),e.Oqu(e.lcZ(26,43,"Edition")),e.xp6(2),e.Q6J("selectedEdition",n.filters.selectedEditionId),e.xp6(4),e.Q6J("ngModel",n.filters.subscriptionEndDateRangeActive),e.xp6(2),e.hij(" ",e.lcZ(34,45,"SubscriptionEndDate")," "),e.xp6(2),e.Q6J("date",n.subscriptionDateRange),e.uIk("disabled",n.filters.subscriptionEndDateRangeActive?null:"disabled"),e.xp6(4),e.Q6J("ngModel",n.filters.creationDateRangeActive),e.xp6(2),e.hij(" ",e.lcZ(42,47,"CreationTime")," "),e.xp6(2),e.Q6J("date",n.creationDateRange),e.uIk("disabled",n.filters.creationDateRangeActive?null:"disabled"),e.xp6(7),e.hij(" ",e.lcZ(51,49,"Refresh")," "),e.xp6(3),e.Q6J("busyIf",n.primengTableHelper.isLoading),e.xp6(1),e.s9C("rows",n.primengTableHelper.defaultRecordsCountPerPage),e.Q6J("value",n.primengTableHelper.records)("paginator",!1)("lazy",!0)("tableStyle",e.DdM(54,Ge)),e.xp6(4),e.Q6J("ngIf",0==n.primengTableHelper.totalRecordsCount),e.xp6(2),e.Q6J("rows",n.primengTableHelper.defaultRecordsCountPerPage)("totalRecords",n.primengTableHelper.totalRecordsCount)("rowsPerPageOptions",n.primengTableHelper.predefinedRecordsCountPerPage)("showCurrentPageReport",!0)("currentPageReportTemplate",e.xi3(62,51,"TotalRecordsCount",n.primengTableHelper.totalRecordsCount)))},dependencies:[u.O5,s._Y,s.Fj,s.Wl,s.JJ,s.JL,s.On,s.F,x.Hz,x.Mq,x.TO,g.FR,g.TB,I.s,D.A,N.U,L.t,Z.iA,F.jx,Z.lQ,Z.fz,R.D,Q,k.$,ie,_e,Ze,Ae.n,T.F,Me.a],encapsulation:2,data:{animation:[(0,U.MH)()]}})}return o})(),pathMatch:"full"}];let Ke=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({imports:[C.Bz.forChild(je),C.Bz]})}return o})(),Ye=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#n=this.\u0275inj=e.cJS({imports:[E.o,S.g,Ke]})}return o})()}}]);