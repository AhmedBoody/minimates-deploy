"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[89734],{89734:(w,d,i)=>{i.r(d),i.d(d,{LoginAttemptsModule:()=>D});var u=i(70916),T=i(47530),m=i(41840),A=i(64716),Z=i(90864),e=i(99468),L=i(58399),g=i(44328),h=i(96814),s=i(56223),f=i(53279),v=i(94901),b=i(81243),c=i(68027),C=i(85219),R=i(51712),y=i(68989);function _(n,p){if(1&n&&(e.TgZ(0,"option",2),e._uU(1),e.qZA()),2&n){const t=p.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.name," ")}}let x=(()=>{class n extends m.c{constructor(t){super(t),this.loginResultTypes=[],this.selectedLoginResultType=new s.p4(""),this.onTouched=()=>{}}ngOnInit(){this.loginResultTypes.push(new g.O46({name:this.l("All"),value:""}));for(const t in g.qy)"string"!=typeof g.qy[t]&&this.loginResultTypes.push(new g.O46({name:this.l("AbpLoginResultType_"+t),value:t}))}writeValue(t){this.selectedLoginResultType&&this.selectedLoginResultType.setValue(t)}registerOnChange(t){this.selectedLoginResultType.valueChanges.subscribe(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.selectedLoginResultType.disable():this.selectedLoginResultType.enable()}static#e=this.\u0275fac=function(l){return new(l||n)(e.Y36(e.zs3))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["login-result-type-combo"]],inputs:{defaultTimezoneScope:"defaultTimezoneScope"},features:[e._Bn([{provide:s.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}]),e.qOj],decls:2,vars:2,consts:[[1,"form-select",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(l,o){1&l&&(e.TgZ(0,"select",0),e.YNc(1,_,2,2,"option",1),e.qZA()),2&l&&(e.Q6J("formControl",o.selectedLoginResultType),e.xp6(1),e.Q6J("ngForOf",o.loginResultTypes))},dependencies:[h.sg,s.YN,s.Kr,s.EJ,s.JJ,s.oH],encapsulation:2})}return n})();var z=i(88922),U=i(3291);const S=["dataTable"],I=["paginator"];function J(n,p){1&n&&(e.TgZ(0,"tr")(1,"th",34),e._uU(2),e.ALo(3,"localize"),e._UZ(4,"p-sortIcon",35),e.qZA(),e.TgZ(5,"th",36),e._uU(6),e.ALo(7,"localize"),e._UZ(8,"p-sortIcon",37),e.qZA(),e.TgZ(9,"th",38),e._uU(10),e.ALo(11,"localize"),e._UZ(12,"p-sortIcon",39),e.qZA(),e.TgZ(13,"th",40),e._uU(14),e.ALo(15,"localize"),e._UZ(16,"p-sortIcon",41),e.qZA(),e.TgZ(17,"th",42),e._uU(18),e.ALo(19,"localize"),e._UZ(20,"p-sortIcon",43),e.qZA()()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,5,"IpAddress")," "),e.xp6(4),e.hij(" ",e.lcZ(7,7,"Client")," "),e.xp6(4),e.hij(" ",e.lcZ(11,9,"Browser")," "),e.xp6(4),e.hij(" ",e.lcZ(15,11,"Time")," "),e.xp6(4),e.hij(" ",e.lcZ(19,13,"Result")," "))}function O(n,p){if(1&n&&(e.TgZ(0,"span",47),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,"AbpLoginResultType_"+t.result)," ")}}function j(n,p){if(1&n&&(e.TgZ(0,"span",48),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,"AbpLoginResultType_"+t.result)," ")}}function H(n,p){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"span",44),e._uU(3),e.ALo(4,"localize"),e.qZA(),e._uU(5),e.qZA(),e.TgZ(6,"td")(7,"span",44),e._uU(8),e.ALo(9,"localize"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",44),e._uU(13),e.ALo(14,"localize"),e.qZA(),e._uU(15),e.qZA(),e.TgZ(16,"td")(17,"span",44),e._uU(18),e.ALo(19,"localize"),e.qZA(),e._uU(20),e.ALo(21,"luxonFormat"),e.qZA(),e.TgZ(22,"td")(23,"span",44),e._uU(24),e.ALo(25,"localize"),e.qZA(),e.YNc(26,O,3,3,"span",45),e.YNc(27,j,3,3,"span",46),e.qZA()()),2&n){const t=p.$implicit;e.xp6(3),e.Oqu(e.lcZ(4,11,"IpAddress")),e.xp6(2),e.hij(" ",t.clientIpAddress," "),e.xp6(3),e.Oqu(e.lcZ(9,13,"Client")),e.xp6(2),e.hij(" ",t.clientName," "),e.xp6(3),e.Oqu(e.lcZ(14,15,"Browser")),e.xp6(2),e.hij(" ",t.browserInfo," "),e.xp6(3),e.Oqu(e.lcZ(19,17,"Time")),e.xp6(2),e.hij(" ",e.xi3(21,19,t.creationTime,"F")," "),e.xp6(4),e.Oqu(e.lcZ(25,22,"Result")),e.xp6(2),e.Q6J("ngIf","Success"===t.result),e.xp6(1),e.Q6J("ngIf","Success"!==t.result)}}function F(n,p){1&n&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"NoData")," "))}const M=function(){return{"min-width":"50rem"}},P=[{path:"",component:(()=>{class n extends m.c{constructor(t,l,o){super(t),this._dateTimeService=l,this._userLoginService=o,this.dateRange=[this._dateTimeService.getStartOfWeek(),this._dateTimeService.getEndOfDay()],this.primengTableHelper=new Z.f}ngOnInit(){this.loginResultFilter=""}getLoginAttempts(t){this.primengTableHelper.showLoadingIndicator(),this._userLoginService.getUserLoginAttempts(this.filter,this._dateTimeService.getStartOfDayForDate(this.dateRange[0]),this._dateTimeService.getEndOfDayForDate(this.dateRange[1]),this.loginResultFilter,this.primengTableHelper.getSorting(this.dataTable),this.primengTableHelper.getMaxResultCount(this.paginator,t),this.primengTableHelper.getSkipCount(this.paginator,t)).pipe((0,A.x)(()=>this.primengTableHelper.hideLoadingIndicator())).subscribe(l=>{this.primengTableHelper.records=l.items,this.primengTableHelper.totalRecordsCount=l.totalCount,this.primengTableHelper.hideLoadingIndicator()})}static#e=this.\u0275fac=function(l){return new(l||n)(e.Y36(e.zs3),e.Y36(L.C),e.Y36(g.bfj))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(l,o){if(1&l&&(e.Gf(S,7),e.Gf(I,7)),2&l){let a;e.iGM(a=e.CRH())&&(o.dataTable=a.first),e.iGM(a=e.CRH())&&(o.paginator=a.first)}},features:[e.qOj],decls:51,vars:42,consts:[[3,"title","description"],[1,"card","card-custom"],[1,"card-body"],[1,"form"],[1,"row","align-items-center","mb-4"],[1,"col-md-12"],[1,"mb-5"],["for","LoginAttemptsFilter",1,"form-label"],[1,"input-group"],["type","text","id","LoginAttemptsFilter","value","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["id","GetLoginAttemptsButton",1,"btn","btn-primary",3,"click"],[1,"flaticon-search-1"],[1,"col-md-6"],["for","StartEndRange",1,"form-label"],["id","StartEndRange","name","StartEndRange","readonly","readonly","bsDaterangepicker","","dateRangePickerLuxonModifier","",1,"form-control",3,"date","dateChange"],["drp","bsDaterangepicker"],["for","LoginResultFilter",1,"form-label"],[3,"ngModel","ngModelChange"],[1,"row"],[1,"col-xl-12","text-end"],["name","RefreshButton",1,"btn","btn-primary",3,"click"],[1,"la","la-refresh","btn-md-icon"],[1,"d-none","d-md-inline-block"],[1,"row","align-items-center"],[1,"col","primeng-datatable-container",3,"busyIf"],["sortMode","multiple",3,"value","rows","paginator","lazy","tableStyle","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"primeng-paging-container"],[3,"rows","totalRecords","rowsPerPageOptions","showCurrentPageReport","currentPageReportTemplate","onPageChange"],["paginator",""],["pSortableColumn","clientIpAddress"],["field","clientIpAddress"],["pSortableColumn","clientName"],["field","clientName"],["pSortableColumn","browserInfo"],["field","browserInfo"],["pSortableColumn","creationTime"],["field","creationTime"],["pSortableColumn","result"],["field","result"],[1,"p-column-title"],["class","text-success",4,"ngIf"],["class","text-warning",4,"ngIf"],[1,"text-success"],[1,"text-warning"],[1,"primeng-no-data"]],template:function(l,o){1&l&&(e.TgZ(0,"div"),e._UZ(1,"sub-header",0),e.ALo(2,"localize"),e.ALo(3,"localize"),e.TgZ(4,"div")(5,"div",1)(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"div",6)(11,"label",7),e._uU(12),e.ALo(13,"localize"),e.qZA(),e.TgZ(14,"div",8)(15,"input",9),e.NdJ("ngModelChange",function(r){return o.filter=r}),e.qZA(),e.TgZ(16,"span",10)(17,"button",11),e.NdJ("click",function(){return o.getLoginAttempts()}),e._UZ(18,"i",12),e.qZA()()()()()(),e.TgZ(19,"div",4)(20,"div",13)(21,"div",6)(22,"label",14),e._uU(23),e.ALo(24,"localize"),e.qZA(),e.TgZ(25,"input",15,16),e.NdJ("dateChange",function(r){return o.dateRange=r}),e.qZA()()(),e.TgZ(27,"div",13)(28,"div",6)(29,"label",17),e._uU(30),e.ALo(31,"localize"),e.qZA(),e.TgZ(32,"login-result-type-combo",18),e.NdJ("ngModelChange",function(r){return o.loginResultFilter=r}),e.qZA()()()(),e.TgZ(33,"div",19)(34,"div",20)(35,"button",21),e.NdJ("click",function(){return o.getLoginAttempts()}),e._UZ(36,"i",22),e.TgZ(37,"span",23),e._uU(38),e.ALo(39,"localize"),e.qZA()()()()(),e.TgZ(40,"div",24)(41,"div",25)(42,"p-table",26,27),e.NdJ("onLazyLoad",function(r){return o.getLoginAttempts(r)}),e.YNc(44,J,21,15,"ng-template",28),e.YNc(45,H,28,24,"ng-template",29),e.qZA(),e.YNc(46,F,3,3,"div",30),e.TgZ(47,"div",31)(48,"p-paginator",32,33),e.NdJ("onPageChange",function(r){return o.getLoginAttempts(r)}),e.ALo(50,"localize"),e.qZA()()()()()()()()),2&l&&(e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("title",e.lcZ(2,26,"LoginAttempts"))("description",e.lcZ(3,28,"LoginAttemptsHeaderInfo")),e.xp6(3),e.Tol(o.containerClass),e.xp6(8),e.hij(" ",e.lcZ(13,30,"Filter")," "),e.xp6(3),e.Q6J("ngModel",o.filter),e.uIk("placeholder",o.l("SearchWithThreeDot")),e.xp6(3),e.uIk("aria-label",o.l("Search")),e.xp6(5),e.Oqu(e.lcZ(24,32,"DateRange")),e.xp6(2),e.Q6J("date",o.dateRange),e.xp6(5),e.hij(" ",e.lcZ(31,34,"Result")," "),e.xp6(2),e.Q6J("ngModel",o.loginResultFilter),e.xp6(6),e.hij(" ",e.lcZ(39,36,"Refresh")," "),e.xp6(3),e.Q6J("busyIf",o.primengTableHelper.isLoading),e.xp6(1),e.s9C("rows",o.primengTableHelper.defaultRecordsCountPerPage),e.Q6J("value",o.primengTableHelper.records)("paginator",!1)("lazy",!0)("tableStyle",e.DdM(41,M)),e.xp6(4),e.Q6J("ngIf",0==o.primengTableHelper.totalRecordsCount),e.xp6(2),e.Q6J("rows",o.primengTableHelper.defaultRecordsCountPerPage)("totalRecords",o.primengTableHelper.totalRecordsCount)("rowsPerPageOptions",o.primengTableHelper.predefinedRecordsCountPerPage)("showCurrentPageReport",!0)("currentPageReportTemplate",e.xi3(50,38,"TotalRecordsCount",o.primengTableHelper.totalRecordsCount)))},dependencies:[h.O5,s.Fj,s.JJ,s.On,f.FR,f.TB,v.U,b.t,c.iA,C.jx,c.lQ,c.fz,R.D,y.$,x,z.n,U.F],encapsulation:2,data:{animation:[(0,T.MH)()]}})}return n})(),pathMatch:"full"}];let q=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[u.Bz.forChild(P),u.Bz]})}return n})();var N=i(71902),Q=i(92337);let D=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[Q.o,N.g,q]})}return n})()}}]);