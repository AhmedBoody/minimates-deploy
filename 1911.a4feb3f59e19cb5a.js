"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[1911],{55507:(mi,Yt,R)=>{R.d(Yt,{t:()=>n});let n=(()=>{class v{static#t=this.widgets={tenant:{profitShare:"Widgets_Tenant_ProfitShare",memberActivity:"Widgets_Tenant_MemberActivity",regionalStats:"Widgets_Tenant_RegionalStats",salesSummary:"Widgets_Tenant_SalesSummary",topStats:"Widgets_Tenant_TopStats",generalStats:"Widgets_Tenant_GeneralStats",dailySales:"Widgets_Tenant_DailySales"},host:{topStats:"Widgets_Host_TopStats",incomeStatistics:"Widgets_Host_IncomeStatistics",editionStatistics:"Widgets_Host_EditionStatistics",subscriptionExpiringTenants:"Widgets_Host_SubscriptionExpiringTenants",recentTenants:"Widgets_Host_RecentTenants"}};static#e=this.filters={filterDateRangePicker:"Filters_DateRangePicker"};static#i=this.dashboardNames={defaultTenantDashboard:"TenantDashboard",defaultHostDashboard:"HostDashboard"};static#n=this.Applications={Angular:"Angular"}}return v})()},84448:(mi,Yt,R)=>{R.d(Yt,{OE:()=>yi,Lb:()=>_i});var n=R(99468),v=R(41840),et=R(47530),rt=R(44328),ht=R(55507),K=R(15673),o=R(78645),N=R(9315),H=R(82296),st=R(81666),q=R(96814),gt=R(56223),Ut=R(35024),$t=R(72500),re=R(612),ge=R(80890),ue=R(24142),wt=R(68989),ot=R(32925),Fe=R(3291);const ft=["addWidgetModal"];function Et(F,yt){if(1&F&&(n.TgZ(0,"option",18),n._uU(1),n.ALo(2,"localize"),n.qZA()),2&F){const A=yt.$implicit;n.Q6J("value",A.id),n.xp6(1),n.hij(" ",n.lcZ(2,2,A.name)," ")}}function Te(F,yt){if(1&F){const A=n.EpF();n.TgZ(0,"div",15)(1,"select",16),n.NdJ("ngModelChange",function(y){n.CHM(A);const h=n.oxw();return n.KtG(h.selectedWidgetId=y)}),n.YNc(2,Et,3,4,"option",17),n.qZA()()}if(2&F){const A=n.oxw();n.xp6(1),n.Q6J("ngModel",A.selectedWidgetId),n.xp6(1),n.Q6J("ngForOf",A.widgets)}}function pi(F,yt){1&F&&(n.TgZ(0,"div",15),n._uU(1),n.ALo(2,"localize"),n.qZA()),2&F&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"NoWidgetAvailableMessage")," "))}const At=function(){return{backdrop:"static"}};let fi=(()=>{class F extends v.c{constructor(A,I){super(A),this._dashboardCustomizationServiceProxy=I,this.onClose=new n.vpe,this.saving=!1}close(){this.onClose.emit(),this.hide()}save(){this.onClose.emit(this.selectedWidgetId),this.hide()}show(A,I){this._dashboardCustomizationServiceProxy.getAllAvailableWidgetDefinitionsForPage(A,ht.t.Applications.Angular,I).subscribe(y=>{this.widgets=y,this.selectedWidgetId=this.widgets&&this.widgets.length?this.widgets[0].id:null,this.modal.show()})}hide(){this.modal.hide()}static#t=this.\u0275fac=function(I){return new(I||F)(n.Y36(n.zs3),n.Y36(rt.hTT))};static#e=this.\u0275cmp=n.Xpm({type:F,selectors:[["add-widget-modal"]],viewQuery:function(I,y){if(1&I&&n.Gf(ft,7),2&I){let h;n.iGM(h=n.CRH())&&(y.modal=h.first)}},outputs:{onClose:"onClose"},features:[n.qOj],decls:24,vars:16,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade",3,"config"],["addWidgetModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[3,"ngSubmit"],["addWidgetModalForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["class","mb-5",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"disabled"],[1,"fa","fa-save"],[1,"mb-5"],["autoFocus","","size","1","name","selectedWidget",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(I,y){1&I&&(n.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"form",4,5),n.NdJ("ngSubmit",function(){return y.save()}),n.TgZ(6,"div",6)(7,"h5",7)(8,"span"),n._uU(9),n.ALo(10,"localize"),n.qZA()(),n.TgZ(11,"button",8),n.NdJ("click",function(){return y.close()}),n.qZA()(),n.TgZ(12,"div",9),n.YNc(13,Te,3,2,"div",10),n.YNc(14,pi,3,3,"div",10),n.qZA(),n.TgZ(15,"div",11)(16,"button",12),n.NdJ("click",function(){return y.close()}),n._uU(17),n.ALo(18,"localize"),n.qZA(),n.TgZ(19,"button",13),n._UZ(20,"i",14),n.TgZ(21,"span"),n._uU(22),n.ALo(23,"localize"),n.qZA()()()()()()()),2&I&&(n.Q6J("config",n.DdM(15,At)),n.xp6(9),n.Oqu(n.lcZ(10,9,"AddWidget")),n.xp6(2),n.uIk("aria-label",y.l("Close")),n.xp6(2),n.Q6J("ngIf",y.widgets&&y.widgets.length>0),n.xp6(1),n.Q6J("ngIf",!y.widgets||0==y.widgets.length),n.xp6(2),n.Q6J("disabled",y.saving),n.xp6(1),n.hij(" ",n.lcZ(18,11,"Cancel")," "),n.xp6(2),n.Q6J("disabled",y.saving),n.xp6(3),n.Oqu(n.lcZ(23,13,"Save")))},dependencies:[q.sg,q.O5,gt._Y,gt.YN,gt.Kr,gt.EJ,gt.JJ,gt.JL,gt.On,gt.F,ot.h,ue.Z,Fe.F]})}return F})();const ti=["addWidgetModal"],ei=["dashboardTabs"],ii=["filterModal"],ni=["dropdownRenamePage"],be=["dropdownAddPage"];function oe(F,yt){if(1&F){const A=n.EpF();n.TgZ(0,"button",18),n.NdJ("click",function(){n.CHM(A),n.oxw();const y=n.MAs(14);return n.KtG(y.show())}),n._UZ(1,"i",19),n._uU(2),n.ALo(3,"localize"),n.qZA()}2&F&&(n.xp6(2),n.hij(" ",n.lcZ(3,1,"Filter")," "))}function si(F,yt){1&F&&(n.TgZ(0,"div",21)(1,"div",27)(2,"div",28),n._uU(3),n.ALo(4,"localize"),n.qZA()()()),2&F&&(n.xp6(3),n.hij(" ",n.lcZ(4,1,"Dashboard_NoPageDefined_Warning")," "))}function Rt(F,yt){1&F&&n.GkF(0)}function me(F,yt){if(1&F){const A=n.EpF();n.TgZ(0,"button",35),n.NdJ("click",function(){n.CHM(A);const y=n.oxw().$implicit,h=n.oxw(3);return n.KtG(h.removeItem(y.gridInformation))}),n._UZ(1,"i",36),n.qZA()}}function Zt(F,yt){if(1&F){const A=n.EpF();n.TgZ(0,"gridster-item",32),n.NdJ("itemResize",function(){const h=n.CHM(A).$implicit,d=n.oxw(3);return n.KtG(d.onGridSterItemResize(h))}),n.YNc(1,Rt,1,0,"ng-container",33),n.YNc(2,me,2,0,"button",34),n.qZA()}if(2&F){const A=yt.$implicit,I=n.oxw(3);n.Q6J("item",A.gridInformation),n.xp6(1),n.Q6J("ngComponentOutlet",A.component)("ngComponentOutletInjector",I.widgetSubjects[A.guid].injector),n.xp6(1),n.Q6J("ngIf",I.editModeEnabled)}}const pe=function(){return{wheelPropagation:!1}},Ee=function(F){return{"no-tab":F}};function Ie(F,yt){if(1&F){const A=n.EpF();n.TgZ(0,"tab",29),n.NdJ("selectTab",function(){const h=n.CHM(A).$implicit,d=n.oxw(2);return n.KtG(d.selectPageTab(h.id))}),n.TgZ(1,"gridster",30),n.YNc(2,Zt,3,4,"gridster-item",31),n.qZA()()}if(2&F){const A=yt.$implicit,I=yt.index,y=n.oxw(2);n.s9C("heading",A.name),n.xp6(1),n.Q6J("options",y.options[I])("perfectScrollOptions",n.DdM(5,pe))("ngClass",n.VKq(6,Ee,!y.moreThanOnePage())),n.xp6(1),n.Q6J("ngForOf",A.widgets)}}function Pe(F,yt){if(1&F){const A=n.EpF();n.TgZ(0,"ul",58)(1,"li",59)(2,"div",60)(3,"label",61),n._uU(4),n.ALo(5,"localize"),n.qZA(),n.TgZ(6,"input",62),n.NdJ("ngModelChange",function(y){n.CHM(A);const h=n.oxw(3);return n.KtG(h.addPageInput=y)}),n.qZA()(),n.TgZ(7,"button",63),n.NdJ("click",function(){n.CHM(A);const y=n.oxw(3);return n.KtG(y.addNewPage(y.addPageInput))}),n._uU(8),n.ALo(9,"localize"),n.qZA()()()}if(2&F){const A=n.oxw(3);n.xp6(4),n.Oqu(n.lcZ(5,3,"NewPageName")),n.xp6(2),n.Q6J("ngModel",A.addPageInput),n.xp6(2),n.hij(" ",n.lcZ(9,5,"Save")," ")}}function Ce(F,yt){if(1&F){const A=n.EpF();n.TgZ(0,"ul",64)(1,"li",59)(2,"div",60)(3,"label",61),n._uU(4),n.ALo(5,"localize"),n.qZA(),n.TgZ(6,"input",65),n.NdJ("ngModelChange",function(y){n.CHM(A);const h=n.oxw(3);return n.KtG(h.renamePageInput=y)}),n.qZA()(),n.TgZ(7,"button",63),n.NdJ("click",function(){n.CHM(A);const y=n.oxw(3);return n.KtG(y.renamePage(y.renamePageInput))}),n._uU(8),n.ALo(9,"localize"),n.qZA()()()}if(2&F){const A=n.oxw(3);n.xp6(4),n.Oqu(n.lcZ(5,4,"PageNewName")),n.xp6(2),n.s9C("placeholder",A.selectedPage.name),n.Q6J("ngModel",A.renamePageInput),n.xp6(2),n.hij(" ",n.lcZ(9,6,"Save")," ")}}function fe(F,yt){1&F&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"localize"),n.qZA()),2&F&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"DeletePage")," "))}function xe(F,yt){1&F&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"localize"),n.qZA()),2&F&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"BackToDefaultPage")," "))}function ai(F,yt){1&F&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"localize"),n.qZA()),2&F&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"BackToDefaultPage")," "))}function Ve(F,yt){if(1&F){const A=n.EpF();n.TgZ(0,"div",37)(1,"div",38)(2,"button",39),n.NdJ("click",function(){n.CHM(A);const y=n.oxw(2);return n.KtG(y.openAddWidgetModal())}),n._UZ(3,"i",40),n._uU(4),n.ALo(5,"localize"),n.qZA(),n._uU(6," \xa0 "),n.qZA(),n.TgZ(7,"div",41)(8,"div",42,43),n.NdJ("onShown",function(){n.CHM(A);const y=n.oxw(2);return n.KtG(y.addPageDropdownShown())}),n.TgZ(10,"button",44),n._UZ(11,"i",40),n._uU(12),n.ALo(13,"localize"),n._UZ(14,"span",45),n.qZA(),n.YNc(15,Pe,10,7,"ul",46),n.qZA(),n.TgZ(16,"div",47,48),n.NdJ("onShown",function(){n.CHM(A);const y=n.oxw(2);return n.KtG(y.renamePageDropdownShown())}),n.TgZ(18,"button",49),n._UZ(19,"i",50),n._uU(20),n.ALo(21,"localize"),n._UZ(22,"span",45),n.qZA(),n.YNc(23,Ce,10,8,"ul",51),n.qZA(),n.TgZ(24,"button",52),n.NdJ("click",function(){n.CHM(A);const y=n.oxw(2);return n.KtG(y.deletePage())}),n._UZ(25,"i",53),n.YNc(26,fe,3,3,"span",54),n.YNc(27,xe,3,3,"span",54),n.YNc(28,ai,3,3,"span",54),n.qZA(),n._uU(29," \xa0 "),n.qZA(),n.TgZ(30,"div",55)(31,"button",56),n.NdJ("click",function(){n.CHM(A);const y=n.oxw(2);return n.KtG(y.savePage())}),n._UZ(32,"i",57),n._uU(33),n.ALo(34,"localize"),n.qZA()()()}if(2&F){const A=n.oxw(2);n.xp6(2),n.Q6J("disabled",""===A.selectedPage.id),n.xp6(2),n.hij(" ",n.lcZ(5,14,"AddWidget")," "),n.xp6(4),n.Q6J("dropup",!0)("insideClick",!0),n.xp6(4),n.hij(" ",n.lcZ(13,16,"AddPage")," "),n.xp6(4),n.Q6J("dropup",!0)("insideClick",!0)("isDisabled",""===A.selectedPage.id),n.xp6(4),n.hij(" ",n.lcZ(21,18,"RenamePage")," "),n.xp6(4),n.Q6J("disabled",""===A.selectedPage.id),n.xp6(2),n.Q6J("ngIf",A.userDashboard&&A.userDashboard.pages.length>1),n.xp6(1),n.Q6J("ngIf",A.userDashboard&&1==A.userDashboard.pages.length),n.xp6(1),n.Q6J("ngIf",!A.userDashboard||0==A.userDashboard.pages.length),n.xp6(5),n.hij(" ",n.lcZ(34,20,"Save")," ")}}const Oe=function(F){return{"nav-hidden":F}},ri=function(){return[]};function oi(F,yt){if(1&F&&(n.TgZ(0,"div"),n.YNc(1,si,5,3,"div",20),n.TgZ(2,"div",21)(3,"div",22)(4,"tabset",23,24),n.YNc(6,Ie,3,8,"tab",25),n.qZA()(),n.YNc(7,Ve,35,22,"div",26),n.qZA()()),2&F){const A=n.oxw();n.Tol(A.containerClass),n.xp6(1),n.Q6J("ngIf",!(null!=A.userDashboard&&null!=A.userDashboard.pages&&A.userDashboard.pages.length)),n.xp6(3),n.Q6J("justified",!1)("ngClass",n.VKq(7,Oe,!A.moreThanOnePage())),n.xp6(2),n.Q6J("ngForOf",(null==A.userDashboard?null:A.userDashboard.pages)||n.DdM(9,ri)),n.xp6(1),n.Q6J("ngIf",A.editModeEnabled)}}function li(F,yt){if(1&F){const A=n.EpF();n.TgZ(0,"add-widget-modal",66,67),n.NdJ("onClose",function(y){n.CHM(A);const h=n.oxw();return n.KtG(h.addWidget(y))}),n.qZA()}}function xi(F,yt){1&F&&n.GkF(0)}function Pi(F,yt){1&F&&n._UZ(0,"hr")}function Oi(F,yt){if(1&F&&(n.TgZ(0,"div")(1,"div",21)(2,"h6",70),n._uU(3),n.ALo(4,"localize"),n.qZA(),n.TgZ(5,"div",27),n.YNc(6,xi,1,0,"ng-container",71),n.qZA()(),n.YNc(7,Pi,1,0,"hr",54),n.qZA()),2&F){const A=yt.$implicit,I=yt.index,y=n.oxw(2);n.xp6(3),n.Oqu(n.lcZ(4,3,A.name)),n.xp6(3),n.Q6J("ngComponentOutlet",A.component),n.xp6(1),n.Q6J("ngIf",I!=y.userDashboard.filters.length-1)}}function Gt(F,yt){if(1&F&&(n.TgZ(0,"div",68),n.YNc(1,Oi,8,5,"div",69),n.qZA()),2&F){const A=n.oxw();n.xp6(1),n.Q6J("ngForOf",A.userDashboard.filters)}}const _i=new n.OlP("WidgetOnResizeEventHandlerToken");let vi=(()=>{class F{constructor(){this.onResize=new o.x}static#t=this.\u0275fac=function(I){return new(I||F)};static#e=this.\u0275prov=n.Yz7({token:F,factory:F.\u0275fac})}return F})(),yi=(()=>{class F extends v.c{constructor(A,I,y,h){super(A),this._injector=A,this._dashboardViewConfiguration=I,this._dashboardCustomizationServiceProxy=y,this._guidGenerator=h,this.loading=!0,this.busy=!0,this.editModeEnabled=!1,this.options=[],this.selectedPage={id:"",name:""},this.renamePageInput="",this.addPageInput="",this.widgetSubjects={},this.onMenuToggle=()=>{this.refreshAllGrids()}}ngOnInit(){this.loading=!0,(0,N.D)([this._dashboardCustomizationServiceProxy.getUserDashboard(this.dashboardName,ht.t.Applications.Angular),this._dashboardCustomizationServiceProxy.getDashboardDefinition(this.dashboardName,ht.t.Applications.Angular)]).subscribe(([A,I])=>(this.dashboardDefinition=I,this.dashboardDefinition.widgets&&0!==this.dashboardDefinition.widgets.length&&A.pages&&0!==A.pages.length?(this.initializeUserDashboardDefinition(A,I),this.initializeUserDashboardFilters(),this.userDashboard.pages?.length&&(this.selectedPage={id:this.userDashboard.pages[0].id,name:this.userDashboard.pages[0].name}),this.loading=!1,void(this.busy=!1)):(this.loading=!1,void(this.busy=!1)))),this.subscribeToEvent("app.kt_aside_toggler.onClick",this.onMenuToggle)}initializeUserDashboardDefinition(A,I){this.userDashboard={dashboardName:this.dashboardName,filters:[],pages:A.pages.map(y=>(this.options.push(this.getGridsterConfig()),y.widgets?(y.widgets=y.widgets.filter(h=>I.widgets.find(d=>d.id===h.widgetId)&&this.getWidgetViewDefinition(h.widgetId)),{id:y.id,name:y.name,widgets:y.widgets.map(h=>({id:h.widgetId,guid:this._guidGenerator.guid(),component:this.getWidgetViewDefinition(h.widgetId).component,gridInformation:{id:h.widgetId,cols:h.width,rows:h.height,x:h.positionX,y:h.positionY}}))}):{id:y.id,name:y.name,widgets:[]}))},this.createWidgetSubjects()}removeItem(A){let I=this.userDashboard.pages.find(d=>d.id===this.selectedPage.id),y=I.widgets.find(d=>d.id===A.id),h=this.dashboardDefinition.widgets.find(d=>d.id===A.id);!y||!h||this.message.confirm(this.l("WidgetDeleteWarningMessage",this.l(h.name),this.selectedPage.name),this.l("AreYouSure"),d=>{d&&I.widgets.splice(I.widgets.indexOf(y),1)})}addWidget(A){if(!A)return;let I=this._dashboardViewConfiguration.WidgetViewDefinitions.find(y=>y.id===A);I?(this.busy=!0,this._dashboardCustomizationServiceProxy.addWidget(new rt.z8o({widgetId:A,pageId:this.selectedPage.id,dashboardName:this.dashboardName,width:I.defaultWidth,height:I.defaultHeight,application:ht.t.Applications.Angular})).subscribe(y=>{const h={id:A,guid:this._guidGenerator.guid(),component:I.component,gridInformation:{id:A,cols:y.width,rows:y.height,x:y.positionX,y:y.positionY}};this.userDashboard.pages.find(d=>d.id===this.selectedPage.id).widgets.push(h),this.createWidgetSubject(h.guid),this.initializeUserDashboardFilters(),this.busy=!1,this.notify.success(this.l("SavedSuccessfully"))})):abp.notify.error(this.l("ThereIsNoViewConfigurationForX",A))}changeEditMode(){this.editModeEnabled=!this.editModeEnabled,this.refreshAllGrids()}refreshAllGrids(){this.options&&this.options.forEach(A=>{A.draggable.enabled=this.editModeEnabled,A.resizable.enabled=this.editModeEnabled,A.api.optionsChanged()})}openAddWidgetModal(){this.userDashboard.pages.find(I=>I.id===this.selectedPage.id)&&this.addWidgetModal.show(this.dashboardName,this.selectedPage.id)}addNewPage(A){A&&""!==A.trim()?(A=A.trim(),this.busy=!0,this._dashboardCustomizationServiceProxy.addNewPage(new rt.Zqn({dashboardName:this.dashboardName,name:A,application:ht.t.Applications.Angular})).subscribe(I=>{this.options.push(this.getGridsterConfig()),this.userDashboard.pages.push({id:I.pageId,name:A,widgets:[]}),this.busy=!1,this.notify.success(this.l("SavedSuccessfully")),""===this.selectedPage.id&&this.selectPageTab(I.pageId)}),this.dropdownAddPage.hide()):this.notify.warn(this.l("PageNameCanNotBeEmpty"))}selectPageTab(A){A?(this.selectedPage={id:A,name:this.userDashboard.pages.find(I=>I.id===A).name},this.options.forEach(I=>{I.api&&I.api.optionsChanged()})):this.selectedPage={id:"",name:""}}renamePage(A){if(!A||""===A)return void this.notify.warn(this.l("PageNameCanNotBeEmpty"));A=A.trim(),this.busy=!0;let I=this.selectedPage.id;this._dashboardCustomizationServiceProxy.renamePage(new rt.A6Z({dashboardName:this.dashboardName,id:I,name:A,application:ht.t.Applications.Angular})).subscribe(()=>{this.userDashboard.pages.find(h=>h.id===I).name=A,this.notify.success(this.l("Renamed")),this.busy=!1}),this.dropdownRenamePage.hide()}deletePage(){let A=this.l(this.userDashboard.pages.length>1?"PageDeleteWarningMessage":"BackToDefaultPageWarningMessage",this.selectedPage.name);this.message.confirm(A,this.l("AreYouSure"),I=>{I&&(this.busy=!0,this._dashboardCustomizationServiceProxy.deletePage(this.selectedPage.id,this.dashboardName,ht.t.Applications.Angular).subscribe(()=>{let y=this.userDashboard.pages.find(h=>h.id===this.selectedPage.id);this.options.pop(),this.userDashboard.pages.splice(this.userDashboard.pages.indexOf(y),1),this.activateFirstPage(),this.busy=!1,this.notify.success(this.l("SuccessfullyRemoved")),0===this.userDashboard.pages.length&&window.location.reload()}))})}activateFirstPage(){this.userDashboard.pages[0]?(setTimeout(()=>{this.dashboardTabs.tabs[0].active=!0},0),this.selectPageTab(this.userDashboard.pages[0].id),this.initializeUserDashboardFilters()):this.selectPageTab(null)}savePage(){this.busy=!0;let A=new rt.RDD({dashboardName:this.dashboardName,pages:this.userDashboard.pages.map(I=>new rt.T3C({id:I.id,name:I.name,widgets:I.widgets.map(y=>new rt.$LY({widgetId:y.gridInformation.id,height:y.gridInformation.rows,width:y.gridInformation.cols,positionX:y.gridInformation.x,positionY:y.gridInformation.y}))})),application:ht.t.Applications.Angular});this._dashboardCustomizationServiceProxy.savePage(A).subscribe(()=>{this.changeEditMode(),this.initializeUserDashboardFilters(),this.busy=!1,this.notify.success(this.l("SavedSuccessfully")),window.location.reload()})}moreThanOnePage(){return this.userDashboard&&this.userDashboard.pages&&this.userDashboard.pages.length>1}close(){this.modal.hide()}addPageDropdownShown(){this.addPageInput=""}renamePageDropdownShown(){this.renamePageInput=""}getWidgetViewDefinition(A){return this._dashboardViewConfiguration.WidgetViewDefinitions.find(I=>I.id===A)}getWidgetFilterViewDefinition(A){return this._dashboardViewConfiguration.widgetFilterDefinitions.find(I=>I.id===A)}initializeUserDashboardFilters(){let A=[];this.dashboardDefinition.widgets.filter(I=>null!=I.filters&&I.filters.length>0).forEach(I=>{this.userDashboard.pages&&this.userDashboard.pages.forEach(y=>{0!==y.widgets.filter(h=>h.id===I.id).length&&I.filters.forEach(h=>{A.find(d=>d.id===h.id)||A.push(h)})})}),this.userDashboard.filters=A.map(I=>{let y=this.getWidgetFilterViewDefinition(I.id);return y.name=I.name,y})}getGridsterConfig(){const A=K.isRtlLang(abp.localization.currentLanguage.name);return{pushItems:!0,draggable:{enabled:this.editModeEnabled},resizable:{enabled:this.editModeEnabled},fixedRowHeight:30,fixedColWidth:30,gridType:"verticalFixed",dirType:A?"rtl":"ltr"}}onGridSterItemResize(A){this.editModeEnabled&&this.widgetSubjects[A.guid]&&this.widgetSubjects[A.guid].handler.onResize.next(null)}createWidgetSubjects(){for(let I=0;I<this.userDashboard.pages.length;I++){var A=this.userDashboard.pages[I];for(let y=0;y<A.widgets.length;y++)this.createWidgetSubject(A.widgets[y].guid)}}createWidgetSubject(A){var I=new vi;this.widgetSubjects[A]={handler:I,injector:n.zs3.create({providers:[{provide:_i,useValue:I}],parent:this._injector})}}static#t=this.\u0275fac=function(I){return new(I||F)(n.Y36(n.zs3),n.Y36(H.p),n.Y36(rt.hTT),n.Y36(st.d))};static#e=this.\u0275cmp=n.Xpm({type:F,selectors:[["customizable-dashboard"]],viewQuery:function(I,y){if(1&I&&(n.Gf(ti,5),n.Gf(ei,5),n.Gf(ii,7),n.Gf(ni,5),n.Gf(be,5)),2&I){let h;n.iGM(h=n.CRH())&&(y.addWidgetModal=h.first),n.iGM(h=n.CRH())&&(y.dashboardTabs=h.first),n.iGM(h=n.CRH())&&(y.modal=h.first),n.iGM(h=n.CRH())&&(y.dropdownRenamePage=h.first),n.iGM(h=n.CRH())&&(y.dropdownAddPage=h.first)}},inputs:{dashboardName:"dashboardName"},features:[n.qOj],decls:28,vars:22,consts:[[3,"title","description"],["role","actions",1,"d-flex","align-items-center"],["type","button","class","btn btn-light-primary btn-filter",3,"click",4,"ngIf"],[1,"form-check","form-check-custom","form-check-solid","form-switch"],["type","checkbox",1,"form-check-input",3,"checked","change"],[1,"form-check-label"],[3,"class",4,"ngIf"],[3,"onClose",4,"ngIf"],["appBsModal","","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade","filterModal"],["filterModal","bs-modal"],[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"click"],["type","button",1,"btn","btn-light-primary","btn-filter",3,"click"],[1,"fa","fa-filter"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-12",2,"z-index","0"],[3,"justified","ngClass"],["dashboardTabs",""],[3,"heading","selectTab",4,"ngFor","ngForOf"],["class","div-dashboard-customization d-flex w-auto shadow-lg",4,"ngIf"],[1,"col-md-12"],["role","alert",1,"alert","alert-warning"],[3,"heading","selectTab"],["perfectScrollbar","",3,"options","perfectScrollOptions","ngClass"],[3,"item","itemResize",4,"ngFor","ngForOf"],[3,"item","itemResize"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["class","btn btn-sm bg-danger deleteWidgetButton",3,"click",4,"ngIf"],[1,"btn","btn-sm","bg-danger","deleteWidgetButton",3,"click"],[1,"la","la-times","text-white"],[1,"div-dashboard-customization","d-flex","w-auto","shadow-lg"],[1,"me-1","border-right"],["type","button","id","AddWidgetButton",1,"btn","btn-sm","btn-warning","btn-elevate-hover","btn-pill",3,"disabled","click"],[1,"fa","fa-plus"],[1,"ms-1","me-1","border-right"],["dropdown","",1,"btn-group",3,"dropup","insideClick","onShown"],["dropdownAddPage","bs-dropdown"],["id","dropdownButtonAddPage","dropdownToggle","","type","button","aria-controls","dropdownMenuAddPage",1,"btn","btn-sm","btn-primary","dropdown-toggle","btn-elevate-hover","btn-pill"],[1,"caret"],["id","dropdownMenuAddPage","class","dropdown-menu p-10","role","menu","aria-labelledby","dropdownButtonAddPage",4,"dropdownMenu"],["dropdown","",1,"btn-group",3,"dropup","insideClick","isDisabled","onShown"],["dropdownRenamePage","bs-dropdown"],["id","dropdownButtonRenamePage","dropdownToggle","","type","button","aria-controls","dropdownMenuRenamePage",1,"btn","btn-sm","btn-info","btn-elevate-hover","btn-pill","dropdown-toggle"],[1,"fa","fa-edit"],["id","dropdownMenuRenamePage","class","dropdown-menu p-10","role","menu","aria-labelledby","dropdownButtonRenamePage",4,"dropdownMenu"],["id","DeletePageButton",1,"btn","btn-sm","btn-danger","btn-elevate-hover","btn-pill",3,"disabled","click"],[1,"fa","fa-trash"],[4,"ngIf"],[1,"ms-1"],["type","button",1,"btn","btn-sm","btn-success","btn-elevate-hover","btn-pill",3,"click"],[1,"fa","fa-save"],["id","dropdownMenuAddPage","role","menu","aria-labelledby","dropdownButtonAddPage",1,"dropdown-menu","p-10"],["role","menuitem"],[1,"mb-5"],[1,"form-label"],["type","text","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-sm","w-100","btn-info",3,"click"],["id","dropdownMenuRenamePage","role","menu","aria-labelledby","dropdownButtonRenamePage",1,"dropdown-menu","p-10"],["type","text",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[3,"onClose"],["addWidgetModal",""],[1,"modal-body"],[4,"ngFor","ngForOf"],[2,"margin-left","10px"],[4,"ngComponentOutlet"]],template:function(I,y){1&I&&(n.TgZ(0,"div")(1,"sub-header",0),n.ALo(2,"localize"),n.ALo(3,"localize"),n.TgZ(4,"div",1),n.YNc(5,oe,4,3,"button",2),n.TgZ(6,"label",3)(7,"input",4),n.NdJ("change",function(){return y.changeEditMode()}),n.qZA(),n.TgZ(8,"span",5),n._uU(9),n.ALo(10,"localize"),n.qZA()()()(),n.YNc(11,oi,8,10,"div",6),n.YNc(12,li,2,0,"add-widget-modal",7),n.TgZ(13,"div",8,9)(15,"div",10)(16,"div",11)(17,"div",12)(18,"h5",13)(19,"span"),n._uU(20),n.ALo(21,"localize"),n.qZA()(),n.TgZ(22,"button",14),n.NdJ("click",function(){return y.close()}),n.qZA()(),n.YNc(23,Gt,2,1,"div",15),n.TgZ(24,"div",16)(25,"button",17),n.NdJ("click",function(){return y.close()}),n._uU(26),n.ALo(27,"localize"),n.qZA()()()()()()),2&I&&(n.Q6J("@routerTransition",void 0),n.xp6(1),n.Q6J("title",n.lcZ(2,12,"Dashboard"))("description",n.lcZ(3,14,"DashboardHeaderInfo")),n.xp6(4),n.Q6J("ngIf",!y.loading&&y.userDashboard&&y.userDashboard.filters&&y.userDashboard.filters.length>0),n.xp6(2),n.Q6J("checked",y.editModeEnabled),n.xp6(2),n.hij(" ",n.lcZ(10,16,"EditMode")," "),n.xp6(2),n.Q6J("ngIf",!y.loading),n.xp6(1),n.Q6J("ngIf",y.dashboardName),n.xp6(8),n.Oqu(n.lcZ(21,18,"DashboardFilters")),n.xp6(2),n.uIk("aria-label",y.l("Close")),n.xp6(1),n.Q6J("ngIf",y.userDashboard),n.xp6(3),n.hij(" ",n.lcZ(27,20,"Close")," "))},dependencies:[q.mk,q.$G,q.sg,q.O5,gt.Fj,gt.JJ,gt.On,Ut.sm,Ut.IM,$t.Hz,$t.Mq,$t.TO,re.wW,re.AH,ge.$,ue.Z,wt.$,fi,Fe.F],styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:24px;margin:0;top:0}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.deleteWidgetButton[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:22px;padding:0 7px!important;height:22px;border-radius:0 0 0 10px;box-shadow:none;outline:none;text-align:center;border:0!important;z-index:1002}gridster[_ngcontent-%COMP%]{height:calc(100vh - 300px);background:none}gridster.no-tab[_ngcontent-%COMP%]{height:calc(100vh - 230px)}[_nghost-%COMP%]     gridster .gridster-row{border-top:1px dotted #c1c1c1!important;border-bottom:1px dotted #c1c1c1!important}[_nghost-%COMP%]     gridster .gridster-column{border-left:1px dotted #c1c1c1!important;border-right:1px dotted #c1c1c1!important}.div-dashboard-customization[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:120;background-color:#cecece;border-radius:10px;padding:15px}.div-dashboard-customization[_ngcontent-%COMP%]   .vr[_ngcontent-%COMP%]{border-right:1px solid white;float:left;margin-right:8px}[_nghost-%COMP%]     tabset.nav-hidden .nav-tabs{display:none}[_nghost-%COMP%]     tabset .nav-tabs{padding-bottom:1px!important}.btn-filter[_ngcontent-%COMP%]{margin-right:8px}[_nghost-%COMP%]     gridster .kt-portlet{margin:0;height:100%}[_nghost-%COMP%]     gridster .kt-portlet__body{overflow:auto}.div-dashboard-customization[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 3px}.filterModal[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:10px}gridster-item[_ngcontent-%COMP%]{background:none}#dropdownMenuAddPage[_ngcontent-%COMP%], #dropdownMenuRenamePage[_ngcontent-%COMP%]{min-width:250px}.div-dashboard-customization[_ngcontent-%COMP%]   .border-right[_ngcontent-%COMP%]{border-right:1px solid white}#PagesDiv[_ngcontent-%COMP%]{margin-left:-20px}'],data:{animation:[(0,et.MH)()]}})}return F})()},1911:(mi,Yt,R)=>{R.d(Yt,{u:()=>ue});var n=R(96814),v=R(82296),et=R(35024),rt=R(24922),ht=R(35732),K=R(72500),o=R(12051),N=R(56223),H=R(612),st=R(80890),q=R(60016),gt=R(32297),Ut=R(68027),$t=R(53279),re=R(58489),ge=R(99468);let ue=(()=>{class wt{static#t=this.\u0275fac=function(ft){return new(ft||wt)};static#e=this.\u0275mod=ge.oAB({type:wt});static#i=this.\u0275inj=ge.cJS({providers:[v.p],imports:[n.ez,N.u5,ht.A,et.IX,rt.NA,rt.vP,rt.Zk,rt.pT,K.mr,o.zk,H.P4,st.X,q._,gt.k,Ut.U$,$t.kn,re.Q]})}return wt})()},82296:(mi,Yt,R)=>{R.d(Yt,{p:()=>xs});class n{constructor(P,T,L=6,S=10){this.id=P,this.component=T,this.defaultWidth=L,this.defaultHeight=S}}class v{constructor(P,T){this.id=P,this.component=T}}var et=R(55507);class rt{constructor(){this.loading=!0}showLoading(){setTimeout(()=>{this.loading=!0})}hideLoading(){setTimeout(()=>{this.loading=!1})}}var ht=R(41840),K=R(99080),o=R(99468);let N=(()=>{class C extends ht.c{constructor(T){super(T),this.delay=300}runDelayed(T){this.timer&&!this.timer.closed&&this.timer.unsubscribe(),this.timer=(0,K.H)(this.delay).subscribe(()=>{T()})}ngOnDestroy(){this.timer&&!this.timer.closed&&this.timer.unsubscribe(),super.ngOnDestroy()}static#t=this.\u0275fac=function(L){return new(L||C)(o.Y36(o.zs3))};static#e=this.\u0275cmp=o.Xpm({type:C,selectors:[["ng-component"]],features:[o.qOj],decls:0,vars:0,template:function(L,S){},encapsulation:2})}return C})();var H=R(44328),st=R(24922),q=R(80890);class gt extends rt{constructor(P){super(),this._dashboardService=P,this.data=[]}init(P,T,L){this.data=[{name:"Operations",value:P},{name:"New Visits",value:T},{name:"Bounce",value:L}],this.hideLoading()}reload(){this.showLoading(),this._dashboardService.getGeneralStats().subscribe(P=>{this.init(P.transactionPercent,P.newVisitPercent,P.bouncePercent)})}}let Ut=(()=>{class C extends N{constructor(T,L){super(T),this._dashboardService=L,this.generalStatsPieChart=new gt(this._dashboardService)}ngOnInit(){this.generalStatsPieChart.reload()}static#t=this.\u0275fac=function(L){return new(L||C)(o.Y36(o.zs3),o.Y36(H.AdH))};static#e=this.\u0275cmp=o.Xpm({type:C,selectors:[["app-widget-general-stats"]],features:[o.qOj],decls:12,vars:1,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title","align-items-start","flex-column"],[1,"fw-bolder","text-dark"],[1,"card-toolbar"],["href","javascript:;",1,"btn","btn-primary",3,"click"],[1,"fa","fa-redo"],["perfectScrollbar","",1,"card-body"],[1,"row",2,"max-height","200px"],[3,"results"]],template:function(L,S){1&L&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),o._uU(4,"General Stats"),o.qZA()(),o.TgZ(5,"div",4)(6,"a",5),o.NdJ("click",function(){return S.generalStatsPieChart.reload()}),o._UZ(7,"i",6),o._uU(8," Refresh "),o.qZA()()(),o.TgZ(9,"div",7)(10,"div",8),o._UZ(11,"ngx-charts-pie-grid",9),o.qZA()()()),2&L&&(o.xp6(11),o.Q6J("results",S.generalStatsPieChart.data))},dependencies:[st.Nm,q.$]})}return C})();function $t(C,P){if(1&C&&(o.TgZ(0,"span"),o._uU(1),o.qZA(),o._UZ(2,"br"),o.TgZ(3,"span"),o._uU(4),o.qZA()),2&C){const T=P.model;o.xp6(1),o.hij("Day ",T.name,""),o.xp6(3),o.Oqu(T.value)}}class re extends rt{constructor(P){super(),this._dashboardService=P,this.scheme={name:"green",selectable:!0,group:"Ordinal",domain:["#34bfa3"]}}init(P){this.chartData=[];for(let T=0;T<P.length;T++)this.chartData.push({name:T+1,value:P[T]})}reload(){this.showLoading(),this._dashboardService.getDailySales().subscribe(P=>{this.init(P.dailySales),this.hideLoading()})}}let ge=(()=>{class C extends N{constructor(T,L){super(T),this._tenantdashboardService=L,this.dailySalesLineChart=new re(this._tenantdashboardService)}ngOnInit(){this.dailySalesLineChart.reload()}static#t=this.\u0275fac=function(L){return new(L||C)(o.Y36(o.zs3),o.Y36(H.AdH))};static#e=this.\u0275cmp=o.Xpm({type:C,selectors:[["app-widget-daily-sales"]],features:[o.qOj],decls:11,vars:2,consts:[[1,"card","card-custom"],[1,"card-header","align-items-center","border-0"],[1,"card-title","align-items-start","flex-column"],[1,"fw-bolder","text-dark"],["perfectScrollbar","",1,"card-body"],[1,"row"],[1,"col",2,"max-height","200px"],[3,"results","scheme"],["tooltipTemplate",""]],template:function(L,S){1&L&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),o._uU(4,"Daily Sales"),o.qZA()()(),o.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"ngx-charts-bar-vertical",7),o.YNc(9,$t,5,2,"ng-template",null,8,o.W1O),o.qZA()()()()()),2&L&&(o.xp6(8),o.Q6J("results",S.dailySalesLineChart.chartData)("scheme",S.dailySalesLineChart.scheme))},dependencies:[st.K$,q.$]})}return C})();var ue=R(84448),wt=R(96814);const ot=function(C){return{backgroundColor:C}};function Fe(C,P){if(1&C&&(o.TgZ(0,"div"),o._UZ(1,"span",12),o.TgZ(2,"span"),o._uU(3),o.qZA()()),2&C){const T=P.$implicit;o.xp6(1),o.Q6J("ngStyle",o.VKq(3,ot,T.color)),o.xp6(2),o.AsE("%",T.value," ",T.name,"")}}function ft(C,P){if(1&C&&(o.TgZ(0,"div",10)(1,"div"),o.YNc(2,Fe,4,5,"div",11),o.qZA()()),2&C){const T=o.oxw();o.xp6(2),o.Q6J("ngForOf",T.profitSharePieChart.chartData)}}class Et extends rt{constructor(P){super(),this._dashboardService=P,this.chartData=[],this.scheme={name:"custom",selectable:!0,group:"Ordinal",domain:["#00c5dc","#ffb822","#716aca"]}}init(P){let T=[];for(let L=0;L<P.length;L++)T.push({name:this.getChartItemName(L),value:P[L],color:this.scheme.domain[L]});this.chartData=T}getChartItemName(P){return 0===P?"Product Sales":1===P?"Online Courses":2===P?"Custom Development":"Other"}reload(){this.showLoading(),this._dashboardService.getProfitShare().subscribe(P=>{this.init(P.profitShares),this.hideLoading()})}}let Te=(()=>{class C extends N{constructor(T,L,S){super(T),this._dashboardService=L,this._widgetOnResizeEventHandler=S,this.profitSharePieChart=new Et(this._dashboardService),S.onResize.subscribe(()=>{this.profitSharePieChart.reload()})}ngOnInit(){this.profitSharePieChart.reload()}static#t=this.\u0275fac=function(L){return new(L||C)(o.Y36(o.zs3),o.Y36(H.AdH),o.Y36(ue.Lb))};static#e=this.\u0275cmp=o.Xpm({type:C,selectors:[["app-widget-profit-share"]],features:[o.qOj],decls:13,vars:8,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title"],[1,"card-label","text-dark"],[1,"text-muted"],[1,"card-body"],[1,"row"],[1,"col-lg-6","col-md-12",2,"max-height","300px"],[3,"results","doughnut","legend","labels","scheme","animations","tooltipDisabled"],["class","col-lg-6 col-md-12 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"col-lg-6","col-md-12","d-flex","justify-content-center","align-items-center"],[4,"ngFor","ngForOf"],[1,"pieChart-color",3,"ngStyle"]],template:function(L,S){1&L&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),o._uU(4," Profit Share "),o.TgZ(5,"small",4),o._uU(6,"Profit Share between customers"),o.qZA()()()(),o.TgZ(7,"div",5)(8,"div")(9,"div",6)(10,"div",7),o._UZ(11,"ngx-charts-pie-chart",8),o.qZA(),o.YNc(12,ft,3,1,"div",9),o.qZA()()()()),2&L&&(o.xp6(11),o.Q6J("results",S.profitSharePieChart.chartData)("doughnut",!0)("legend",!1)("labels",!1)("scheme",S.profitSharePieChart.scheme)("animations",!1)("tooltipDisabled",!0),o.xp6(1),o.Q6J("ngIf",S.profitSharePieChart.chartData.length))},dependencies:[wt.sg,wt.O5,wt.PC,st.JU],styles:[".kt-widget14[_ngcontent-%COMP%]{padding:0}.pieChart-color[_ngcontent-%COMP%]{width:12px;height:12px;margin-right:12px;display:inline-block;background-color:red}"]})}return C})();function pi(C,P){if(1&C&&(o.TgZ(0,"tr")(1,"td",13)(2,"div",14)(3,"div",15),o._UZ(4,"img",16),o.qZA()()(),o.TgZ(5,"td",13)(6,"span",17),o._uU(7),o.qZA()(),o.TgZ(8,"td"),o._uU(9),o.qZA(),o.TgZ(10,"td"),o._uU(11),o.qZA(),o.TgZ(12,"td"),o._uU(13),o.qZA(),o.TgZ(14,"td")(15,"span",18),o._uU(16),o.qZA()()()),2&C){const T=P.$implicit;o.xp6(4),o.MGl("src","/assets/metronic/assets/media/svg/avatars/",T.profilePictureName,"",o.LSH),o.xp6(3),o.hij(" ",T.name," "),o.xp6(2),o.hij(" ",T.earnings," "),o.xp6(2),o.hij(" ",T.cases," "),o.xp6(2),o.hij(" ",T.closed," "),o.xp6(3),o.Oqu(T.rate)}}class At extends rt{constructor(P){super(),this._dashboardService=P}init(){this.reload()}reload(){this.showLoading(),this._dashboardService.getMemberActivity().subscribe(P=>{this.memberActivities=P.memberActivities,this.hideLoading()})}}let fi=(()=>{class C extends N{constructor(T,L){super(T),this._dashboardService=L,this.memberActivityTable=new At(this._dashboardService)}ngOnInit(){this.memberActivityTable.init()}static#t=this.\u0275fac=function(L){return new(L||C)(o.Y36(o.zs3),o.Y36(H.AdH))};static#e=this.\u0275cmp=o.Xpm({type:C,selectors:[["app-widget-member-activity"]],features:[o.qOj],decls:25,vars:1,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title","align-items-start","flex-column"],[1,"fw-bolder","text-dark"],[1,"card-toolbar"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-sync"],["perfectScrollbar","",1,"card-body"],[1,"table-scrollable","table-scrollable-borderless"],[1,"table","table-hover","table-light"],[1,"uppercase"],["colspan","2"],[4,"ngFor","ngForOf"],[1,"pl-0"],[1,"symbol","symbol-50","symbol-light","mt-2","me-2"],[1,"symbol-label"],["alt","photo",1,"h-75","align-self-end",3,"src"],["href","javascript:;",1,"text-dark","fw-bolder","mb-1","fs-lg"],[1,"bold","font-green-haze"]],template:function(L,S){1&L&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),o._uU(4,"Member Activity"),o.qZA()(),o.TgZ(5,"div",4)(6,"button",5),o.NdJ("click",function(){return S.memberActivityTable.reload()}),o._UZ(7,"i",6),o._uU(8," Refresh "),o.qZA()()(),o.TgZ(9,"div",7)(10,"div",8)(11,"table",9)(12,"thead")(13,"tr",10)(14,"th",11),o._uU(15,"MEMBER"),o.qZA(),o.TgZ(16,"th"),o._uU(17,"Earnings"),o.qZA(),o.TgZ(18,"th"),o._uU(19,"CASES"),o.qZA(),o.TgZ(20,"th"),o._uU(21,"CLOSED"),o.qZA(),o.TgZ(22,"th"),o._uU(23,"RATE"),o.qZA()()(),o.YNc(24,pi,17,6,"tr",12),o.qZA()()()()),2&L&&(o.xp6(24),o.Q6J("ngForOf",S.memberActivityTable.memberActivities))},dependencies:[wt.sg,q.$]})}return C})();function ti(C,P,T){C._context.bezierCurveTo((2*C._x0+C._x1)/3,(2*C._y0+C._y1)/3,(C._x0+2*C._x1)/3,(C._y0+2*C._y1)/3,(C._x0+4*C._x1+P)/6,(C._y0+4*C._y1+T)/6)}function ei(C){this._context=C}function ii(C){return new ei(C)}function ni(C,P){if(1&C&&(o.TgZ(0,"tr")(1,"td")(2,"label",14),o._UZ(3,"input",15)(4,"span",16),o.qZA()(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.ALo(9,"currency"),o.qZA(),o.TgZ(10,"td")(11,"div",17),o._UZ(12,"ngx-charts-line-chart",18),o.qZA()(),o.TgZ(13,"td"),o._uU(14),o.ALo(15,"currency"),o.qZA(),o.TgZ(16,"td"),o._uU(17),o.ALo(18,"currency"),o.qZA()()),2&C){const T=P.$implicit,L=o.oxw();o.xp6(6),o.Oqu(T.countryName),o.xp6(2),o.Oqu(o.lcZ(9,10,T.sales)),o.xp6(4),o.Q6J("results",T.changeData)("showGridLines",!1)("animations",!1)("tooltipDisabled",!0)("customColors",L.regionalStatsTable.customColors)("curve",L.regionalStatsTable.curve),o.xp6(2),o.Oqu(o.lcZ(15,12,T.averagePrice)),o.xp6(3),o.Oqu(o.lcZ(18,14,T.totalPrice))}}ei.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ti(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(C,P){switch(C=+C,P=+P,this._point){case 0:this._point=1,this._line?this._context.lineTo(C,P):this._context.moveTo(C,P);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ti(this,C,P)}this._x0=this._x1,this._x1=C,this._y0=this._y1,this._y1=P}};class be extends rt{constructor(P){super(),this._dashboardService=P,this.colors=["#00c5dc","#f4516c","#34bfa3","#ffb822"],this.customColors=[{name:"1",value:"#00c5dc"},{name:"2",value:"#f4516c"},{name:"3",value:"#34bfa3"},{name:"4",value:"#ffb822"},{name:"5",value:"#00c5dc"}],this.curve=ii}init(){this.reload()}formatData(){for(let P=0;P<this.stats.length;P++){let T=this.stats[P],L=[];for(let S=0;S<T.change.length;S++)L.push({name:S+1,value:T.change[S]});T.changeData=[{name:P+1,series:L}]}}reload(){this.showLoading(),this._dashboardService.getRegionalStats().subscribe(P=>{this.stats=P.stats,this.formatData(),this.hideLoading()})}}let oe=(()=>{class C extends N{constructor(T,L){super(T),this._dashboardService=L,this.regionalStatsTable=new be(this._dashboardService)}ngOnInit(){this.regionalStatsTable.init()}static#t=this.\u0275fac=function(L){return new(L||C)(o.Y36(o.zs3),o.Y36(H.AdH))};static#e=this.\u0275cmp=o.Xpm({type:C,selectors:[["app-widget-regional-stats"]],features:[o.qOj],decls:24,vars:1,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title","align-items-start","flex-column"],[1,"fw-bolder","text-dark"],["perfectScrollbar","",1,"card-body"],[1,"table-responsive"],[1,"table"],[1,"m-widget11__label"],[1,"m-widget11__app"],[1,"m-widget11__sales"],[1,"m-widget11__change"],[1,"m-widget11__price"],[1,"m-widget11__total"],[4,"ngFor","ngForOf"],[1,"form-check","form-check-custom","form-check-solid","py-1"],["type","checkbox",1,"form-check-input"],[1,"form-check-label"],[1,"m-widget11__chart",2,"height","50px","width","100px"],[3,"results","showGridLines","animations","tooltipDisabled","customColors","curve"]],template:function(L,S){1&L&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),o._uU(4,"Regional Stats"),o.qZA()()(),o.TgZ(5,"div",4)(6,"div",5)(7,"table",6)(8,"thead")(9,"tr")(10,"td",7),o._uU(11,"#"),o.qZA(),o.TgZ(12,"td",8),o._uU(13,"Country"),o.qZA(),o.TgZ(14,"td",9),o._uU(15,"Sales"),o.qZA(),o.TgZ(16,"td",10),o._uU(17,"Change"),o.qZA(),o.TgZ(18,"td",11),o._uU(19,"Avg Price"),o.qZA(),o.TgZ(20,"td",12),o._uU(21,"Total"),o.qZA()()(),o.TgZ(22,"tbody"),o.YNc(23,ni,19,16,"tr",13),o.qZA()()()()()),2&L&&(o.xp6(23),o.Q6J("ngForOf",S.regionalStatsTable.stats))},dependencies:[wt.sg,st.Dw,q.$,wt.H9]})}return C})();var si=R(75857),Rt=R(94901),me=R(32297),Zt=R(3291);const pe=function(C){return{active:C}};function Ee(C,P){if(1&C){const T=o.EpF();o.TgZ(0,"div",20)(1,"div",21)(2,"label",22),o.NdJ("click",function(){o.CHM(T);const S=o.oxw();return o.KtG(S.salesSummaryChart.reload(S.appSalesSummaryDateInterval.Daily))}),o._UZ(3,"input",23),o._uU(4),o.ALo(5,"localize"),o.qZA(),o.TgZ(6,"label",24),o.NdJ("click",function(){o.CHM(T);const S=o.oxw();return o.KtG(S.salesSummaryChart.reload(S.appSalesSummaryDateInterval.Weekly))}),o._UZ(7,"input",23),o._uU(8),o.ALo(9,"localize"),o.qZA(),o.TgZ(10,"label",24),o.NdJ("click",function(){o.CHM(T);const S=o.oxw();return o.KtG(S.salesSummaryChart.reload(S.appSalesSummaryDateInterval.Monthly))}),o._UZ(11,"input",23),o._uU(12),o.ALo(13,"localize"),o.qZA()()()}if(2&C){const T=o.oxw();o.xp6(2),o.Q6J("ngClass",o.VKq(15,pe,T.salesSummaryChart.selectedDatePeriod==T.appSalesSummaryDateInterval.Daily)),o.xp6(1),o.Q6J("value",T.appSalesSummaryDateInterval.Daily),o.xp6(1),o.hij(" ",o.lcZ(5,9,"Daily")," "),o.xp6(2),o.Q6J("ngClass",o.VKq(17,pe,T.salesSummaryChart.selectedDatePeriod==T.appSalesSummaryDateInterval.Weekly)),o.xp6(1),o.Q6J("value",T.appSalesSummaryDateInterval.Weekly),o.xp6(1),o.hij(" ",o.lcZ(9,11,"Weekly")," "),o.xp6(2),o.Q6J("ngClass",o.VKq(19,pe,T.salesSummaryChart.selectedDatePeriod==T.appSalesSummaryDateInterval.Monthly)),o.xp6(1),o.Q6J("value",T.appSalesSummaryDateInterval.Monthly),o.xp6(1),o.hij(" ",o.lcZ(13,13,"Monthly")," ")}}class Ie extends rt{constructor(P){super(),this._dashboardService=P,this.totalSales=0,this.totalSalesCounter=0,this.revenue=0,this.revenuesCounter=0,this.expenses=0,this.expensesCounter=0,this.growth=0,this.growthCounter=0,this.data=[]}init(P,T,L,S,j){this.totalSales=T,this.totalSalesCounter=T,this.revenue=L,this.expenses=S,this.growth=j,this.setChartData(P),this.hideLoading()}setChartData(P){let T=[],L=[];(0,si.Z)(P,S=>{T.push({name:S.period,value:S.sales}),L.push({name:S.period,value:S.profit})}),this.data=[{name:"Sales",series:T},{name:"Profit",series:L}]}reload(P){this.selectedDatePeriod!==P?(this.selectedDatePeriod=P,this.showLoading(),this._dashboardService.getSalesSummary(P).subscribe(T=>{this.setChartData(T.salesSummary),this.hideLoading()})):this.hideLoading()}}let Pe=(()=>{class C extends N{constructor(T,L){super(T),this._tenantDashboardServiceProxy=L,this.appSalesSummaryDateInterval=H.mJY,this.onDateRangeFilterChange=S=>{this.runDelayed(()=>{this.salesSummaryChart.reload(H.mJY.Daily)})},this.salesSummaryChart=new Ie(this._tenantDashboardServiceProxy)}ngOnInit(){this.subDateRangeFilter(),this.runDelayed(()=>{this.salesSummaryChart.reload(H.mJY.Daily)})}subDateRangeFilter(){this.subscribeToEvent("app.dashboardFilters.dateRangePicker.onDateChange",this.onDateRangeFilterChange)}static#t=this.\u0275fac=function(L){return new(L||C)(o.Y36(o.zs3),o.Y36(H.AdH))};static#e=this.\u0275cmp=o.Xpm({type:C,selectors:[["app-widget-sales-summary"]],features:[o.qOj],decls:42,vars:28,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title","align-items-start","flex-column"],[1,"fw-bolder","text-dark"],["class","card-toolbar",4,"ngIf"],["perfectScrollbar","",1,"card-body",3,"busyIf"],[1,"row","list-separated","text-center"],[1,"col-md-3","col-sm-3","col-xs-6"],["counto","",1,"text-danger","fw-bolder",3,"step","duration","countFrom","countTo","countoChange"],[1,"text-danger","fw-bolder"],[1,"uppercase","font-hg","font-green-haze"],["counto","",1,"text-warning","fw-bolder",3,"step","duration","countFrom","countTo","countoChange"],[1,"text-warning","fw-bolder"],[1,"uppercase","font-hg","font-purple"],["counto","",1,"text-info","fw-bolder",3,"step","duration","countFrom","countTo","countoChange"],[1,"text-success","fw-bolder"],[1,"uppercase","font-hg","font-blue-sharp"],[1,"text-info","fw-bolder"],[2,"height","260px","min-height","260px"],["showYAxisLabel","true",3,"results","showXAxisLabel","xAxis","yAxis","showGridLines","tooltipDisabled"],[1,"card-toolbar"],["data-toggle","buttons",1,"btn-group"],[1,"btn","btn-secondary","active",3,"ngClass","click"],["type","radio","name","SalesSummaryDateInterval",3,"value"],[1,"btn","btn-secondary",3,"ngClass","click"]],template:function(L,S){1&L&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),o._uU(4,"Sales Summary"),o.qZA()(),o.YNc(5,Ee,14,21,"div",4),o.qZA(),o.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"h6"),o._uU(10,"Total Sales"),o.qZA(),o.TgZ(11,"div")(12,"span",8),o.NdJ("countoChange",function(lt){return S.salesSummaryChart.totalSalesCounter=lt}),o._uU(13),o.qZA(),o.TgZ(14,"span",9),o._uU(15,"$"),o.qZA()()(),o.TgZ(16,"div",7)(17,"h6"),o._uU(18,"Revenue"),o.qZA(),o.TgZ(19,"div",10)(20,"span",11),o.NdJ("countoChange",function(lt){return S.salesSummaryChart.revenuesCounter=lt}),o._uU(21),o.qZA(),o.TgZ(22,"span",12),o._uU(23,"$"),o.qZA()()(),o.TgZ(24,"div",7)(25,"h6"),o._uU(26,"Expenses"),o.qZA(),o.TgZ(27,"div",13)(28,"span",14),o.NdJ("countoChange",function(lt){return S.salesSummaryChart.expensesCounter=lt}),o._uU(29),o.qZA(),o.TgZ(30,"span",15),o._uU(31,"$"),o.qZA()()(),o.TgZ(32,"div",7)(33,"h6"),o._uU(34,"Growth"),o.qZA(),o.TgZ(35,"div",16)(36,"span",14),o.NdJ("countoChange",function(lt){return S.salesSummaryChart.growthCounter=lt}),o._uU(37),o.qZA(),o.TgZ(38,"span",17),o._uU(39,"$"),o.qZA()()()(),o.TgZ(40,"div",18),o._UZ(41,"ngx-charts-area-chart-stacked",19),o.qZA()()()),2&L&&(o.xp6(5),o.Q6J("ngIf",S.salesSummaryChart&&!S.salesSummaryChart.loading),o.xp6(1),o.Q6J("busyIf",S.salesSummaryChart.loading),o.xp6(6),o.Q6J("step",30)("duration",1)("countFrom",0)("countTo",S.salesSummaryChart.totalSales),o.xp6(1),o.hij(" ",S.salesSummaryChart.totalSalesCounter.toFixed(0)," "),o.xp6(7),o.Q6J("step",30)("duration",1)("countFrom",0)("countTo",S.salesSummaryChart.revenue),o.xp6(1),o.hij(" ",S.salesSummaryChart.revenuesCounter.toFixed(0)," "),o.xp6(7),o.Q6J("step",30)("duration",1)("countFrom",0)("countTo",S.salesSummaryChart.expenses),o.xp6(1),o.hij(" ",S.salesSummaryChart.expensesCounter.toFixed(0)," "),o.xp6(7),o.Q6J("step",30)("duration",1)("countFrom",0)("countTo",S.salesSummaryChart.growth),o.xp6(1),o.hij(" ",S.salesSummaryChart.growthCounter.toFixed(0)," "),o.xp6(4),o.Q6J("results",S.salesSummaryChart.data)("showXAxisLabel",!0)("xAxis",!0)("yAxis",!0)("showGridLines",!1)("tooltipDisabled",!1))},dependencies:[wt.mk,wt.O5,Rt.U,st.vz,q.$,me.T,Zt.F],styles:["input[type=radio][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]     .sales-summary-chart svg.ngx-charts{margin-left:-35px;margin-top:35px}"]})}return C})();var Ce=R(66232),fe=R(58399),xe=R(88922);function ai(C,P){if(1&C&&(o.TgZ(0,"span"),o._uU(1),o.qZA(),o._UZ(2,"br"),o.TgZ(3,"span"),o._uU(4),o.ALo(5,"localize"),o.qZA()),2&C){const T=P.model,L=o.oxw(2);o.xp6(1),o.Oqu(T.name),o.xp6(3),o.AsE(" ",o.lcZ(5,3,"IncomeWithAmount")," ",T.value+" "+L.appSession.application.currencySign," ")}}function Ve(C,P){if(1&C&&(o.TgZ(0,"ngx-charts-area-chart",14),o.YNc(1,ai,6,5,"ng-template",null,15,o.W1O),o.qZA()),2&C){const T=o.oxw();o.Q6J("busyIf",T.loadingIncomeStatistics)("results",T.incomeStatisticsData)("showXAxisLabel",!0)("xAxis",!0)("yAxis",!0)("showGridLines",!0)}}const Oe=function(C){return{active:C}};let ri=(()=>{class C extends N{constructor(T,L,S,j){super(T),this._hostDashboardServiceProxy=L,this._dateTimeService=S,this._widgetOnResizeEventHandler=j,this.selectedIncomeStatisticsDateInterval=H.wo_.Daily,this.loadingIncomeStatistics=!0,this.selectedDateRange=[this._dateTimeService.getStartOfDayMinusDays(7),this._dateTimeService.getEndOfDay()],this.incomeStatisticsData=[],this.incomeStatisticsHasData=!1,this.appIncomeStatisticsDateInterval=H.wo_,this.loadIncomeStatisticsData=()=>{this.loadingIncomeStatistics=!0,this._hostDashboardServiceProxy.getIncomeStatistics(this.selectedIncomeStatisticsDateInterval,this.selectedDateRange[0],this.selectedDateRange[1]).subscribe(lt=>{this.incomeStatisticsData=this.normalizeIncomeStatisticsData(lt.incomeStatistics),this.incomeStatisticsHasData=(0,Ce.Z)(this.incomeStatisticsData[0].series,we=>we.value>0).length>0,this.loadingIncomeStatistics=!1})},this.onDateRangeFilterChange=lt=>{!lt||2!==lt.length||this.selectedDateRange[0]===lt[0]&&this.selectedDateRange[1]===lt[1]||(this.selectedDateRange[0]=lt[0],this.selectedDateRange[1]=lt[1],this.runDelayed(this.loadIncomeStatisticsData))},j.onResize.subscribe(()=>{this.runDelayed(this.loadIncomeStatisticsData)})}ngOnInit(){this.subDateRangeFilter(),this.runDelayed(this.loadIncomeStatisticsData)}incomeStatisticsDateIntervalChange(T){this.selectedIncomeStatisticsDateInterval!==T&&(this.selectedIncomeStatisticsDateInterval=T,this.loadIncomeStatisticsData())}normalizeIncomeStatisticsData(T){const L=[];for(let S=0;S<T.length;S++)L.push({name:this._dateTimeService.formatISODateString(T[S].date,"D"),value:T[S].amount});return[{name:"",series:L}]}subDateRangeFilter(){this.subscribeToEvent("app.dashboardFilters.dateRangePicker.onDateChange",this.onDateRangeFilterChange)}static#t=this.\u0275fac=function(L){return new(L||C)(o.Y36(o.zs3),o.Y36(H.EFb),o.Y36(fe.C),o.Y36(ue.Lb))};static#e=this.\u0275cmp=o.Xpm({type:C,selectors:[["app-widget-income-statistics"]],features:[o.qOj],decls:32,vars:37,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title"],[1,"card-icon"],[1,"la","la-pie-chart","text-primary"],[1,"card-label","text-success"],[1,"text-muted"],[1,"card-toolbar"],["data-toggle","buttons",1,"btn-group","btn-group-devided"],[1,"btn","m-btn--pill","btn-secondary",3,"ngClass","click"],["type","radio","name","IncomeStatisticsDatePeriod",1,"toggle",3,"value"],["perfectScrollbar","",1,"card-body"],["showYAxisLabel","true",3,"busyIf","results","showXAxisLabel","xAxis","yAxis","showGridLines",4,"ngIf"],[1,"note","note-info","text-center","chart",3,"hidden"],["showYAxisLabel","true",3,"busyIf","results","showXAxisLabel","xAxis","yAxis","showGridLines"],["tooltipTemplate",""]],template:function(L,S){1&L&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),o._UZ(4,"i",4),o.qZA(),o.TgZ(5,"h3",5),o._uU(6),o.ALo(7,"localize"),o.TgZ(8,"small",6),o._uU(9),o.ALo(10,"luxonFormat"),o.ALo(11,"luxonFormat"),o.qZA()()(),o.TgZ(12,"div",7)(13,"div",8)(14,"label",9),o.NdJ("click",function(){return S.incomeStatisticsDateIntervalChange(S.appIncomeStatisticsDateInterval.Daily)}),o._UZ(15,"input",10),o._uU(16),o.ALo(17,"localize"),o.qZA(),o.TgZ(18,"label",9),o.NdJ("click",function(){return S.incomeStatisticsDateIntervalChange(S.appIncomeStatisticsDateInterval.Weekly)}),o._UZ(19,"input",10),o._uU(20),o.ALo(21,"localize"),o.qZA(),o.TgZ(22,"label",9),o.NdJ("click",function(){return S.incomeStatisticsDateIntervalChange(S.appIncomeStatisticsDateInterval.Monthly)}),o._UZ(23,"input",10),o._uU(24),o.ALo(25,"localize"),o.qZA()()()(),o.TgZ(26,"div",11),o.YNc(27,Ve,3,6,"ngx-charts-area-chart",12),o.TgZ(28,"div",13)(29,"small",6),o._uU(30),o.ALo(31,"localize"),o.qZA()()()()),2&L&&(o.xp6(6),o.hij(" ",o.lcZ(7,15,"IncomeStatistics")," "),o.xp6(3),o.AsE(" ",o.xi3(10,17,S.selectedDateRange[0],"D")," - ",o.xi3(11,20,S.selectedDateRange[1],"D")," "),o.xp6(5),o.Q6J("ngClass",o.VKq(31,Oe,S.selectedIncomeStatisticsDateInterval==S.appIncomeStatisticsDateInterval.Daily)),o.xp6(1),o.Q6J("value",S.appIncomeStatisticsDateInterval.Daily),o.xp6(1),o.hij(" ",o.lcZ(17,23,"Daily")," "),o.xp6(2),o.Q6J("ngClass",o.VKq(33,Oe,S.selectedIncomeStatisticsDateInterval==S.appIncomeStatisticsDateInterval.Weekly)),o.xp6(1),o.Q6J("value",S.appIncomeStatisticsDateInterval.Weekly),o.xp6(1),o.hij(" ",o.lcZ(21,25,"Weekly")," "),o.xp6(2),o.Q6J("ngClass",o.VKq(35,Oe,S.selectedIncomeStatisticsDateInterval==S.appIncomeStatisticsDateInterval.Monthly)),o.xp6(1),o.Q6J("value",S.appIncomeStatisticsDateInterval.Monthly),o.xp6(1),o.hij(" ",o.lcZ(25,27,"Monthly")," "),o.xp6(3),o.Q6J("ngIf",S.incomeStatisticsHasData),o.xp6(1),o.Q6J("hidden",S.incomeStatisticsHasData),o.xp6(2),o.Oqu(o.lcZ(31,29,"NoData")))},dependencies:[wt.mk,wt.O5,Rt.U,st.rt,q.$,xe.n,Zt.F],styles:["input[type=radio][_ngcontent-%COMP%]{display:none}"]})}return C})();var oi=R(68027),li=R(85219);const xi=["RecentTenantsTable"];function Pi(C,P){if(1&C&&(o.TgZ(0,"small",14),o._uU(1),o.ALo(2,"localize"),o.qZA()),2&C){const T=o.oxw();o.xp6(1),o.hij(" ",o.Dn7(2,1,"RecentTenantsHelpText",T.recentTenantsData.recentTenantsDayCount,T.recentTenantsData.maxRecentTenantsShownCount)," ")}}function Oi(C,P){1&C&&(o.TgZ(0,"tr")(1,"th"),o._uU(2),o.ALo(3,"localize"),o.qZA(),o.TgZ(4,"th"),o._uU(5),o.ALo(6,"localize"),o.qZA()()),2&C&&(o.xp6(2),o.Oqu(o.lcZ(3,2,"TenantName")),o.xp6(3),o.Oqu(o.lcZ(6,4,"CreationTime")))}function Gt(C,P){if(1&C&&(o.TgZ(0,"tr")(1,"td")(2,"span",21),o._uU(3),o.ALo(4,"localize"),o.qZA(),o._uU(5),o.qZA(),o.TgZ(6,"td")(7,"span",21),o._uU(8),o.ALo(9,"localize"),o.qZA(),o._uU(10),o.ALo(11,"luxonFormat"),o.qZA()()),2&C){const T=P.$implicit;o.xp6(3),o.Oqu(o.lcZ(4,4,"TenantName")),o.xp6(2),o.hij(" ",T.name," "),o.xp6(3),o.Oqu(o.lcZ(9,6,"CreationTime")),o.xp6(2),o.hij(" ",o.xi3(11,8,T.creationTime,"F")," ")}}function _i(C,P){1&C&&(o.TgZ(0,"div",22),o._uU(1),o.ALo(2,"localize"),o.qZA()),2&C&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"NoData")," "))}const vi=function(){return{"min-width":"25rem"}};function yi(C,P){if(1&C&&(o.TgZ(0,"div",15)(1,"p-table",16,17),o.YNc(3,Oi,7,6,"ng-template",18),o.YNc(4,Gt,12,11,"ng-template",19),o.qZA(),o.YNc(5,_i,3,3,"div",20),o.qZA()),2&C){const T=o.oxw();o.Q6J("busyIf",T.primengTableHelper.isLoading),o.xp6(1),o.s9C("rows",T.primengTableHelper.defaultRecordsCountPerPage),o.Q6J("value",T.recentTenantsData.recentTenants)("paginator",!1)("lazy",!1)("tableStyle",o.DdM(7,vi)),o.xp6(4),o.Q6J("ngIf",0==(null==T.recentTenantsData||null==T.recentTenantsData.recentTenants?null:T.recentTenantsData.recentTenants.length))}}let F=(()=>{class C extends N{constructor(T,L){super(T),this._hostDashboardServiceProxy=L,this.loading=!0,this.loadRecentTenantsData()}loadRecentTenantsData(){this._hostDashboardServiceProxy.getRecentTenantsData().subscribe(T=>{this.recentTenantsData=T,this.loading=!1})}gotoAllRecentTenants(){window.open(abp.appPath+"app/admin/tenants?creationDateStart="+encodeURIComponent(this.recentTenantsData.tenantCreationStartDate.toString()))}static#t=this.\u0275fac=function(L){return new(L||C)(o.Y36(o.zs3),o.Y36(H.EFb))};static#e=this.\u0275cmp=o.Xpm({type:C,selectors:[["app-widget-recent-tenants"]],viewQuery:function(L,S){if(1&L&&o.Gf(xi,7),2&L){let j;o.iGM(j=o.CRH())&&(S.recentTenantsTable=j.first)}},features:[o.qOj],decls:18,vars:8,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title"],[1,"card-icon"],[1,"fas","fa-user-plus","text-primary"],[1,"card-label","text-primary"],["class","text-muted",4,"ngIf"],["perfectScrollbar","",1,"card-body"],["perfectScrollbar","",1,"scroller","chart"],["class","primeng-datatable-container recent-tenants-table",3,"busyIf",4,"ngIf"],[1,"scroller-footer"],[1,"btn-arrow-link","pull-right"],["href","javascript:;",1,"see-all-recent-tenants",3,"click"],[1,"icon-arrow-right"],[1,"text-muted"],[1,"primeng-datatable-container","recent-tenants-table",3,"busyIf"],[3,"value","rows","paginator","lazy","tableStyle"],["RecentTenantsTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"p-column-title"],[1,"primeng-no-data"]],template:function(L,S){1&L&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),o._UZ(4,"i",4),o.qZA(),o.TgZ(5,"h3",5),o._uU(6),o.ALo(7,"localize"),o.YNc(8,Pi,3,5,"small",6),o.qZA()()(),o.TgZ(9,"div",7)(10,"div",8),o.YNc(11,yi,6,8,"div",9),o.qZA(),o.TgZ(12,"div",10)(13,"div",11)(14,"a",12),o.NdJ("click",function(){return S.gotoAllRecentTenants()}),o._uU(15),o.ALo(16,"localize"),o.qZA(),o._UZ(17,"i",13),o.qZA()()()()),2&L&&(o.xp6(6),o.hij(" ",o.lcZ(7,4,"RecentTenants")," "),o.xp6(2),o.Q6J("ngIf",!S.loading),o.xp6(3),o.Q6J("ngIf",!S.loading),o.xp6(4),o.hij(" ",o.lcZ(16,6,"SeeAllRecords")," "))},dependencies:[wt.O5,Rt.U,q.$,oi.iA,li.jx,xe.n,Zt.F]})}return C})();const yt=["EditionStatisticsChart"];function A(C,P){if(1&C&&o._UZ(0,"ngx-charts-pie-chart",10),2&C){const T=o.oxw();o.Q6J("results",T.editionStatisticsData)("legend",!0)("doughnut",!0)("arcWidth",.75)}}let I=(()=>{class C extends N{constructor(T,L,S,j){super(T),this._hostDashboardServiceProxy=L,this._dateTimeService=S,this._widgetOnResizeEventHandler=j,this.selectedDateRange=[this._dateTimeService.getStartOfDayMinusDays(7),this._dateTimeService.getEndOfDay()],this.editionStatisticsHasData=!1,this.showChart=()=>{this._hostDashboardServiceProxy.getEditionTenantStatistics(this.selectedDateRange[0],this.selectedDateRange[1]).subscribe(lt=>{this.editionStatisticsData=this.normalizeEditionStatisticsData(lt),this.editionStatisticsHasData=(0,Ce.Z)(this.editionStatisticsData,we=>we.value>0).length>0})},this.onDateRangeFilterChange=lt=>{!lt||2!==lt.length||this.selectedDateRange[0]===lt[0]&&this.selectedDateRange[1]===lt[1]||(this.selectedDateRange[0]=lt[0],this.selectedDateRange[1]=lt[1],this.runDelayed(this.showChart))},j.onResize.subscribe(()=>{this.runDelayed(this.showChart)})}ngOnInit(){this.subDateRangeFilter(),this.runDelayed(this.showChart)}normalizeEditionStatisticsData(T){if(!T||!T.editionStatistics||0===T.editionStatistics.length)return[];const L=new Array(T.editionStatistics.length);for(let S=0;S<T.editionStatistics.length;S++)L[S]={name:T.editionStatistics[S].label,value:T.editionStatistics[S].value};return L}subDateRangeFilter(){this.subscribeToEvent("app.dashboardFilters.dateRangePicker.onDateChange",this.onDateRangeFilterChange)}static#t=this.\u0275fac=function(L){return new(L||C)(o.Y36(o.zs3),o.Y36(H.EFb),o.Y36(fe.C),o.Y36(ue.Lb))};static#e=this.\u0275cmp=o.Xpm({type:C,selectors:[["app-widget-edition-statistics"]],viewQuery:function(L,S){if(1&L&&o.Gf(yt,7),2&L){let j;o.iGM(j=o.CRH())&&(S.editionStatisticsChart=j.first)}},features:[o.qOj],decls:18,vars:16,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title"],[1,"card-icon"],[1,"la","la-pie-chart","text-success"],[1,"card-label","text-success"],[1,"text-muted"],["perfectScrollbar","",1,"card-body"],[3,"results","legend","doughnut","arcWidth",4,"ngIf"],[1,"note","note-info","text-center","chart",3,"hidden"],[3,"results","legend","doughnut","arcWidth"]],template:function(L,S){1&L&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),o._UZ(4,"i",4),o.qZA(),o.TgZ(5,"h3",5),o._uU(6),o.ALo(7,"localize"),o.TgZ(8,"small",6),o._uU(9),o.ALo(10,"luxonFormat"),o.ALo(11,"luxonFormat"),o.qZA()()()(),o.TgZ(12,"div",7),o.YNc(13,A,1,4,"ngx-charts-pie-chart",8),o.TgZ(14,"div",9)(15,"small",6),o._uU(16),o.ALo(17,"localize"),o.qZA()()()()),2&L&&(o.xp6(6),o.hij(" ",o.lcZ(7,6,"EditionStatistics")," "),o.xp6(3),o.AsE(" ",o.xi3(10,8,S.selectedDateRange[0],"D")," - ",o.xi3(11,11,S.selectedDateRange[1],"D")," "),o.xp6(4),o.Q6J("ngIf",S.editionStatisticsHasData),o.xp6(1),o.Q6J("hidden",S.editionStatisticsHasData),o.xp6(2),o.Oqu(o.lcZ(17,14,"NoData")))},dependencies:[wt.O5,st.JU,q.$,xe.n,Zt.F]})}return C})();const y=["ExpiringTenantsTable"];function h(C,P){if(1&C&&(o.TgZ(0,"small",14),o._uU(1),o.ALo(2,"localize"),o.qZA()),2&C){const T=o.oxw();o.xp6(1),o.hij(" ",o.Dn7(2,1,"ExpiringTenantsHelpText",T.expiringTenantsData.subscriptionEndAlertDayCount,T.expiringTenantsData.maxExpiringTenantsShownCount)," ")}}function d(C,P){1&C&&(o.TgZ(0,"tr")(1,"th"),o._uU(2),o.ALo(3,"localize"),o.qZA(),o.TgZ(4,"th"),o._uU(5),o.ALo(6,"localize"),o.qZA()()),2&C&&(o.xp6(2),o.Oqu(o.lcZ(3,2,"TenantName")),o.xp6(3),o.Oqu(o.lcZ(6,4,"RemainingDay")))}function m(C,P){if(1&C&&(o.TgZ(0,"tr")(1,"td")(2,"span",21),o._uU(3),o.ALo(4,"localize"),o.qZA(),o._uU(5),o.qZA(),o.TgZ(6,"td")(7,"span",21),o._uU(8),o.ALo(9,"localize"),o.qZA(),o._uU(10),o.qZA()()),2&C){const T=P.$implicit;o.xp6(3),o.Oqu(o.lcZ(4,4,"TenantName")),o.xp6(2),o.hij(" ",T.tenantName," "),o.xp6(3),o.Oqu(o.lcZ(9,6,"RemainingDay")),o.xp6(2),o.hij(" ",T.remainingDayCount," ")}}function x(C,P){1&C&&(o.TgZ(0,"div",22),o._uU(1),o.ALo(2,"localize"),o.qZA()),2&C&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"NoData")," "))}const k=function(){return{"min-width":"25rem"}};function M(C,P){if(1&C&&(o.TgZ(0,"div",15)(1,"p-table",16,17),o.YNc(3,d,7,6,"ng-template",18),o.YNc(4,m,11,8,"ng-template",19),o.qZA(),o.YNc(5,x,3,3,"div",20),o.qZA()),2&C){const T=o.oxw();o.Q6J("busyIf",T.primengTableHelper.isLoading),o.xp6(1),o.s9C("rows",T.primengTableHelper.defaultRecordsCountPerPage),o.Q6J("value",T.expiringTenantsData.expiringTenants)("paginator",!1)("lazy",!1)("tableStyle",o.DdM(7,k)),o.xp6(4),o.Q6J("ngIf",0==(null==T.expiringTenantsData||null==T.expiringTenantsData.expiringTenants?null:T.expiringTenantsData.expiringTenants.length))}}let J=(()=>{class C extends N{constructor(T,L){super(T),this._hostDashboardServiceProxy=L,this.dataLoading=!0}ngOnInit(){this.getData()}getData(){this._hostDashboardServiceProxy.getSubscriptionExpiringTenantsData().subscribe(T=>{this.expiringTenantsData=T,this.dataLoading=!1})}gotoAllExpiringTenants(){const T=abp.appPath+"app/admin/tenants?subscriptionEndDateStart="+encodeURIComponent(this.expiringTenantsData.subscriptionEndDateStart.toString())+"&subscriptionEndDateEnd="+encodeURIComponent(this.expiringTenantsData.subscriptionEndDateEnd.toString());window.open(T)}static#t=this.\u0275fac=function(L){return new(L||C)(o.Y36(o.zs3),o.Y36(H.EFb))};static#e=this.\u0275cmp=o.Xpm({type:C,selectors:[["app-widget-subscription-expiring-tenants"]],viewQuery:function(L,S){if(1&L&&o.Gf(y,7),2&L){let j;o.iGM(j=o.CRH())&&(S.expiringTenantsTable=j.first)}},features:[o.qOj],decls:18,vars:8,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title"],[1,"card-icon"],[1,"far","fa-clock","text-danger"],[1,"card-label","text-danger"],["class","text-muted",4,"ngIf"],["perfectScrollbar","",1,"card-body"],[1,"scroller","chart"],["class","primeng-datatable-container expiring-tenants-table",3,"busyIf",4,"ngIf"],[1,"scroller-footer"],[1,"btn-arrow-link","pull-right"],["href","javascript:;",1,"see-all-expiring-tenants",3,"click"],[1,"icon-arrow-right"],[1,"text-muted"],[1,"primeng-datatable-container","expiring-tenants-table",3,"busyIf"],[3,"value","rows","paginator","lazy","tableStyle"],["ExpiringTenantsTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"p-column-title"],[1,"primeng-no-data"]],template:function(L,S){1&L&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),o._UZ(4,"i",4),o.qZA(),o.TgZ(5,"h3",5),o._uU(6),o.ALo(7,"localize"),o.YNc(8,h,3,5,"small",6),o.qZA()()(),o.TgZ(9,"div",7)(10,"div",8),o.YNc(11,M,6,8,"div",9),o.qZA(),o.TgZ(12,"div",10)(13,"div",11)(14,"a",12),o.NdJ("click",function(){return S.gotoAllExpiringTenants()}),o._uU(15),o.ALo(16,"localize"),o.qZA(),o._UZ(17,"i",13),o.qZA()()()()),2&L&&(o.xp6(6),o.hij(" ",o.lcZ(7,4,"SubscriptionExpiringTenants")," "),o.xp6(2),o.Q6J("ngIf",S.expiringTenantsData),o.xp6(3),o.Q6J("ngIf",!S.dataLoading),o.xp6(4),o.hij(" ",o.lcZ(16,6,"SeeAllRecords")," "))},dependencies:[wt.O5,Rt.U,q.$,oi.iA,li.jx,Zt.F]})}return C})();function at(C,P){1&C&&(o.TgZ(0,"span"),o._uU(1,"..."),o.qZA())}function nt(C,P){if(1&C){const T=o.EpF();o.TgZ(0,"span",22),o.NdJ("countoChange",function(S){o.CHM(T);const j=o.oxw();return o.KtG(j.countoNewSubscriptionAmount=S)}),o._uU(1),o.ALo(2,"currency"),o.qZA()}if(2&C){const T=o.oxw();o.Q6J("step",30)("countTo",T.topStatsData.newSubscriptionAmount)("countFrom",0)("duration",5),o.xp6(1),o.hij(" ",o.gM2(2,5,T.countoNewSubscriptionAmount,"USD","symbol","1.0-0")," ")}}function Ct(C,P){1&C&&(o.TgZ(0,"span"),o._uU(1,"..."),o.qZA())}function Ht(C,P){if(1&C){const T=o.EpF();o.TgZ(0,"span",22),o.NdJ("countoChange",function(S){o.CHM(T);const j=o.oxw();return o.KtG(j.countoNewTenantsCount=S)}),o._uU(1),o.ALo(2,"number"),o.qZA()}if(2&C){const T=o.oxw();o.Q6J("step",10)("countTo",T.topStatsData.newTenantsCount)("countFrom",0)("duration",5),o.xp6(1),o.hij(" ",o.xi3(2,5,T.countoNewTenantsCount,"1.0-0")," ")}}function ne(C,P){1&C&&(o.TgZ(0,"span"),o._uU(1,"..."),o.qZA())}function le(C,P){if(1&C){const T=o.EpF();o.TgZ(0,"span",22),o.NdJ("countoChange",function(S){o.CHM(T);const j=o.oxw();return o.KtG(j.countoDashboardPlaceholder1=S)}),o._uU(1),o.ALo(2,"number"),o.qZA()}if(2&C){const T=o.oxw();o.Q6J("step",100)("countTo",T.topStatsData.dashboardPlaceholder1)("countFrom",0)("duration",5),o.xp6(1),o.hij(" ",o.xi3(2,5,T.countoDashboardPlaceholder1,"1.0-0")," ")}}function Wt(C,P){1&C&&(o.TgZ(0,"span"),o._uU(1,"..."),o.qZA())}function ce(C,P){if(1&C){const T=o.EpF();o.TgZ(0,"span",22),o.NdJ("countoChange",function(S){o.CHM(T);const j=o.oxw();return o.KtG(j.countoDashboardPlaceholder2=S)}),o._uU(1),o.ALo(2,"number"),o.qZA()}if(2&C){const T=o.oxw();o.Q6J("step",100)("countTo",T.topStatsData.dashboardPlaceholder2)("countFrom",0)("duration",5),o.xp6(1),o.hij(" ",o.xi3(2,5,T.countoDashboardPlaceholder2,"1.0-0")," ")}}let _e=(()=>{class C extends N{constructor(T,L,S){super(T),this._hostDashboardServiceProxy=L,this._dateTimeService=S,this.countoNewSubscriptionAmount=0,this.countoNewTenantsCount=0,this.countoDashboardPlaceholder1=0,this.countoDashboardPlaceholder2=0,this.selectedDateRange=[this._dateTimeService.getStartOfDayMinusDays(7),this._dateTimeService.getEndOfDay()],this.loading=!0,this.loadHostTopStatsData=()=>{this._hostDashboardServiceProxy.getTopStatsData(this.selectedDateRange[0],this.selectedDateRange[1]).subscribe(j=>{this.topStatsData=j,this.loading=!1})},this.onDateRangeFilterChange=j=>{!j||2!==j.length||this.selectedDateRange[0]===j[0]&&this.selectedDateRange[1]===j[1]||(this.selectedDateRange[0]=j[0],this.selectedDateRange[1]=j[1],this.runDelayed(this.loadHostTopStatsData))}}ngOnInit(){this.subDateRangeFilter(),this.runDelayed(this.loadHostTopStatsData)}subDateRangeFilter(){this.subscribeToEvent("app.dashboardFilters.dateRangePicker.onDateChange",this.onDateRangeFilterChange)}static#t=this.\u0275fac=function(L){return new(L||C)(o.Y36(o.zs3),o.Y36(H.EFb),o.Y36(fe.C))};static#e=this.\u0275cmp=o.Xpm({type:C,selectors:[["app-widget-host-top-stats"]],features:[o.qOj],decls:65,vars:42,consts:[["perfectScrollbar","",1,"row","row-no-padding","row-col-separator-xl","h-100"],[1,"col"],[1,"card","card-custom","bgi-no-repeat","card-stretch","new-subscription-statistics","h-100"],[1,"card-body"],[1,"card-title","text-left","fw-bolder","text-dark","fs-h6","mb-4","text-hover-state-dark","d-block"],[1,"text-left","text-primary","fw-bolder","fs-h2","me-2"],[4,"ngIf"],["counto","",3,"step","countTo","countFrom","duration","countoChange",4,"ngIf"],[1,"progress","progress-xs","mt-7","bg-primary-o-60"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","100%"],[1,"text-left","text-muted","mt-1","status-title"],[1,"text-left","text-info","fw-bolder","fs-h2","me-2"],[1,"progress","progress-xs","mt-7","bg-danger-o-60"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info",2,"width","100%"],[1,"text-left","text-danger","fw-bolder","fs-h2","me-2"],["role","progressbar","aria-valuenow","45","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","45%"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"text-muted","me-2","fs-sm","fw-bold"],[1,"text-muted","fs-sm","fw-bold"],[1,"text-left","text-success","fw-bolder","fs-h2","me-2"],[1,"progress","progress-xs","mt-7","bg-success-o-60"],["role","progressbar","aria-valuenow","65","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",2,"width","65%"],["counto","",3,"step","countTo","countFrom","duration","countoChange"]],template:function(L,S){1&L&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),o._uU(5),o.ALo(6,"localize"),o.qZA(),o.TgZ(7,"div",5),o.YNc(8,at,2,0,"span",6),o.YNc(9,nt,3,10,"span",7),o.qZA(),o.TgZ(10,"div",8),o._UZ(11,"div",9),o.qZA(),o.TgZ(12,"div",10),o._uU(13),o.ALo(14,"luxonFormat"),o.ALo(15,"luxonFormat"),o.qZA()()()(),o.TgZ(16,"div",1)(17,"div",2)(18,"div",3)(19,"div",4),o._uU(20),o.ALo(21,"localize"),o.qZA(),o.TgZ(22,"div",11),o.YNc(23,Ct,2,0,"span",6),o.YNc(24,Ht,3,8,"span",7),o.qZA(),o.TgZ(25,"div",12),o._UZ(26,"div",13),o.qZA(),o.TgZ(27,"div",10),o._uU(28),o.ALo(29,"luxonFormat"),o.ALo(30,"luxonFormat"),o.qZA()()()(),o.TgZ(31,"div",1)(32,"div",2)(33,"div",3)(34,"div",4),o._uU(35),o.ALo(36,"localize"),o.qZA(),o.TgZ(37,"div",14),o.YNc(38,ne,2,0,"span",6),o.YNc(39,le,3,8,"span",7),o.qZA(),o.TgZ(40,"div",12),o._UZ(41,"div",15),o.qZA(),o.TgZ(42,"div",16)(43,"span",17),o._uU(44),o.ALo(45,"localize"),o.qZA(),o.TgZ(46,"span",18),o._uU(47,"45%"),o.qZA()()()()(),o.TgZ(48,"div",1)(49,"div",2)(50,"div",3)(51,"div",4),o._uU(52),o.ALo(53,"localize"),o.qZA(),o.TgZ(54,"div",19),o.YNc(55,Wt,2,0,"span",6),o.YNc(56,ce,3,8,"span",7),o.qZA(),o.TgZ(57,"div",20),o._UZ(58,"div",21),o.qZA(),o.TgZ(59,"div",16)(60,"span",17),o._uU(61),o.ALo(62,"localize"),o.qZA(),o.TgZ(63,"span",18),o._uU(64,"65%"),o.qZA()()()()()()),2&L&&(o.xp6(5),o.hij(" ",o.lcZ(6,18,"NewSubscriptionAmount")," "),o.xp6(3),o.Q6J("ngIf",!S.topStatsData),o.xp6(1),o.Q6J("ngIf",S.topStatsData),o.xp6(4),o.AsE(" ",o.xi3(14,20,S.selectedDateRange[0],"D")," - ",o.xi3(15,23,S.selectedDateRange[1],"D")," "),o.xp6(7),o.hij(" ",o.lcZ(21,26,"NewTenants")," "),o.xp6(3),o.Q6J("ngIf",!S.topStatsData),o.xp6(1),o.Q6J("ngIf",S.topStatsData),o.xp6(4),o.AsE(" ",o.xi3(29,28,S.selectedDateRange[0],"D")," - ",o.xi3(30,31,S.selectedDateRange[1],"D")," "),o.xp6(7),o.hij(" ",o.lcZ(36,34,"DashboardSampleStatistics")," "),o.xp6(3),o.Q6J("ngIf",!S.topStatsData),o.xp6(1),o.Q6J("ngIf",S.topStatsData),o.xp6(5),o.hij(" ",o.lcZ(45,36,"DashboardSampleStatisticsHelpText")," "),o.xp6(8),o.hij(" ",o.lcZ(53,38,"DashboardSampleStatistics")," 2 "),o.xp6(3),o.Q6J("ngIf",!S.topStatsData),o.xp6(1),o.Q6J("ngIf",S.topStatsData),o.xp6(5),o.hij(" ",o.lcZ(62,40,"DashboardSampleStatisticsHelpText")," "))},dependencies:[wt.O5,q.$,me.T,wt.JJ,wt.H9,xe.n,Zt.F]})}return C})();var Ti=R(81243),Ye=R(53279);let nn=(()=>{class C extends ht.c{constructor(T,L){super(T),this._dateTimeService=L,this.selectedDateRange=[this._dateTimeService.getStartOfDayMinusDays(7),this._dateTimeService.getEndOfDay()]}onChange(){abp.event.trigger("app.dashboardFilters.dateRangePicker.onDateChange",this.selectedDateRange)}static#t=this.\u0275fac=function(L){return new(L||C)(o.Y36(o.zs3),o.Y36(fe.C))};static#e=this.\u0275cmp=o.Xpm({type:C,selectors:[["app-filter-date-range-picker"]],features:[o.qOj],decls:8,vars:9,consts:[[1,"input-group"],["type","text","disabled","disabled","bsDaterangepicker","","dateRangePickerLuxonModifier","","placement","bottom",1,"form-control","date-range-filter",3,"value","date","dateChange"],["dateRangePicker","bsDaterangepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-calendar-day","p-0",2,"color","white"]],template:function(L,S){if(1&L){const j=o.EpF();o.TgZ(0,"div",0)(1,"input",1,2),o.NdJ("dateChange",function(we){return S.selectedDateRange=we})("dateChange",function(){return S.onChange()}),o.ALo(3,"luxonFormat"),o.ALo(4,"luxonFormat"),o.qZA(),o.TgZ(5,"div",3)(6,"button",4),o.NdJ("click",function(){o.CHM(j);const we=o.MAs(2);return o.KtG(we.toggle())}),o._UZ(7,"i",5),o.qZA()()()}2&L&&(o.xp6(1),o.hYB("value","",o.xi3(3,3,S.selectedDateRange[0],"ff")," - ",o.xi3(4,6,S.selectedDateRange[1],"ff"),""),o.Q6J("date",S.selectedDateRange))},dependencies:[Ti.t,Ye.FR,Ye.TB,xe.n]})}return C})();class ps extends rt{constructor(){super(...arguments),this.totalProfit=0,this.totalProfitCounter=0,this.newFeedbacks=0,this.newFeedbacksCounter=0,this.newOrders=0,this.newOrdersCounter=0,this.newUsers=0,this.newUsersCounter=0,this.totalProfitChange=76,this.totalProfitChangeCounter=0,this.newFeedbacksChange=85,this.newFeedbacksChangeCounter=0,this.newOrdersChange=45,this.newOrdersChangeCounter=0,this.newUsersChange=57,this.newUsersChangeCounter=0}init(P,T,L,S){this.totalProfit=P,this.newFeedbacks=T,this.newOrders=L,this.newUsers=S,this.hideLoading()}}let fs=(()=>{class C extends N{constructor(T,L){super(T),this._tenantDashboardServiceProxy=L,this.dashboardTopStats=new ps}ngOnInit(){this.loadTopStatsData()}loadTopStatsData(){this._tenantDashboardServiceProxy.getTopStats().subscribe(T=>{this.dashboardTopStats.init(T.totalProfit,T.newFeedbacks,T.newOrders,T.newUsers)})}static#t=this.\u0275fac=function(L){return new(L||C)(o.Y36(o.zs3),o.Y36(H.AdH))};static#e=this.\u0275cmp=o.Xpm({type:C,selectors:[["app-widget-top-stats"]],features:[o.qOj],decls:79,vars:24,consts:[["perfectScrollbar","",1,"row","row-no-padding","row-col-separator-xl","h-100"],[1,"col","pr-0"],[1,"card","card-custom","bgi-no-repeat","card-stretch","new-subscription-statistics","h-100"],[1,"card-body"],[1,"text-left","fw-bolder","text-dark","fs-h6","text-hover-state-dark","d-block"],[1,"text-muted","fw-bold","text-left","float-left","col-12","p-0","mb-4"],[1,"text-left","text-primary","fw-bolder","fs-h2","me-2"],["counto","",3,"step","duration","countFrom","countTo","countoChange"],[1,"progress","progress-xs","bg-primary-o-60"],["role","progressbar","aria-valuenow","76","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","76%"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"text-muted","me-2","fs-sm","fw-bold"],[1,"text-muted","fs-sm","fw-bold"],[1,"counterup"],[1,"text-left","text-info","fw-bolder","fs-h2","me-2"],[1,"progress","progress-xs","bg-info-o-60"],["role","progressbar","aria-valuenow","85","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info",2,"width","85%"],[1,"text-left","text-danger","fw-bolder","fs-h2","me-2"],[1,"progress","progress-xs","bg-danger-o-60"],["role","progressbar","aria-valuenow","45","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","45%"],[1,"col"],[1,"text-left","text-success","fw-bolder","fs-h2","me-2"],[1,"progress","progress-xs","bg-success-o-60"],["role","progressbar","aria-valuenow","57","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",2,"width","57%"]],template:function(L,S){1&L&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),o._uU(5," Total Profit "),o.qZA(),o.TgZ(6,"span",5),o._uU(7,"All Customs Value"),o.qZA(),o.TgZ(8,"div",6),o._uU(9," $ "),o.TgZ(10,"span",7),o.NdJ("countoChange",function(lt){return S.dashboardTopStats.totalProfitCounter=lt}),o._uU(11),o.qZA()(),o.TgZ(12,"div",8),o._UZ(13,"div",9),o.qZA(),o.TgZ(14,"div",10)(15,"span",11),o._uU(16,"Change"),o.qZA(),o.TgZ(17,"span",12)(18,"span",13),o._uU(19),o.qZA(),o._uU(20," % "),o.qZA()()()()(),o.TgZ(21,"div",1)(22,"div",2)(23,"div",3)(24,"span",4),o._uU(25," New Feedbacks "),o.qZA(),o.TgZ(26,"span",5),o._uU(27,"Customer Review"),o.qZA(),o.TgZ(28,"div",14),o._uU(29," $ "),o.TgZ(30,"span",7),o.NdJ("countoChange",function(lt){return S.dashboardTopStats.newFeedbacksCounter=lt}),o._uU(31),o.qZA()(),o.TgZ(32,"div",15),o._UZ(33,"div",16),o.qZA(),o.TgZ(34,"div",10)(35,"span",11),o._uU(36,"Change"),o.qZA(),o.TgZ(37,"span",12)(38,"span",13),o._uU(39),o.qZA(),o._uU(40," % "),o.qZA()()()()(),o.TgZ(41,"div",1)(42,"div",2)(43,"div",3)(44,"span",4),o._uU(45," New Orders "),o.qZA(),o.TgZ(46,"span",5),o._uU(47,"Fresh Order Amount"),o.qZA(),o.TgZ(48,"div",17)(49,"span",7),o.NdJ("countoChange",function(lt){return S.dashboardTopStats.newOrdersCounter=lt}),o._uU(50),o.qZA()(),o.TgZ(51,"div",18),o._UZ(52,"div",19),o.qZA(),o.TgZ(53,"div",10)(54,"span",11),o._uU(55,"Change"),o.qZA(),o.TgZ(56,"span",12)(57,"span",13),o._uU(58),o.qZA(),o._uU(59," % "),o.qZA()()()()(),o.TgZ(60,"div",20)(61,"div",2)(62,"div",3)(63,"span",4),o._uU(64," New Users "),o.qZA(),o.TgZ(65,"span",5),o._uU(66,"Joined New User"),o.qZA(),o.TgZ(67,"div",21)(68,"span",7),o.NdJ("countoChange",function(lt){return S.dashboardTopStats.newUsersCounter=lt}),o._uU(69),o.qZA()(),o.TgZ(70,"div",22),o._UZ(71,"div",23),o.qZA(),o.TgZ(72,"div",10)(73,"span",11),o._uU(74,"Change"),o.qZA(),o.TgZ(75,"span",12)(76,"span",13),o._uU(77),o.qZA(),o._uU(78," % "),o.qZA()()()()()()),2&L&&(o.xp6(10),o.Q6J("step",30)("duration",1)("countFrom",0)("countTo",S.dashboardTopStats.totalProfit),o.xp6(1),o.hij(" ",S.dashboardTopStats.totalProfitCounter.toFixed(0)," "),o.xp6(8),o.Oqu(S.dashboardTopStats.totalProfitChange),o.xp6(11),o.Q6J("step",30)("duration",1)("countFrom",0)("countTo",S.dashboardTopStats.newFeedbacks),o.xp6(1),o.hij(" ",S.dashboardTopStats.newFeedbacksCounter.toFixed(0)," "),o.xp6(8),o.Oqu(S.dashboardTopStats.newFeedbacks),o.xp6(10),o.Q6J("step",30)("duration",1)("countFrom",0)("countTo",S.dashboardTopStats.newOrders),o.xp6(1),o.hij(" ",S.dashboardTopStats.newOrdersCounter.toFixed(0)," "),o.xp6(8),o.Oqu(S.dashboardTopStats.newOrdersChange),o.xp6(10),o.Q6J("step",30)("duration",1)("countFrom",0)("countTo",S.dashboardTopStats.newUsers),o.xp6(1),o.hij(" ",S.dashboardTopStats.newUsersCounter.toFixed(0)," "),o.xp6(8),o.Oqu(S.dashboardTopStats.newUsersChange))},dependencies:[q.$,me.T],styles:[".card.card-custom[_ngcontent-%COMP%] > .card-body[_ngcontent-%COMP%]{padding:1rem 1.25rem}"]})}return C})(),xs=(()=>{class C{constructor(){this.WidgetViewDefinitions=[],this.widgetFilterDefinitions=[],this.initializeConfiguration()}initializeConfiguration(){let T=new v(et.t.filters.filterDateRangePicker,nn);this.widgetFilterDefinitions.push(T);let L=new n(et.t.widgets.tenant.generalStats,Ut,6,4),S=new n(et.t.widgets.tenant.dailySales,ge),j=new n(et.t.widgets.tenant.profitShare,Te),lt=new n(et.t.widgets.tenant.memberActivity,fi),we=new n(et.t.widgets.tenant.regionalStats,oe),_s=new n(et.t.widgets.tenant.salesSummary,Pe),vs=new n(et.t.widgets.tenant.topStats,fs),ys=new n(et.t.widgets.host.incomeStatistics,ri),Ts=new n(et.t.widgets.host.editionStatistics,I),bs=new n(et.t.widgets.host.recentTenants,F),Cs=new n(et.t.widgets.host.subscriptionExpiringTenants,J),sn=new n(et.t.widgets.host.topStats,_e);this.WidgetViewDefinitions.push(L),this.WidgetViewDefinitions.push(S),this.WidgetViewDefinitions.push(j),this.WidgetViewDefinitions.push(lt),this.WidgetViewDefinitions.push(we),this.WidgetViewDefinitions.push(_s),this.WidgetViewDefinitions.push(vs),this.WidgetViewDefinitions.push(ys),this.WidgetViewDefinitions.push(Ts),this.WidgetViewDefinitions.push(bs),this.WidgetViewDefinitions.push(Cs),this.WidgetViewDefinitions.push(sn)}static#t=this.\u0275fac=function(L){return new(L||C)};static#e=this.\u0275prov=o.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},52178:mi=>{function Yt(v){return v instanceof Buffer?Buffer.from(v):new v.constructor(v.buffer.slice(),v.byteOffset,v.length)}mi.exports=function R(v){return(v=v||{}).circles?function n(v){var et=[],rt=[];return v.proto?function o(N){if("object"!=typeof N||null===N)return N;if(N instanceof Date)return new Date(N);if(Array.isArray(N))return ht(N,o);if(N instanceof Map)return new Map(ht(Array.from(N),o));if(N instanceof Set)return new Set(ht(Array.from(N),o));var H={};for(var st in et.push(N),rt.push(H),N){var q=N[st];if("object"!=typeof q||null===q)H[st]=q;else if(q instanceof Date)H[st]=new Date(q);else if(q instanceof Map)H[st]=new Map(ht(Array.from(q),o));else if(q instanceof Set)H[st]=new Set(ht(Array.from(q),o));else if(ArrayBuffer.isView(q))H[st]=Yt(q);else{var gt=et.indexOf(q);H[st]=-1!==gt?rt[gt]:o(q)}}return et.pop(),rt.pop(),H}:function K(N){if("object"!=typeof N||null===N)return N;if(N instanceof Date)return new Date(N);if(Array.isArray(N))return ht(N,K);if(N instanceof Map)return new Map(ht(Array.from(N),K));if(N instanceof Set)return new Set(ht(Array.from(N),K));var H={};for(var st in et.push(N),rt.push(H),N)if(!1!==Object.hasOwnProperty.call(N,st)){var q=N[st];if("object"!=typeof q||null===q)H[st]=q;else if(q instanceof Date)H[st]=new Date(q);else if(q instanceof Map)H[st]=new Map(ht(Array.from(q),K));else if(q instanceof Set)H[st]=new Set(ht(Array.from(q),K));else if(ArrayBuffer.isView(q))H[st]=Yt(q);else{var gt=et.indexOf(q);H[st]=-1!==gt?rt[gt]:K(q)}}return et.pop(),rt.pop(),H};function ht(N,H){for(var st=Object.keys(N),q=new Array(st.length),gt=0;gt<st.length;gt++){var Ut=st[gt],$t=N[Ut];if("object"!=typeof $t||null===$t)q[Ut]=$t;else if($t instanceof Date)q[Ut]=new Date($t);else if(ArrayBuffer.isView($t))q[Ut]=Yt($t);else{var re=et.indexOf($t);q[Ut]=-1!==re?rt[re]:H($t)}}return q}}(v):v.proto?function ht(K){if("object"!=typeof K||null===K)return K;if(K instanceof Date)return new Date(K);if(Array.isArray(K))return et(K,ht);if(K instanceof Map)return new Map(et(Array.from(K),ht));if(K instanceof Set)return new Set(et(Array.from(K),ht));var o={};for(var N in K){var H=K[N];o[N]="object"!=typeof H||null===H?H:H instanceof Date?new Date(H):H instanceof Map?new Map(et(Array.from(H),ht)):H instanceof Set?new Set(et(Array.from(H),ht)):ArrayBuffer.isView(H)?Yt(H):ht(H)}return o}:function rt(K){if("object"!=typeof K||null===K)return K;if(K instanceof Date)return new Date(K);if(Array.isArray(K))return et(K,rt);if(K instanceof Map)return new Map(et(Array.from(K),rt));if(K instanceof Set)return new Set(et(Array.from(K),rt));var o={};for(var N in K)if(!1!==Object.hasOwnProperty.call(K,N)){var H=K[N];o[N]="object"!=typeof H||null===H?H:H instanceof Date?new Date(H):H instanceof Map?new Map(et(Array.from(H),rt)):H instanceof Set?new Set(et(Array.from(H),rt)):ArrayBuffer.isView(H)?Yt(H):rt(H)}return o};function et(K,o){for(var N=Object.keys(K),H=new Array(N.length),st=0;st<N.length;st++){var q=N[st],gt=K[q];H[q]="object"!=typeof gt||null===gt?gt:gt instanceof Date?new Date(gt):ArrayBuffer.isView(gt)?Yt(gt):o(gt)}return H}}},24922:(mi,Yt,R)=>{R.d(Yt,{rt:()=>Kp,vP:()=>ef,vz:()=>tf,pT:()=>of,K$:()=>rf,Dw:()=>hf,Zk:()=>df,JU:()=>mf,NA:()=>yf,Nm:()=>vf});var n=R(99468),v=R(96814);class Ce{attach(s){return this._attachedHost=s,s.attach(this)}detach(){let s=this._attachedHost;null!=s&&(this._attachedHost=null,s.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(s){this._attachedHost=s}}class fe extends Ce{constructor(s,t,i,a,r){super(),this.component=s,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=a,this.projectableNodes=r}}class xe extends Ce{constructor(s,t,i,a){super(),this.templateRef=s,this.viewContainerRef=t,this.context=i,this.injector=a}get origin(){return this.templateRef.elementRef}attach(s,t=this.context){return this.context=t,super.attach(s)}detach(){return this.context=void 0,super.detach()}}class ai extends Ce{constructor(s){super(),this.element=s instanceof n.SBq?s.nativeElement:s}}class Ve{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(s){return s instanceof fe?(this._attachedPortal=s,this.attachComponentPortal(s)):s instanceof xe?(this._attachedPortal=s,this.attachTemplatePortal(s)):this.attachDomPortal&&s instanceof ai?(this._attachedPortal=s,this.attachDomPortal(s)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(s){this._disposeFn=s}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ri extends Ve{constructor(s,t,i,a,r){super(),this.outletElement=s,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=a,this.attachDomPortal=l=>{const c=l.element,u=this._document.createComment("dom-portal");c.parentNode.insertBefore(u,c),this.outletElement.appendChild(c),this._attachedPortal=l,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=r}attachComponentPortal(s){const i=(s.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(s.component);let a;return s.viewContainerRef?(a=s.viewContainerRef.createComponent(i,s.viewContainerRef.length,s.injector||s.viewContainerRef.injector,s.projectableNodes||void 0),this.setDisposeFn(()=>a.destroy())):(a=i.create(s.injector||this._defaultInjector||n.zs3.NULL),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=s,a}attachTemplatePortal(s){let t=s.viewContainerRef,i=t.createEmbeddedView(s.templateRef,s.context,{injector:s.injector});return i.rootNodes.forEach(a=>this.outletElement.appendChild(a)),i.detectChanges(),this.setDisposeFn(()=>{let a=t.indexOf(i);-1!==a&&t.remove(a)}),this._attachedPortal=s,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(s){return s.hostView.rootNodes[0]}}var vi=R(92438),yi=R(83620),F=R(86825);function yt(){}function A(e){return null==e?yt:function(){return this.querySelector(e)}}function h(){return[]}function d(e){return null==e?h:function(){return this.querySelectorAll(e)}}function k(e){return function(){return this.matches(e)}}function M(e){return function(s){return s.matches(e)}}var J=Array.prototype.find;function nt(){return this.firstElementChild}var Ht=Array.prototype.filter;function ne(){return Array.from(this.children)}function _e(e){return new Array(e.length)}function Ye(e,s){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=s}function ps(e,s,t,i,a,r){for(var c,l=0,u=s.length,g=r.length;l<g;++l)(c=s[l])?(c.__data__=r[l],i[l]=c):t[l]=new Ye(e,r[l]);for(;l<u;++l)(c=s[l])&&(a[l]=c)}function fs(e,s,t,i,a,r,l){var c,u,b,g=new Map,p=s.length,f=r.length,_=new Array(p);for(c=0;c<p;++c)(u=s[c])&&(_[c]=b=l.call(u,u.__data__,c,s)+"",g.has(b)?a[c]=u:g.set(b,u));for(c=0;c<f;++c)b=l.call(e,r[c],c,r)+"",(u=g.get(b))?(i[c]=u,u.__data__=r[c],g.delete(b)):t[c]=new Ye(e,r[c]);for(c=0;c<p;++c)(u=s[c])&&g.get(_[c])===u&&(a[c]=u)}function xs(e){return e.__data__}function P(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function we(e,s){return e<s?-1:e>s?1:e>=s?0:NaN}Ye.prototype={constructor:Ye,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,s){return this._parent.insertBefore(e,s)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var sn="http://www.w3.org/1999/xhtml";const Sa={svg:"http://www.w3.org/2000/svg",xhtml:sn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ln(e){var s=e+="",t=s.indexOf(":");return t>=0&&"xmlns"!==(s=e.slice(0,t))&&(e=e.slice(t+1)),Sa.hasOwnProperty(s)?{space:Sa[s],local:e}:e}function Go(e){return function(){this.removeAttribute(e)}}function Wo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Xo(e,s){return function(){this.setAttribute(e,s)}}function Uo(e,s){return function(){this.setAttributeNS(e.space,e.local,s)}}function qo(e,s){return function(){var t=s.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function Jo(e,s){return function(){var t=s.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function ka(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function jo(e){return function(){this.style.removeProperty(e)}}function Ko(e,s,t){return function(){this.style.setProperty(e,s,t)}}function tl(e,s,t){return function(){var i=s.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,t)}}function $i(e,s){return e.style.getPropertyValue(s)||ka(e).getComputedStyle(e,null).getPropertyValue(s)}function il(e){return function(){delete this[e]}}function nl(e,s){return function(){this[e]=s}}function sl(e,s){return function(){var t=s.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function Aa(e){return e.trim().split(/^|\s+/)}function ws(e){return e.classList||new La(e)}function La(e){this._node=e,this._names=Aa(e.getAttribute("class")||"")}function Da(e,s){for(var t=ws(e),i=-1,a=s.length;++i<a;)t.add(s[i])}function Ma(e,s){for(var t=ws(e),i=-1,a=s.length;++i<a;)t.remove(s[i])}function rl(e){return function(){Da(this,e)}}function ol(e){return function(){Ma(this,e)}}function ll(e,s){return function(){(s.apply(this,arguments)?Da:Ma)(this,e)}}function hl(){this.textContent=""}function dl(e){return function(){this.textContent=e}}function gl(e){return function(){var s=e.apply(this,arguments);this.textContent=s??""}}function ml(){this.innerHTML=""}function pl(e){return function(){this.innerHTML=e}}function fl(e){return function(){var s=e.apply(this,arguments);this.innerHTML=s??""}}function _l(){this.nextSibling&&this.parentNode.appendChild(this)}function yl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bl(e){return function(){var s=this.ownerDocument,t=this.namespaceURI;return t===sn&&s.documentElement.namespaceURI===sn?s.createElement(e):s.createElementNS(t,e)}}function Cl(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Fa(e){var s=Ln(e);return(s.local?Cl:bl)(s)}function Sl(){return null}function Al(){var e=this.parentNode;e&&e.removeChild(this)}function Dl(){var e=this.cloneNode(!1),s=this.parentNode;return s?s.insertBefore(e,this.nextSibling):e}function Ml(){var e=this.cloneNode(!0),s=this.parentNode;return s?s.insertBefore(e,this.nextSibling):e}function Ol(e){return function(){var s=this.__on;if(s){for(var r,t=0,i=-1,a=s.length;t<a;++t)r=s[t],e.type&&r.type!==e.type||r.name!==e.name?s[++i]=r:this.removeEventListener(r.type,r.listener,r.options);++i?s.length=i:delete this.__on}}}function $l(e,s,t){return function(){var a,i=this.__on,r=function Il(e){return function(s){e.call(this,s,this.__data__)}}(s);if(i)for(var l=0,c=i.length;l<c;++l)if((a=i[l]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=r,a.options=t),void(a.value=s);this.addEventListener(e.type,r,t),a={type:e.type,name:e.name,value:s,listener:r,options:t},i?i.push(a):this.__on=[a]}}function Ea(e,s,t){var i=ka(e),a=i.CustomEvent;"function"==typeof a?a=new a(s,t):(a=i.document.createEvent("Event"),t?(a.initEvent(s,t.bubbles,t.cancelable),a.detail=t.detail):a.initEvent(s,!1,!1)),e.dispatchEvent(a)}function zl(e,s){return function(){return Ea(this,e,s)}}function Rl(e,s){return function(){return Ea(this,e,s.apply(this,arguments))}}La.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var s=this._names.indexOf(e);s>=0&&(this._names.splice(s,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Ia=[null];function he(e,s){this._groups=e,this._parents=s}function Pa(){return new he([[document.documentElement]],Ia)}he.prototype=Pa.prototype={constructor:he,select:function I(e){"function"!=typeof e&&(e=A(e));for(var s=this._groups,t=s.length,i=new Array(t),a=0;a<t;++a)for(var u,g,r=s[a],l=r.length,c=i[a]=new Array(l),p=0;p<l;++p)(u=r[p])&&(g=e.call(u,u.__data__,p,r))&&("__data__"in u&&(g.__data__=u.__data__),c[p]=g);return new he(i,this._parents)},selectAll:function x(e){e="function"==typeof e?function m(e){return function(){return function y(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}(e):d(e);for(var s=this._groups,t=s.length,i=[],a=[],r=0;r<t;++r)for(var u,l=s[r],c=l.length,g=0;g<c;++g)(u=l[g])&&(i.push(e.call(u,u.__data__,g,l)),a.push(u));return new he(i,a)},selectChild:function Ct(e){return this.select(null==e?nt:function at(e){return function(){return J.call(this.children,e)}}("function"==typeof e?e:M(e)))},selectChildren:function Wt(e){return this.selectAll(null==e?ne:function le(e){return function(){return Ht.call(this.children,e)}}("function"==typeof e?e:M(e)))},filter:function ce(e){"function"!=typeof e&&(e=k(e));for(var s=this._groups,t=s.length,i=new Array(t),a=0;a<t;++a)for(var u,r=s[a],l=r.length,c=i[a]=[],g=0;g<l;++g)(u=r[g])&&e.call(u,u.__data__,g,r)&&c.push(u);return new he(i,this._parents)},data:function C(e,s){if(!arguments.length)return Array.from(this,xs);var t=s?fs:ps,i=this._parents,a=this._groups;"function"!=typeof e&&(e=function nn(e){return function(){return e}}(e));for(var r=a.length,l=new Array(r),c=new Array(r),u=new Array(r),g=0;g<r;++g){var p=i[g],f=a[g],_=f.length,b=P(e.call(p,p&&p.__data__,g,i)),D=b.length,$=c[g]=new Array(D),w=l[g]=new Array(D);t(p,f,$,w,u[g]=new Array(_),b,s);for(var Y,X,Z=0,B=0;Z<D;++Z)if(Y=$[Z]){for(Z>=B&&(B=Z+1);!(X=w[B])&&++B<D;);Y._next=X||null}}return(l=new he(l,i))._enter=c,l._exit=u,l},enter:function Ti(){return new he(this._enter||this._groups.map(_e),this._parents)},exit:function T(){return new he(this._exit||this._groups.map(_e),this._parents)},join:function L(e,s,t){var i=this.enter(),a=this,r=this.exit();return"function"==typeof e?(i=e(i))&&(i=i.selection()):i=i.append(e+""),null!=s&&(a=s(a))&&(a=a.selection()),null==t?r.remove():t(r),i&&a?i.merge(a).order():a},merge:function S(e){for(var s=e.selection?e.selection():e,t=this._groups,i=s._groups,a=t.length,l=Math.min(a,i.length),c=new Array(a),u=0;u<l;++u)for(var b,g=t[u],p=i[u],f=g.length,_=c[u]=new Array(f),D=0;D<f;++D)(b=g[D]||p[D])&&(_[D]=b);for(;u<a;++u)c[u]=t[u];return new he(c,this._parents)},selection:function Zl(){return this},order:function j(){for(var e=this._groups,s=-1,t=e.length;++s<t;)for(var l,i=e[s],a=i.length-1,r=i[a];--a>=0;)(l=i[a])&&(r&&4^l.compareDocumentPosition(r)&&r.parentNode.insertBefore(l,r),r=l);return this},sort:function lt(e){function s(f,_){return f&&_?e(f.__data__,_.__data__):!f-!_}e||(e=we);for(var t=this._groups,i=t.length,a=new Array(i),r=0;r<i;++r){for(var g,l=t[r],c=l.length,u=a[r]=new Array(c),p=0;p<c;++p)(g=l[p])&&(u[p]=g);u.sort(s)}return new he(a,this._parents).order()},call:function _s(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function vs(){return Array.from(this)},node:function ys(){for(var e=this._groups,s=0,t=e.length;s<t;++s)for(var i=e[s],a=0,r=i.length;a<r;++a){var l=i[a];if(l)return l}return null},size:function Ts(){let e=0;for(const s of this)++e;return e},empty:function bs(){return!this.node()},each:function Cs(e){for(var s=this._groups,t=0,i=s.length;t<i;++t)for(var c,a=s[t],r=0,l=a.length;r<l;++r)(c=a[r])&&e.call(c,c.__data__,r,a);return this},attr:function Qo(e,s){var t=Ln(e);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((null==s?t.local?Wo:Go:"function"==typeof s?t.local?Jo:qo:t.local?Uo:Xo)(t,s))},style:function el(e,s,t){return arguments.length>1?this.each((null==s?jo:"function"==typeof s?tl:Ko)(e,s,t??"")):$i(this.node(),e)},property:function al(e,s){return arguments.length>1?this.each((null==s?il:"function"==typeof s?sl:nl)(e,s)):this.node()[e]},classed:function cl(e,s){var t=Aa(e+"");if(arguments.length<2){for(var i=ws(this.node()),a=-1,r=t.length;++a<r;)if(!i.contains(t[a]))return!1;return!0}return this.each(("function"==typeof s?ll:s?rl:ol)(t,s))},text:function ul(e){return arguments.length?this.each(null==e?hl:("function"==typeof e?gl:dl)(e)):this.node().textContent},html:function xl(e){return arguments.length?this.each(null==e?ml:("function"==typeof e?fl:pl)(e)):this.node().innerHTML},raise:function vl(){return this.each(_l)},lower:function Tl(){return this.each(yl)},append:function wl(e){var s="function"==typeof e?e:Fa(e);return this.select(function(){return this.appendChild(s.apply(this,arguments))})},insert:function kl(e,s){var t="function"==typeof e?e:Fa(e),i=null==s?Sl:"function"==typeof s?s:A(s);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function Ll(){return this.each(Al)},clone:function Fl(e){return this.select(e?Ml:Dl)},datum:function El(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function Bl(e,s,t){var a,l,i=function Pl(e){return e.trim().split(/^|\s+/).map(function(s){var t="",i=s.indexOf(".");return i>=0&&(t=s.slice(i+1),s=s.slice(0,i)),{type:s,name:t}})}(e+""),r=i.length;if(!(arguments.length<2)){for(c=s?$l:Ol,a=0;a<r;++a)this.each(c(i[a],s,t));return this}var c=this.node().__on;if(c)for(var p,u=0,g=c.length;u<g;++u)for(a=0,p=c[u];a<r;++a)if((l=i[a]).type===p.type&&l.name===p.name)return p.value},dispatch:function Hl(e,s){return this.each(("function"==typeof s?Rl:zl)(e,s))},[Symbol.iterator]:function*Nl(){for(var e=this._groups,s=0,t=e.length;s<t;++s)for(var l,i=e[s],a=0,r=i.length;a<r;++a)(l=i[a])&&(yield l)}};const an=Pa;function te(e){return"string"==typeof e?new he([[document.querySelector(e)]],[document.documentElement]):new he([[e]],Ia)}var Vl={value:()=>{}};function Oa(){for(var i,e=0,s=arguments.length,t={};e<s;++e){if(!(i=arguments[e]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new Dn(t)}function Dn(e){this._=e}function Gl(e,s){for(var a,t=0,i=e.length;t<i;++t)if((a=e[t]).name===s)return a.value}function $a(e,s,t){for(var i=0,a=e.length;i<a;++i)if(e[i].name===s){e[i]=Vl,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=t&&e.push({name:s,value:t}),e}Dn.prototype=Oa.prototype={constructor:Dn,on:function(e,s){var a,t=this._,i=function Yl(e,s){return e.trim().split(/^|\s+/).map(function(t){var i="",a=t.indexOf(".");if(a>=0&&(i=t.slice(a+1),t=t.slice(0,a)),t&&!s.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}(e+"",t),r=-1,l=i.length;if(!(arguments.length<2)){if(null!=s&&"function"!=typeof s)throw new Error("invalid callback: "+s);for(;++r<l;)if(a=(e=i[r]).type)t[a]=$a(t[a],e.name,s);else if(null==s)for(a in t)t[a]=$a(t[a],e.name,null);return this}for(;++r<l;)if((a=(e=i[r]).type)&&(a=Gl(t[a],e.name)))return a},copy:function(){var e={},s=this._;for(var t in s)e[t]=s[t].slice();return new Dn(e)},call:function(e,s){if((a=arguments.length-2)>0)for(var a,r,t=new Array(a),i=0;i<a;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,a=(r=this._[e]).length;i<a;++i)r[i].value.apply(s,t)},apply:function(e,s,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],a=0,r=i.length;a<r;++a)i[a].value.apply(s,t)}};const Ba=Oa,Ss={capture:!0,passive:!1};function ks(e){e.preventDefault(),e.stopImmediatePropagation()}function As(e,s,t){e.prototype=s.prototype=t,t.constructor=e}function za(e,s){var t=Object.create(e.prototype);for(var i in s)t[i]=s[i];return t}function rn(){}var Mn=1/.7,Bi="\\s*([+-]?\\d+)\\s*",ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ul=/^#([0-9a-f]{3,8})$/,ql=new RegExp(`^rgb\\(${Bi},${Bi},${Bi}\\)$`),Jl=new RegExp(`^rgb\\(${$e},${$e},${$e}\\)$`),Ql=new RegExp(`^rgba\\(${Bi},${Bi},${Bi},${ln}\\)$`),jl=new RegExp(`^rgba\\(${$e},${$e},${$e},${ln}\\)$`),Kl=new RegExp(`^hsl\\(${ln},${$e},${$e}\\)$`),tc=new RegExp(`^hsla\\(${ln},${$e},${$e},${ln}\\)$`),Ra={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ha(){return this.rgb().formatHex()}function Na(){return this.rgb().formatRgb()}function bi(e){var s,t;return e=(e+"").trim().toLowerCase(),(s=Ul.exec(e))?(t=s[1].length,s=parseInt(s[1],16),6===t?Za(s):3===t?new se(s>>8&15|s>>4&240,s>>4&15|240&s,(15&s)<<4|15&s,1):8===t?Fn(s>>24&255,s>>16&255,s>>8&255,(255&s)/255):4===t?Fn(s>>12&15|s>>8&240,s>>8&15|s>>4&240,s>>4&15|240&s,((15&s)<<4|15&s)/255):null):(s=ql.exec(e))?new se(s[1],s[2],s[3],1):(s=Jl.exec(e))?new se(255*s[1]/100,255*s[2]/100,255*s[3]/100,1):(s=Ql.exec(e))?Fn(s[1],s[2],s[3],s[4]):(s=jl.exec(e))?Fn(255*s[1]/100,255*s[2]/100,255*s[3]/100,s[4]):(s=Kl.exec(e))?Ga(s[1],s[2]/100,s[3]/100,1):(s=tc.exec(e))?Ga(s[1],s[2]/100,s[3]/100,s[4]):Ra.hasOwnProperty(e)?Za(Ra[e]):"transparent"===e?new se(NaN,NaN,NaN,0):null}function Za(e){return new se(e>>16&255,e>>8&255,255&e,1)}function Fn(e,s,t,i){return i<=0&&(e=s=t=NaN),new se(e,s,t,i)}function En(e,s,t,i){return 1===arguments.length?function nc(e){return e instanceof rn||(e=bi(e)),e?new se((e=e.rgb()).r,e.g,e.b,e.opacity):new se}(e):new se(e,s,t,i??1)}function se(e,s,t,i){this.r=+e,this.g=+s,this.b=+t,this.opacity=+i}function Va(){return`#${wi(this.r)}${wi(this.g)}${wi(this.b)}`}function Ya(){const e=In(this.opacity);return`${1===e?"rgb(":"rgba("}${Ci(this.r)}, ${Ci(this.g)}, ${Ci(this.b)}${1===e?")":`, ${e})`}`}function In(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ci(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wi(e){return((e=Ci(e))<16?"0":"")+e.toString(16)}function Ga(e,s,t,i){return i<=0?e=s=t=NaN:t<=0||t>=1?e=s=NaN:s<=0&&(e=NaN),new Se(e,s,t,i)}function Wa(e){if(e instanceof Se)return new Se(e.h,e.s,e.l,e.opacity);if(e instanceof rn||(e=bi(e)),!e)return new Se;if(e instanceof Se)return e;var s=(e=e.rgb()).r/255,t=e.g/255,i=e.b/255,a=Math.min(s,t,i),r=Math.max(s,t,i),l=NaN,c=r-a,u=(r+a)/2;return c?(l=s===r?(t-i)/c+6*(t<i):t===r?(i-s)/c+2:(s-t)/c+4,c/=u<.5?r+a:2-r-a,l*=60):c=u>0&&u<1?0:l,new Se(l,c,u,e.opacity)}function Se(e,s,t,i){this.h=+e,this.s=+s,this.l=+t,this.opacity=+i}function Xa(e){return(e=(e||0)%360)<0?e+360:e}function Pn(e){return Math.max(0,Math.min(1,e||0))}function Ls(e,s,t){return 255*(e<60?s+(t-s)*e/60:e<180?t:e<240?s+(t-s)*(240-e)/60:s)}function Ua(e,s,t,i,a){var r=e*e,l=r*e;return((1-3*e+3*r-l)*s+(4-6*r+3*l)*t+(1+3*e+3*r-3*l)*i+l*a)/6}As(rn,bi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ha,formatHex:Ha,formatHex8:function ec(){return this.rgb().formatHex8()},formatHsl:function ic(){return Wa(this).formatHsl()},formatRgb:Na,toString:Na}),As(se,En,za(rn,{brighter(e){return e=null==e?Mn:Math.pow(Mn,e),new se(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new se(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new se(Ci(this.r),Ci(this.g),Ci(this.b),In(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Va,formatHex:Va,formatHex8:function sc(){return`#${wi(this.r)}${wi(this.g)}${wi(this.b)}${wi(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ya,toString:Ya})),As(Se,function ac(e,s,t,i){return 1===arguments.length?Wa(e):new Se(e,s,t,i??1)},za(rn,{brighter(e){return e=null==e?Mn:Math.pow(Mn,e),new Se(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new Se(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),s=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*s,a=2*t-i;return new se(Ls(e>=240?e-240:e+120,a,i),Ls(e,a,i),Ls(e<120?e+240:e-120,a,i),this.opacity)},clamp(){return new Se(Xa(this.h),Pn(this.s),Pn(this.l),In(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=In(this.opacity);return`${1===e?"hsl(":"hsla("}${Xa(this.h)}, ${100*Pn(this.s)}%, ${100*Pn(this.l)}%${1===e?")":`, ${e})`}`}}));const Ds=e=>()=>e;function Ja(e,s){var t=s-e;return t?function qa(e,s){return function(t){return e+t*s}}(e,t):Ds(isNaN(e)?s:e)}const On=function e(s){var t=function cc(e){return 1==(e=+e)?Ja:function(s,t){return t-s?function lc(e,s,t){return e=Math.pow(e,t),s=Math.pow(s,t)-e,t=1/t,function(i){return Math.pow(e+i*s,t)}}(s,t,e):Ds(isNaN(s)?t:s)}}(s);function i(a,r){var l=t((a=En(a)).r,(r=En(r)).r),c=t(a.g,r.g),u=t(a.b,r.b),g=Ja(a.opacity,r.opacity);return function(p){return a.r=l(p),a.g=c(p),a.b=u(p),a.opacity=g(p),a+""}}return i.gamma=e,i}(1);function Qa(e){return function(s){var l,c,t=s.length,i=new Array(t),a=new Array(t),r=new Array(t);for(l=0;l<t;++l)c=En(s[l]),i[l]=c.r||0,a[l]=c.g||0,r[l]=c.b||0;return i=e(i),a=e(a),r=e(r),c.opacity=1,function(u){return c.r=i(u),c.g=a(u),c.b=r(u),c+""}}}function ja(e,s){var l,t=s?s.length:0,i=e?Math.min(t,e.length):0,a=new Array(i),r=new Array(t);for(l=0;l<i;++l)a[l]=Si(e[l],s[l]);for(;l<t;++l)r[l]=s[l];return function(c){for(l=0;l<i;++l)r[l]=a[l](c);return r}}function hc(e,s){var t=new Date;return e=+e,s=+s,function(i){return t.setTime(e*(1-i)+s*i),t}}function ke(e,s){return e=+e,s=+s,function(t){return e*(1-t)+s*t}}function dc(e,s){var a,t={},i={};for(a in(null===e||"object"!=typeof e)&&(e={}),(null===s||"object"!=typeof s)&&(s={}),s)a in e?t[a]=Si(e[a],s[a]):i[a]=s[a];return function(r){for(a in t)i[a]=t[a](r);return i}}Qa(function rc(e){var s=e.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,s-1):Math.floor(t*s),a=e[i],r=e[i+1];return Ua((t-i/s)*s,i>0?e[i-1]:2*a-r,a,r,i<s-1?e[i+2]:2*r-a)}}),Qa(function oc(e){var s=e.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*s);return Ua((t-i/s)*s,e[(i+s-1)%s],e[i%s],e[(i+1)%s],e[(i+2)%s])}});var Ms=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fs=new RegExp(Ms.source,"g");function Ka(e,s){var i,a,r,t=Ms.lastIndex=Fs.lastIndex=0,l=-1,c=[],u=[];for(e+="",s+="";(i=Ms.exec(e))&&(a=Fs.exec(s));)(r=a.index)>t&&(r=s.slice(t,r),c[l]?c[l]+=r:c[++l]=r),(i=i[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,u.push({i:l,x:ke(i,a)})),t=Fs.lastIndex;return t<s.length&&(r=s.slice(t),c[l]?c[l]+=r:c[++l]=r),c.length<2?u[0]?function uc(e){return function(s){return e(s)+""}}(u[0].x):function gc(e){return function(){return e}}(s):(s=u.length,function(g){for(var f,p=0;p<s;++p)c[(f=u[p]).i]=f.x(g);return c.join("")})}function mc(e,s){s||(s=[]);var a,t=e?Math.min(s.length,e.length):0,i=s.slice();return function(r){for(a=0;a<t;++a)i[a]=e[a]*(1-r)+s[a]*r;return i}}function Si(e,s){var i,t=typeof s;return null==s||"boolean"===t?Ds(s):("number"===t?ke:"string"===t?(i=bi(s))?(s=i,On):Ka:s instanceof bi?On:s instanceof Date?hc:function pc(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(s)?mc:Array.isArray(s)?ja:"function"!=typeof s.valueOf&&"function"!=typeof s.toString||isNaN(s)?dc:ke)(e,s)}function tr(e,s){if(e=function fc(e){let s;for(;s=e.sourceEvent;)e=s;return e}(e),void 0===s&&(s=e.currentTarget),s){var t=s.ownerSVGElement||s;if(t.createSVGPoint){var i=t.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(s.getScreenCTM().inverse())).x,i.y]}if(s.getBoundingClientRect){var a=s.getBoundingClientRect();return[e.clientX-a.left-s.clientLeft,e.clientY-a.top-s.clientTop]}}return[e.pageX,e.pageY]}var $n,dn,zi=0,cn=0,hn=0,er=1e3,Bn=0,ki=0,zn=0,gn="object"==typeof performance&&performance.now?performance:Date,ir="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Es(){return ki||(ir(xc),ki=gn.now()+zn)}function xc(){ki=0}function Rn(){this._call=this._time=this._next=null}function nr(e,s,t){var i=new Rn;return i.restart(e,s,t),i}function sr(){ki=(Bn=gn.now())+zn,zi=cn=0;try{!function _c(){Es(),++zi;for(var s,e=$n;e;)(s=ki-e._time)>=0&&e._call.call(void 0,s),e=e._next;--zi}()}finally{zi=0,function yc(){for(var e,t,s=$n,i=1/0;s;)s._call?(i>s._time&&(i=s._time),e=s,s=s._next):(t=s._next,s._next=null,s=e?e._next=t:$n=t);dn=e,Is(i)}(),ki=0}}function vc(){var e=gn.now(),s=e-Bn;s>er&&(zn-=s,Bn=e)}function Is(e){zi||(cn&&(cn=clearTimeout(cn)),e-ki>24?(e<1/0&&(cn=setTimeout(sr,e-gn.now()-zn)),hn&&(hn=clearInterval(hn))):(hn||(Bn=gn.now(),hn=setInterval(vc,er)),zi=1,ir(sr)))}function ar(e,s,t){var i=new Rn;return i.restart(a=>{i.stop(),e(a+s)},s=null==s?0:+s,t),i}Rn.prototype=nr.prototype={constructor:Rn,restart:function(e,s,t){if("function"!=typeof e)throw new TypeError("callback is not a function");t=(null==t?Es():+t)+(null==s?0:+s),!this._next&&dn!==this&&(dn?dn._next=this:$n=this,dn=this),this._call=e,this._time=t,Is()},stop:function(){this._call&&(this._call=null,this._time=1/0,Is())}};var Tc=Ba("start","end","cancel","interrupt"),bc=[],rr=0,Ps=2,Hn=3,Os=5,Nn=6;function Zn(e,s,t,i,a,r){var l=e.__transition;if(l){if(t in l)return}else e.__transition={};!function Cc(e,s,t){var a,i=e.__transition;function l(g){var p,f,_,b;if(1!==t.state)return u();for(p in i)if((b=i[p]).name===t.name){if(b.state===Hn)return ar(l);4===b.state?(b.state=Nn,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete i[p]):+p<s&&(b.state=Nn,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete i[p])}if(ar(function(){t.state===Hn&&(t.state=4,t.timer.restart(c,t.delay,t.time),c(g))}),t.state=Ps,t.on.call("start",e,e.__data__,t.index,t.group),t.state===Ps){for(t.state=Hn,a=new Array(_=t.tween.length),p=0,f=-1;p<_;++p)(b=t.tween[p].value.call(e,e.__data__,t.index,t.group))&&(a[++f]=b);a.length=f+1}}function c(g){for(var p=g<t.duration?t.ease.call(null,g/t.duration):(t.timer.restart(u),t.state=Os,1),f=-1,_=a.length;++f<_;)a[f].call(e,p);t.state===Os&&(t.on.call("end",e,e.__data__,t.index,t.group),u())}function u(){for(var g in t.state=Nn,t.timer.stop(),delete i[s],i)return;delete e.__transition}i[s]=t,t.timer=nr(function r(g){t.state=1,t.timer.restart(l,t.delay,t.time),t.delay<=g&&l(g-t.delay)},0,t.time)}(e,t,{name:s,index:i,group:a,on:Tc,tween:bc,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:rr})}function $s(e,s){var t=Ae(e,s);if(t.state>rr)throw new Error("too late; already scheduled");return t}function Be(e,s){var t=Ae(e,s);if(t.state>Hn)throw new Error("too late; already running");return t}function Ae(e,s){var t=e.__transition;if(!t||!(t=t[s]))throw new Error("transition not found");return t}function Bs(e,s){var i,a,l,t=e.__transition,r=!0;if(t){for(l in s=null==s?null:s+"",t)(i=t[l]).name===s?(a=i.state>Ps&&i.state<Os,i.state=Nn,i.timer.stop(),i.on.call(a?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete t[l]):r=!1;r&&delete e.__transition}}var Vn,cr=180/Math.PI,zs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hr(e,s,t,i,a,r){var l,c,u;return(l=Math.sqrt(e*e+s*s))&&(e/=l,s/=l),(u=e*t+s*i)&&(t-=e*u,i-=s*u),(c=Math.sqrt(t*t+i*i))&&(t/=c,i/=c,u/=c),e*i<s*t&&(e=-e,s=-s,u=-u,l=-l),{translateX:a,translateY:r,rotate:Math.atan2(s,e)*cr,skewX:Math.atan(u)*cr,scaleX:l,scaleY:c}}function dr(e,s,t,i){function a(g){return g.length?g.pop()+" ":""}return function(g,p){var f=[],_=[];return g=e(g),p=e(p),function r(g,p,f,_,b,D){if(g!==f||p!==_){var $=b.push("translate(",null,s,null,t);D.push({i:$-4,x:ke(g,f)},{i:$-2,x:ke(p,_)})}else(f||_)&&b.push("translate("+f+s+_+t)}(g.translateX,g.translateY,p.translateX,p.translateY,f,_),function l(g,p,f,_){g!==p?(g-p>180?p+=360:p-g>180&&(g+=360),_.push({i:f.push(a(f)+"rotate(",null,i)-2,x:ke(g,p)})):p&&f.push(a(f)+"rotate("+p+i)}(g.rotate,p.rotate,f,_),function c(g,p,f,_){g!==p?_.push({i:f.push(a(f)+"skewX(",null,i)-2,x:ke(g,p)}):p&&f.push(a(f)+"skewX("+p+i)}(g.skewX,p.skewX,f,_),function u(g,p,f,_,b,D){if(g!==f||p!==_){var $=b.push(a(b)+"scale(",null,",",null,")");D.push({i:$-4,x:ke(g,f)},{i:$-2,x:ke(p,_)})}else(1!==f||1!==_)&&b.push(a(b)+"scale("+f+","+_+")")}(g.scaleX,g.scaleY,p.scaleX,p.scaleY,f,_),g=p=null,function(b){for(var w,D=-1,$=_.length;++D<$;)f[(w=_[D]).i]=w.x(b);return f.join("")}}}var Ac=dr(function Sc(e){const s=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return s.isIdentity?zs:hr(s.a,s.b,s.c,s.d,s.e,s.f)},"px, ","px)","deg)"),Lc=dr(function kc(e){return null!=e&&(Vn||(Vn=document.createElementNS("http://www.w3.org/2000/svg","g")),Vn.setAttribute("transform",e),e=Vn.transform.baseVal.consolidate())?hr((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):zs},", ",")",")");function Dc(e,s){var t,i;return function(){var a=Be(this,e),r=a.tween;if(r!==t)for(var l=0,c=(i=t=r).length;l<c;++l)if(i[l].name===s){(i=i.slice()).splice(l,1);break}a.tween=i}}function Mc(e,s,t){var i,a;if("function"!=typeof t)throw new Error;return function(){var r=Be(this,e),l=r.tween;if(l!==i){a=(i=l).slice();for(var c={name:s,value:t},u=0,g=a.length;u<g;++u)if(a[u].name===s){a[u]=c;break}u===g&&a.push(c)}r.tween=a}}function Rs(e,s,t){var i=e._id;return e.each(function(){var a=Be(this,i);(a.value||(a.value={}))[s]=t.apply(this,arguments)}),function(a){return Ae(a,i).value[s]}}function gr(e,s){var t;return("number"==typeof s?ke:s instanceof bi?On:(t=bi(s))?(s=t,On):Ka)(e,s)}function Ec(e){return function(){this.removeAttribute(e)}}function Ic(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Pc(e,s,t){var i,r,a=t+"";return function(){var l=this.getAttribute(e);return l===a?null:l===i?r:r=s(i=l,t)}}function Oc(e,s,t){var i,r,a=t+"";return function(){var l=this.getAttributeNS(e.space,e.local);return l===a?null:l===i?r:r=s(i=l,t)}}function $c(e,s,t){var i,a,r;return function(){var l,u,c=t(this);return null==c?void this.removeAttribute(e):(l=this.getAttribute(e))===(u=c+"")?null:l===i&&u===a?r:(a=u,r=s(i=l,c))}}function Bc(e,s,t){var i,a,r;return function(){var l,u,c=t(this);return null==c?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local))===(u=c+"")?null:l===i&&u===a?r:(a=u,r=s(i=l,c))}}function Nc(e,s){var t,i;function a(){var r=s.apply(this,arguments);return r!==i&&(t=(i=r)&&function Hc(e,s){return function(t){this.setAttributeNS(e.space,e.local,s.call(this,t))}}(e,r)),t}return a._value=s,a}function Zc(e,s){var t,i;function a(){var r=s.apply(this,arguments);return r!==i&&(t=(i=r)&&function Rc(e,s){return function(t){this.setAttribute(e,s.call(this,t))}}(e,r)),t}return a._value=s,a}function Yc(e,s){return function(){$s(this,e).delay=+s.apply(this,arguments)}}function Gc(e,s){return s=+s,function(){$s(this,e).delay=s}}function Xc(e,s){return function(){Be(this,e).duration=+s.apply(this,arguments)}}function Uc(e,s){return s=+s,function(){Be(this,e).duration=s}}var ch=an.prototype.constructor;function ur(e){return function(){this.style.removeProperty(e)}}var Ah=0;function Ge(e,s,t,i){this._groups=e,this._parents=s,this._name=t,this._id=i}function mr(){return++Ah}var We=an.prototype;Ge.prototype=function Lh(e){return an().transition(e)}.prototype={constructor:Ge,select:function oh(e){var s=this._name,t=this._id;"function"!=typeof e&&(e=A(e));for(var i=this._groups,a=i.length,r=new Array(a),l=0;l<a;++l)for(var p,f,c=i[l],u=c.length,g=r[l]=new Array(u),_=0;_<u;++_)(p=c[_])&&(f=e.call(p,p.__data__,_,c))&&("__data__"in p&&(f.__data__=p.__data__),g[_]=f,Zn(g[_],s,t,_,g,Ae(p,t)));return new Ge(r,this._parents,s,t)},selectAll:function lh(e){var s=this._name,t=this._id;"function"!=typeof e&&(e=d(e));for(var i=this._groups,a=i.length,r=[],l=[],c=0;c<a;++c)for(var p,u=i[c],g=u.length,f=0;f<g;++f)if(p=u[f]){for(var b,_=e.call(p,p.__data__,f,u),D=Ae(p,t),$=0,w=_.length;$<w;++$)(b=_[$])&&Zn(b,s,t,$,_,D);r.push(_),l.push(p)}return new Ge(r,l,s,t)},selectChild:We.selectChild,selectChildren:We.selectChildren,filter:function th(e){"function"!=typeof e&&(e=k(e));for(var s=this._groups,t=s.length,i=new Array(t),a=0;a<t;++a)for(var u,r=s[a],l=r.length,c=i[a]=[],g=0;g<l;++g)(u=r[g])&&e.call(u,u.__data__,g,r)&&c.push(u);return new Ge(i,this._parents,this._name,this._id)},merge:function eh(e){if(e._id!==this._id)throw new Error;for(var s=this._groups,t=e._groups,i=s.length,r=Math.min(i,t.length),l=new Array(i),c=0;c<r;++c)for(var _,u=s[c],g=t[c],p=u.length,f=l[c]=new Array(p),b=0;b<p;++b)(_=u[b]||g[b])&&(f[b]=_);for(;c<i;++c)l[c]=s[c];return new Ge(l,this._parents,this._name,this._id)},selection:function hh(){return new ch(this._groups,this._parents)},transition:function Sh(){for(var e=this._name,s=this._id,t=mr(),i=this._groups,a=i.length,r=0;r<a;++r)for(var u,l=i[r],c=l.length,g=0;g<c;++g)if(u=l[g]){var p=Ae(u,s);Zn(u,e,t,g,l,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Ge(i,this._parents,e,t)},call:We.call,nodes:We.nodes,node:We.node,size:We.size,empty:We.empty,each:We.each,on:function sh(e,s){var t=this._id;return arguments.length<2?Ae(this.node(),t).on.on(e):this.each(function nh(e,s,t){var i,a,r=function ih(e){return(e+"").trim().split(/^|\s+/).every(function(s){var t=s.indexOf(".");return t>=0&&(s=s.slice(0,t)),!s||"start"===s})}(s)?$s:Be;return function(){var l=r(this,e),c=l.on;c!==i&&(a=(i=c).copy()).on(s,t),l.on=a}}(t,e,s))},attr:function zc(e,s){var t=Ln(e),i="transform"===t?Lc:gr;return this.attrTween(e,"function"==typeof s?(t.local?Bc:$c)(t,i,Rs(this,"attr."+e,s)):null==s?(t.local?Ic:Ec)(t):(t.local?Oc:Pc)(t,i,s))},attrTween:function Vc(e,s){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==s)return this.tween(t,null);if("function"!=typeof s)throw new Error;var i=Ln(e);return this.tween(t,(i.local?Nc:Zc)(i,s))},style:function ph(e,s,t){var i="transform"==(e+="")?Ac:gr;return null==s?this.styleTween(e,function dh(e,s){var t,i,a;return function(){var r=$i(this,e),l=(this.style.removeProperty(e),$i(this,e));return r===l?null:r===t&&l===i?a:a=s(t=r,i=l)}}(e,i)).on("end.style."+e,ur(e)):"function"==typeof s?this.styleTween(e,function uh(e,s,t){var i,a,r;return function(){var l=$i(this,e),c=t(this),u=c+"";return null==c&&(this.style.removeProperty(e),u=c=$i(this,e)),l===u?null:l===i&&u===a?r:(a=u,r=s(i=l,c))}}(e,i,Rs(this,"style."+e,s))).each(function mh(e,s){var t,i,a,c,r="style."+s,l="end."+r;return function(){var u=Be(this,e),g=u.on,p=null==u.value[r]?c||(c=ur(s)):void 0;(g!==t||a!==p)&&(i=(t=g).copy()).on(l,a=p),u.on=i}}(this._id,e)):this.styleTween(e,function gh(e,s,t){var i,r,a=t+"";return function(){var l=$i(this,e);return l===a?null:l===i?r:r=s(i=l,t)}}(e,i,s),t).on("end.style."+e,null)},styleTween:function _h(e,s,t){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==s)return this.tween(i,null);if("function"!=typeof s)throw new Error;return this.tween(i,function xh(e,s,t){var i,a;function r(){var l=s.apply(this,arguments);return l!==a&&(i=(a=l)&&function fh(e,s,t){return function(i){this.style.setProperty(e,s.call(this,i),t)}}(e,l,t)),i}return r._value=s,r}(e,s,t??""))},text:function Th(e){return this.tween("text","function"==typeof e?function yh(e){return function(){var s=e(this);this.textContent=s??""}}(Rs(this,"text",e)):function vh(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function wh(e){var s="text";if(arguments.length<1)return(s=this.tween(s))&&s._value;if(null==e)return this.tween(s,null);if("function"!=typeof e)throw new Error;return this.tween(s,function Ch(e){var s,t;function i(){var a=e.apply(this,arguments);return a!==t&&(s=(t=a)&&function bh(e){return function(s){this.textContent=e.call(this,s)}}(a)),s}return i._value=e,i}(e))},remove:function rh(){return this.on("end.remove",function ah(e){return function(){var s=this.parentNode;for(var t in this.__transition)if(+t!==e)return;s&&s.removeChild(this)}}(this._id))},tween:function Fc(e,s){var t=this._id;if(e+="",arguments.length<2){for(var l,i=Ae(this.node(),t).tween,a=0,r=i.length;a<r;++a)if((l=i[a]).name===e)return l.value;return null}return this.each((null==s?Dc:Mc)(t,e,s))},delay:function Wc(e){var s=this._id;return arguments.length?this.each(("function"==typeof e?Yc:Gc)(s,e)):Ae(this.node(),s).delay},duration:function qc(e){var s=this._id;return arguments.length?this.each(("function"==typeof e?Xc:Uc)(s,e)):Ae(this.node(),s).duration},ease:function Qc(e){var s=this._id;return arguments.length?this.each(function Jc(e,s){if("function"!=typeof s)throw new Error;return function(){Be(this,e).ease=s}}(s,e)):Ae(this.node(),s).ease},easeVarying:function Kc(e){if("function"!=typeof e)throw new Error;return this.each(function jc(e,s){return function(){var t=s.apply(this,arguments);if("function"!=typeof t)throw new Error;Be(this,e).ease=t}}(this._id,e))},end:function kh(){var e,s,t=this,i=t._id,a=t.size();return new Promise(function(r,l){var c={value:l},u={value:function(){0==--a&&r()}};t.each(function(){var g=Be(this,i),p=g.on;p!==e&&((s=(e=p).copy())._.cancel.push(c),s._.interrupt.push(c),s._.end.push(u)),g.on=s}),0===a&&r()})},[Symbol.iterator]:We[Symbol.iterator]};var Mh={time:null,delay:0,duration:250,ease:function Dh(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Fh(e,s){for(var t;!(t=e.__transition)||!(t=t[s]);)if(!(e=e.parentNode))throw new Error(`transition ${s} not found`);return t}an.prototype.interrupt=function wc(e){return this.each(function(){Bs(this,e)})},an.prototype.transition=function Eh(e){var s,t;e instanceof Ge?(s=e._id,e=e._name):(s=mr(),(t=Mh).time=Es(),e=null==e?null:e+"");for(var i=this._groups,a=i.length,r=0;r<a;++r)for(var u,l=i[r],c=l.length,g=0;g<c;++g)(u=l[g])&&Zn(u,e,s,g,l,t||Fh(u,s));return new Ge(i,this._parents,e,s)};const Hs=e=>()=>e;function Ih(e,{sourceEvent:s,target:t,selection:i,mode:a,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:s,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:r}})}function Ns(e){e.preventDefault(),e.stopImmediatePropagation()}var pr={name:"drag"},Zs={name:"space"},Ri={name:"handle"},Hi={name:"center"};const{abs:fr,max:Jt,min:Qt}=Math;function xr(e){return[+e[0],+e[1]]}function Vs(e){return[xr(e[0]),xr(e[1])]}var Yn={name:"x",handles:["w","e"].map(un),input:function(e,s){return null==e?null:[[+e[0],s[0][1]],[+e[1],s[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Gn={name:"y",handles:["n","s"].map(un),input:function(e,s){return null==e?null:[[s[0][0],+e[0]],[s[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Xe=(["n","w","e","s","nw","ne","sw","se"].map(un),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),_r={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},vr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},$h={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Bh={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function un(e){return{type:e}}function zh(e){return!e.ctrlKey&&!e.button}function Rh(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Hh(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ys(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function mn(e,s){return null==e||null==s?NaN:e<s?-1:e>s?1:e>=s?0:NaN}function Vh(e,s){return null==e||null==s?NaN:s<e?-1:s>e?1:s>=e?0:NaN}function Ws(e){let s,t,i;function a(c,u,g=0,p=c.length){if(g<p){if(0!==s(u,u))return p;do{const f=g+p>>>1;t(c[f],u)<0?g=f+1:p=f}while(g<p)}return g}return 2!==e.length?(s=mn,t=(c,u)=>mn(e(c),u),i=(c,u)=>e(c)-u):(s=e===mn||e===Vh?e:Yh,t=e,i=e),{left:a,center:function l(c,u,g=0,p=c.length){const f=a(c,u,g,p-1);return f>g&&i(c[f-1],u)>-i(c[f],u)?f-1:f},right:function r(c,u,g=0,p=c.length){if(g<p){if(0!==s(u,u))return p;do{const f=g+p>>>1;t(c[f],u)<=0?g=f+1:p=f}while(g<p)}return g}}}function Yh(){return 0}const Gh=Math.sqrt(50),Wh=Math.sqrt(10),Xh=Math.sqrt(2);function Wn(e,s,t){const i=(s-e)/Math.max(0,t),a=Math.floor(Math.log10(i)),r=i/Math.pow(10,a),l=r>=Gh?10:r>=Wh?5:r>=Xh?2:1;let c,u,g;return a<0?(g=Math.pow(10,-a)/l,c=Math.round(e*g),u=Math.round(s*g),c/g<e&&++c,u/g>s&&--u,g=-g):(g=Math.pow(10,a)*l,c=Math.round(e/g),u=Math.round(s/g),c*g<e&&++c,u*g>s&&--u),u<c&&.5<=t&&t<2?Wn(e,s,2*t):[c,u,g]}function Xs(e,s,t){return Wn(e=+e,s=+s,t=+t)[2]}function Us(e,s,t){t=+t;const i=(s=+s)<(e=+e),a=i?Xs(s,e,t):Xs(e,s,t);return(i?-1:1)*(a<0?1/-a:a)}const Ue=1e3,ve=6e4,qe=60*ve,Je=24*qe,qs=7*Je,yr=30*Je,Js=365*Je,Qs=new Date,js=new Date;function Vt(e,s,t,i){function a(r){return e(r=0===arguments.length?new Date:new Date(+r)),r}return a.floor=r=>(e(r=new Date(+r)),r),a.ceil=r=>(e(r=new Date(r-1)),s(r,1),e(r),r),a.round=r=>{const l=a(r),c=a.ceil(r);return r-l<c-r?l:c},a.offset=(r,l)=>(s(r=new Date(+r),null==l?1:Math.floor(l)),r),a.range=(r,l,c)=>{const u=[];if(r=a.ceil(r),c=null==c?1:Math.floor(c),!(r<l&&c>0))return u;let g;do{u.push(g=new Date(+r)),s(r,c),e(r)}while(g<r&&r<l);return u},a.filter=r=>Vt(l=>{if(l>=l)for(;e(l),!r(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;s(l,-1),!r(l););else for(;--c>=0;)for(;s(l,1),!r(l););}),t&&(a.count=(r,l)=>(Qs.setTime(+r),js.setTime(+l),e(Qs),e(js),Math.floor(t(Qs,js))),a.every=r=>(r=Math.floor(r),isFinite(r)&&r>0?r>1?a.filter(i?l=>i(l)%r==0:l=>a.count(0,l)%r==0):a:null)),a}const Xn=Vt(()=>{},(e,s)=>{e.setTime(+e+s)},(e,s)=>s-e);Xn.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Vt(s=>{s.setTime(Math.floor(s/e)*e)},(s,t)=>{s.setTime(+s+t*e)},(s,t)=>(t-s)/e):Xn:null);const Ni=Vt(e=>{e.setTime(e-e.getMilliseconds())},(e,s)=>{e.setTime(+e+s*Ue)},(e,s)=>(s-e)/Ue,e=>e.getUTCSeconds()),Ks=Vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ue)},(e,s)=>{e.setTime(+e+s*ve)},(e,s)=>(s-e)/ve,e=>e.getMinutes()),Tr=Vt(e=>{e.setUTCSeconds(0,0)},(e,s)=>{e.setTime(+e+s*ve)},(e,s)=>(s-e)/ve,e=>e.getUTCMinutes()),ta=Vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ue-e.getMinutes()*ve)},(e,s)=>{e.setTime(+e+s*qe)},(e,s)=>(s-e)/qe,e=>e.getHours()),br=Vt(e=>{e.setUTCMinutes(0,0,0)},(e,s)=>{e.setTime(+e+s*qe)},(e,s)=>(s-e)/qe,e=>e.getUTCHours()),pn=Vt(e=>e.setHours(0,0,0,0),(e,s)=>e.setDate(e.getDate()+s),(e,s)=>(s-e-(s.getTimezoneOffset()-e.getTimezoneOffset())*ve)/Je,e=>e.getDate()-1),ea=Vt(e=>{e.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCDate(e.getUTCDate()+s)},(e,s)=>(s-e)/Je,e=>e.getUTCDate()-1),Cr=Vt(e=>{e.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCDate(e.getUTCDate()+s)},(e,s)=>(s-e)/Je,e=>Math.floor(e/Je));function Ai(e){return Vt(s=>{s.setDate(s.getDate()-(s.getDay()+7-e)%7),s.setHours(0,0,0,0)},(s,t)=>{s.setDate(s.getDate()+7*t)},(s,t)=>(t-s-(t.getTimezoneOffset()-s.getTimezoneOffset())*ve)/qs)}const Un=Ai(0),qn=Ai(1),Zi=(Ai(2),Ai(3),Ai(4));function Li(e){return Vt(s=>{s.setUTCDate(s.getUTCDate()-(s.getUTCDay()+7-e)%7),s.setUTCHours(0,0,0,0)},(s,t)=>{s.setUTCDate(s.getUTCDate()+7*t)},(s,t)=>(t-s)/qs)}Ai(5),Ai(6);const ia=Li(0),Jn=Li(1),Vi=(Li(2),Li(3),Li(4)),na=(Li(5),Li(6),Vt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,s)=>{e.setMonth(e.getMonth()+s)},(e,s)=>s.getMonth()-e.getMonth()+12*(s.getFullYear()-e.getFullYear()),e=>e.getMonth())),wr=Vt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCMonth(e.getUTCMonth()+s)},(e,s)=>s.getUTCMonth()-e.getUTCMonth()+12*(s.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth()),Qe=Vt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,s)=>{e.setFullYear(e.getFullYear()+s)},(e,s)=>s.getFullYear()-e.getFullYear(),e=>e.getFullYear());Qe.every=e=>isFinite(e=Math.floor(e))&&e>0?Vt(s=>{s.setFullYear(Math.floor(s.getFullYear()/e)*e),s.setMonth(0,1),s.setHours(0,0,0,0)},(s,t)=>{s.setFullYear(s.getFullYear()+t*e)}):null;const ci=Vt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCFullYear(e.getUTCFullYear()+s)},(e,s)=>s.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function Sr(e,s,t,i,a,r){const l=[[Ni,1,Ue],[Ni,5,5e3],[Ni,15,15e3],[Ni,30,3e4],[r,1,ve],[r,5,5*ve],[r,15,15*ve],[r,30,30*ve],[a,1,qe],[a,3,3*qe],[a,6,6*qe],[a,12,12*qe],[i,1,Je],[i,2,2*Je],[t,1,qs],[s,1,yr],[s,3,3*yr],[e,1,Js]];function u(g,p,f){const _=Math.abs(p-g)/f,b=Ws(([,,w])=>w).right(l,_);if(b===l.length)return e.every(Us(g/Js,p/Js,f));if(0===b)return Xn.every(Math.max(Us(g,p,f),1));const[D,$]=l[_/l[b-1][2]<l[b][2]/_?b-1:b];return D.every($)}return[function c(g,p,f){const _=p<g;_&&([g,p]=[p,g]);const b=f&&"function"==typeof f.range?f:u(g,p,f),D=b?b.range(g,+p+1):[];return _?D.reverse():D},u]}ci.every=e=>isFinite(e=Math.floor(e))&&e>0?Vt(s=>{s.setUTCFullYear(Math.floor(s.getUTCFullYear()/e)*e),s.setUTCMonth(0,1),s.setUTCHours(0,0,0,0)},(s,t)=>{s.setUTCFullYear(s.getUTCFullYear()+t*e)}):null;const[ox,lx]=Sr(ci,wr,ia,Cr,br,Tr),[nd,sd]=Sr(Qe,na,Un,pn,ta,Ks);function sa(e){if(0<=e.y&&e.y<100){var s=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return s.setFullYear(e.y),s}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function aa(e){if(0<=e.y&&e.y<100){var s=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return s.setUTCFullYear(e.y),s}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fn(e,s,t){return{y:e,m:s,d:t,H:0,M:0,S:0,L:0}}var Yi,Hr,kr={"-":"",_:" ",0:"0"},Xt=/^\s*\d+/,rd=/^%/,od=/[\\^$*+?|[\]().{}]/g;function vt(e,s,t){var i=e<0?"-":"",a=(i?-e:e)+"",r=a.length;return i+(r<t?new Array(t-r+1).join(s)+a:a)}function ld(e){return e.replace(od,"\\$&")}function xn(e){return new RegExp("^(?:"+e.map(ld).join("|")+")","i")}function _n(e){return new Map(e.map((s,t)=>[s.toLowerCase(),t]))}function cd(e,s,t){var i=Xt.exec(s.slice(t,t+1));return i?(e.w=+i[0],t+i[0].length):-1}function hd(e,s,t){var i=Xt.exec(s.slice(t,t+1));return i?(e.u=+i[0],t+i[0].length):-1}function dd(e,s,t){var i=Xt.exec(s.slice(t,t+2));return i?(e.U=+i[0],t+i[0].length):-1}function gd(e,s,t){var i=Xt.exec(s.slice(t,t+2));return i?(e.V=+i[0],t+i[0].length):-1}function ud(e,s,t){var i=Xt.exec(s.slice(t,t+2));return i?(e.W=+i[0],t+i[0].length):-1}function Ar(e,s,t){var i=Xt.exec(s.slice(t,t+4));return i?(e.y=+i[0],t+i[0].length):-1}function Lr(e,s,t){var i=Xt.exec(s.slice(t,t+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function md(e,s,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(s.slice(t,t+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function pd(e,s,t){var i=Xt.exec(s.slice(t,t+1));return i?(e.q=3*i[0]-3,t+i[0].length):-1}function fd(e,s,t){var i=Xt.exec(s.slice(t,t+2));return i?(e.m=i[0]-1,t+i[0].length):-1}function Dr(e,s,t){var i=Xt.exec(s.slice(t,t+2));return i?(e.d=+i[0],t+i[0].length):-1}function xd(e,s,t){var i=Xt.exec(s.slice(t,t+3));return i?(e.m=0,e.d=+i[0],t+i[0].length):-1}function Mr(e,s,t){var i=Xt.exec(s.slice(t,t+2));return i?(e.H=+i[0],t+i[0].length):-1}function _d(e,s,t){var i=Xt.exec(s.slice(t,t+2));return i?(e.M=+i[0],t+i[0].length):-1}function vd(e,s,t){var i=Xt.exec(s.slice(t,t+2));return i?(e.S=+i[0],t+i[0].length):-1}function yd(e,s,t){var i=Xt.exec(s.slice(t,t+3));return i?(e.L=+i[0],t+i[0].length):-1}function Td(e,s,t){var i=Xt.exec(s.slice(t,t+6));return i?(e.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function bd(e,s,t){var i=rd.exec(s.slice(t,t+1));return i?t+i[0].length:-1}function Cd(e,s,t){var i=Xt.exec(s.slice(t));return i?(e.Q=+i[0],t+i[0].length):-1}function wd(e,s,t){var i=Xt.exec(s.slice(t));return i?(e.s=+i[0],t+i[0].length):-1}function Fr(e,s){return vt(e.getDate(),s,2)}function Sd(e,s){return vt(e.getHours(),s,2)}function kd(e,s){return vt(e.getHours()%12||12,s,2)}function Ad(e,s){return vt(1+pn.count(Qe(e),e),s,3)}function Er(e,s){return vt(e.getMilliseconds(),s,3)}function Ld(e,s){return Er(e,s)+"000"}function Dd(e,s){return vt(e.getMonth()+1,s,2)}function Md(e,s){return vt(e.getMinutes(),s,2)}function Fd(e,s){return vt(e.getSeconds(),s,2)}function Ed(e){var s=e.getDay();return 0===s?7:s}function Id(e,s){return vt(Un.count(Qe(e)-1,e),s,2)}function Ir(e){var s=e.getDay();return s>=4||0===s?Zi(e):Zi.ceil(e)}function Pd(e,s){return e=Ir(e),vt(Zi.count(Qe(e),e)+(4===Qe(e).getDay()),s,2)}function Od(e){return e.getDay()}function $d(e,s){return vt(qn.count(Qe(e)-1,e),s,2)}function Bd(e,s){return vt(e.getFullYear()%100,s,2)}function zd(e,s){return vt((e=Ir(e)).getFullYear()%100,s,2)}function Rd(e,s){return vt(e.getFullYear()%1e4,s,4)}function Hd(e,s){var t=e.getDay();return vt((e=t>=4||0===t?Zi(e):Zi.ceil(e)).getFullYear()%1e4,s,4)}function Nd(e){var s=e.getTimezoneOffset();return(s>0?"-":(s*=-1,"+"))+vt(s/60|0,"0",2)+vt(s%60,"0",2)}function Pr(e,s){return vt(e.getUTCDate(),s,2)}function Zd(e,s){return vt(e.getUTCHours(),s,2)}function Vd(e,s){return vt(e.getUTCHours()%12||12,s,2)}function Yd(e,s){return vt(1+ea.count(ci(e),e),s,3)}function Or(e,s){return vt(e.getUTCMilliseconds(),s,3)}function Gd(e,s){return Or(e,s)+"000"}function Wd(e,s){return vt(e.getUTCMonth()+1,s,2)}function Xd(e,s){return vt(e.getUTCMinutes(),s,2)}function Ud(e,s){return vt(e.getUTCSeconds(),s,2)}function qd(e){var s=e.getUTCDay();return 0===s?7:s}function Jd(e,s){return vt(ia.count(ci(e)-1,e),s,2)}function $r(e){var s=e.getUTCDay();return s>=4||0===s?Vi(e):Vi.ceil(e)}function Qd(e,s){return e=$r(e),vt(Vi.count(ci(e),e)+(4===ci(e).getUTCDay()),s,2)}function jd(e){return e.getUTCDay()}function Kd(e,s){return vt(Jn.count(ci(e)-1,e),s,2)}function tg(e,s){return vt(e.getUTCFullYear()%100,s,2)}function eg(e,s){return vt((e=$r(e)).getUTCFullYear()%100,s,2)}function ig(e,s){return vt(e.getUTCFullYear()%1e4,s,4)}function ng(e,s){var t=e.getUTCDay();return vt((e=t>=4||0===t?Vi(e):Vi.ceil(e)).getUTCFullYear()%1e4,s,4)}function sg(){return"+0000"}function Br(){return"%"}function zr(e){return+e}function Rr(e){return Math.floor(+e/1e3)}function Nr(e){return null===e?NaN:+e}!function lg(e){Yi=function ad(e){var s=e.dateTime,t=e.date,i=e.time,a=e.periods,r=e.days,l=e.shortDays,c=e.months,u=e.shortMonths,g=xn(a),p=_n(a),f=xn(r),_=_n(r),b=xn(l),D=_n(l),$=xn(c),w=_n(c),E=xn(u),Z=_n(u),B={a:function bt(W){return l[W.getDay()]},A:function It(W){return r[W.getDay()]},b:function xt(W){return u[W.getMonth()]},B:function Ft(W){return c[W.getMonth()]},c:null,d:Fr,e:Fr,f:Ld,g:zd,G:Hd,H:Sd,I:kd,j:Ad,L:Er,m:Dd,M:Md,p:function Lt(W){return a[+(W.getHours()>=12)]},q:function Dt(W){return 1+~~(W.getMonth()/3)},Q:zr,s:Rr,S:Fd,u:Ed,U:Id,V:Pd,w:Od,W:$d,x:null,X:null,y:Bd,Y:Rd,Z:Nd,"%":Br},Y={a:function Ke(W){return l[W.getUTCDay()]},A:function Ne(W){return r[W.getUTCDay()]},b:function Kt(W){return u[W.getUTCMonth()]},B:function Ze(W){return c[W.getUTCMonth()]},c:null,d:Pr,e:Pr,f:Gd,g:eg,G:ng,H:Zd,I:Vd,j:Yd,L:Or,m:Wd,M:Xd,p:function Nt(W){return a[+(W.getUTCHours()>=12)]},q:function Me(W){return 1+~~(W.getUTCMonth()/3)},Q:zr,s:Rr,S:Ud,u:qd,U:Jd,V:Qd,w:jd,W:Kd,x:null,X:null,y:tg,Y:ig,Z:sg,"%":Br},X={a:function pt(W,it,dt){var z=b.exec(it.slice(dt));return z?(W.w=D.get(z[0].toLowerCase()),dt+z[0].length):-1},A:function U(W,it,dt){var z=f.exec(it.slice(dt));return z?(W.w=_.get(z[0].toLowerCase()),dt+z[0].length):-1},b:function Tt(W,it,dt){var z=E.exec(it.slice(dt));return z?(W.m=Z.get(z[0].toLowerCase()),dt+z[0].length):-1},B:function V(W,it,dt){var z=$.exec(it.slice(dt));return z?(W.m=w.get(z[0].toLowerCase()),dt+z[0].length):-1},c:function Q(W,it,dt){return mt(W,s,it,dt)},d:Dr,e:Dr,f:Td,g:Lr,G:Ar,H:Mr,I:Mr,j:xd,L:yd,m:fd,M:_d,p:function Mt(W,it,dt){var z=g.exec(it.slice(dt));return z?(W.p=p.get(z[0].toLowerCase()),dt+z[0].length):-1},q:pd,Q:Cd,s:wd,S:vd,u:hd,U:dd,V:gd,w:cd,W:ud,x:function zt(W,it,dt){return mt(W,t,it,dt)},X:function St(W,it,dt){return mt(W,i,it,dt)},y:Lr,Y:Ar,Z:md,"%":bd};function G(W,it){return function(dt){var ie,tt,Ot,z=[],Pt=-1,kt=0,ee=W.length;for(dt instanceof Date||(dt=new Date(+dt));++Pt<ee;)37===W.charCodeAt(Pt)&&(z.push(W.slice(kt,Pt)),null!=(tt=kr[ie=W.charAt(++Pt)])?ie=W.charAt(++Pt):tt="e"===ie?" ":"0",(Ot=it[ie])&&(ie=Ot(dt,tt)),z.push(ie),kt=Pt+1);return z.push(W.slice(kt,Pt)),z.join("")}}function ut(W,it){return function(dt){var kt,ee,z=fn(1900,void 0,1);if(mt(z,W,dt+="",0)!=dt.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(1e3*z.s+("L"in z?z.L:0));if(it&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+12*z.p),void 0===z.m&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(ee=(kt=aa(fn(z.y,0,1))).getUTCDay(),kt=ee>4||0===ee?Jn.ceil(kt):Jn(kt),kt=ea.offset(kt,7*(z.V-1)),z.y=kt.getUTCFullYear(),z.m=kt.getUTCMonth(),z.d=kt.getUTCDate()+(z.w+6)%7):(ee=(kt=sa(fn(z.y,0,1))).getDay(),kt=ee>4||0===ee?qn.ceil(kt):qn(kt),kt=pn.offset(kt,7*(z.V-1)),z.y=kt.getFullYear(),z.m=kt.getMonth(),z.d=kt.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),ee="Z"in z?aa(fn(z.y,0,1)).getUTCDay():sa(fn(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+7*z.W-(ee+5)%7:z.w+7*z.U-(ee+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,aa(z)):sa(z)}}function mt(W,it,dt,z){for(var ie,tt,Pt=0,kt=it.length,ee=dt.length;Pt<kt;){if(z>=ee)return-1;if(37===(ie=it.charCodeAt(Pt++))){if(ie=it.charAt(Pt++),!(tt=X[ie in kr?it.charAt(Pt++):ie])||(z=tt(W,dt,z))<0)return-1}else if(ie!=dt.charCodeAt(z++))return-1}return z}return B.x=G(t,B),B.X=G(i,B),B.c=G(s,B),Y.x=G(t,Y),Y.X=G(i,Y),Y.c=G(s,Y),{format:function(W){var it=G(W+="",B);return it.toString=function(){return W},it},parse:function(W){var it=ut(W+="",!1);return it.toString=function(){return W},it},utcFormat:function(W){var it=G(W+="",Y);return it.toString=function(){return W},it},utcParse:function(W){var it=ut(W+="",!0);return it.toString=function(){return W},it}}}(e),Hr=Yi.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const cg=Ws(mn).right,Vr=(Ws(Nr),cg);function hg(e,s){return e=+e,s=+s,function(t){return Math.round(e*(1-t)+s*t)}}function gg(e){return+e}var Yr=[0,1];function Gi(e){return e}function ra(e,s){return(s-=e=+e)?function(t){return(t-e)/s}:function dg(e){return function(){return e}}(isNaN(s)?NaN:.5)}function mg(e,s,t){var i=e[0],a=e[1],r=s[0],l=s[1];return a<i?(i=ra(a,i),r=t(l,r)):(i=ra(i,a),r=t(r,l)),function(c){return r(i(c))}}function pg(e,s,t){var i=Math.min(e.length,s.length)-1,a=new Array(i),r=new Array(i),l=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),s=s.slice().reverse());++l<i;)a[l]=ra(e[l],e[l+1]),r[l]=t(s[l],s[l+1]);return function(c){var u=Vr(e,c,1,i)-1;return r[u](a[u](c))}}function Gr(e,s){return s.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Wr(){return function fg(){var i,a,r,c,u,g,e=Yr,s=Yr,t=Si,l=Gi;function p(){var _=Math.min(e.length,s.length);return l!==Gi&&(l=function ug(e,s){var t;return e>s&&(t=e,e=s,s=t),function(i){return Math.max(e,Math.min(s,i))}}(e[0],e[_-1])),c=_>2?pg:mg,u=g=null,f}function f(_){return null==_||isNaN(_=+_)?r:(u||(u=c(e.map(i),s,t)))(i(l(_)))}return f.invert=function(_){return l(a((g||(g=c(s,e.map(i),ke)))(_)))},f.domain=function(_){return arguments.length?(e=Array.from(_,gg),p()):e.slice()},f.range=function(_){return arguments.length?(s=Array.from(_),p()):s.slice()},f.rangeRound=function(_){return s=Array.from(_),t=hg,p()},f.clamp=function(_){return arguments.length?(l=!!_||Gi,p()):l!==Gi},f.interpolate=function(_){return arguments.length?(t=_,p()):t},f.unknown=function(_){return arguments.length?(r=_,f):r},function(_,b){return i=_,a=b,p()}}()(Gi,Gi)}function vn(e,s){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(s).domain(e)}return this}function _g(e){return new Date(e)}function vg(e){return e instanceof Date?+e:+new Date(+e)}function Xr(e,s,t,i,a,r,l,c,u,g){var p=Wr(),f=p.invert,_=p.domain,b=g(".%L"),D=g(":%S"),$=g("%I:%M"),w=g("%I %p"),E=g("%a %d"),Z=g("%b %d"),B=g("%B"),Y=g("%Y");function X(G){return(u(G)<G?b:c(G)<G?D:l(G)<G?$:r(G)<G?w:i(G)<G?a(G)<G?E:Z:t(G)<G?B:Y)(G)}return p.invert=function(G){return new Date(f(G))},p.domain=function(G){return arguments.length?_(Array.from(G,vg)):_().map(_g)},p.ticks=function(G){var ut=_();return e(ut[0],ut[ut.length-1],G??10)},p.tickFormat=function(G,ut){return null==ut?X:g(ut)},p.nice=function(G){var ut=_();return(!G||"function"!=typeof G.range)&&(G=s(ut[0],ut[ut.length-1],G??10)),G?_(function xg(e,s){var l,t=0,i=(e=e.slice()).length-1,a=e[t],r=e[i];return r<a&&(l=t,t=i,i=l,l=a,a=r,r=l),e[t]=s.floor(a),e[i]=s.ceil(r),e}(ut,G)):p},p.copy=function(){return Gr(p,Xr(e,s,t,i,a,r,l,c,u,g))},p}function Qn(){return vn.apply(Xr(nd,sd,Qe,na,Un,pn,ta,Ks,Ni,Hr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Ur,yg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jn(e){if(!(s=yg.exec(e)))throw new Error("invalid format: "+e);var s;return new oa({fill:s[1],align:s[2],sign:s[3],symbol:s[4],zero:s[5],width:s[6],comma:s[7],precision:s[8]&&s[8].slice(1),trim:s[9],type:s[10]})}function oa(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Kn(e,s){if((t=(e=s?e.toExponential(s-1):e.toExponential()).indexOf("e"))<0)return null;var t,i=e.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+e.slice(t+1)]}function Wi(e){return(e=Kn(Math.abs(e)))?e[1]:NaN}function qr(e,s){var t=Kn(e,s);if(!t)return e+"";var i=t[0],a=t[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}jn.prototype=oa.prototype,oa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Jr={"%":(e,s)=>(100*e).toFixed(s),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function Tg(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,s)=>e.toExponential(s),f:(e,s)=>e.toFixed(s),g:(e,s)=>e.toPrecision(s),o:e=>Math.round(e).toString(8),p:(e,s)=>qr(100*e,s),r:qr,s:function kg(e,s){var t=Kn(e,s);if(!t)return e+"";var i=t[0],a=t[1],r=a-(Ur=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,l=i.length;return r===l?i:r>l?i+new Array(r-l+1).join("0"):r>0?i.slice(0,r)+"."+i.slice(r):"0."+new Array(1-r).join("0")+Kn(e,Math.max(0,s+r-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Qr(e){return e}var ts,la,to,jr=Array.prototype.map,Kr=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Eg(e){var s=e.domain;return e.ticks=function(t){var i=s();return function Uh(e,s,t){if(!((t=+t)>0))return[];if((e=+e)==(s=+s))return[e];const i=s<e,[a,r,l]=i?Wn(s,e,t):Wn(e,s,t);if(!(r>=a))return[];const c=r-a+1,u=new Array(c);if(i)if(l<0)for(let g=0;g<c;++g)u[g]=(r-g)/-l;else for(let g=0;g<c;++g)u[g]=(r-g)*l;else if(l<0)for(let g=0;g<c;++g)u[g]=(a+g)/-l;else for(let g=0;g<c;++g)u[g]=(a+g)*l;return u}(i[0],i[i.length-1],t??10)},e.tickFormat=function(t,i){var a=s();return function Fg(e,s,t,i){var r,a=Us(e,s,t);switch((i=jn(i??",f")).type){case"s":var l=Math.max(Math.abs(e),Math.abs(s));return null==i.precision&&!isNaN(r=function bg(e,s){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Wi(s)/3)))-Wi(Math.abs(e)))}(a,l))&&(i.precision=r),to(i,l);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(r=function Dg(e,s){return e=Math.abs(e),s=Math.abs(s)-e,Math.max(0,Wi(s)-Wi(e))+1}(a,Math.max(Math.abs(e),Math.abs(s))))&&(i.precision=r-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(r=function Mg(e){return Math.max(0,-Wi(Math.abs(e)))}(a))&&(i.precision=r-2*("%"===i.type))}return la(i)}(a[0],a[a.length-1],t??10,i)},e.nice=function(t){null==t&&(t=10);var u,g,i=s(),a=0,r=i.length-1,l=i[a],c=i[r],p=10;for(c<l&&(g=l,l=c,c=g,g=a,a=r,r=g);p-- >0;){if((g=Xs(l,c,t))===u)return i[a]=l,i[r]=c,s(i);if(g>0)l=Math.floor(l/g)*g,c=Math.ceil(c/g)*g;else{if(!(g<0))break;l=Math.ceil(l*g)/g,c=Math.floor(c*g)/g}u=g}return e},e}function ye(){var e=Wr();return e.copy=function(){return Gr(e,ye())},vn.apply(e,arguments),Eg(e)}function eo(e,s,t){e=+e,s=+s,t=(a=arguments.length)<2?(s=e,e=0,1):a<3?1:+t;for(var i=-1,a=0|Math.max(0,Math.ceil((s-e)/t)),r=new Array(a);++i<a;)r[i]=e+i*t;return r}!function Lg(e){ts=function Ag(e){var s=void 0===e.grouping||void 0===e.thousands?Qr:function Cg(e,s){return function(t,i){for(var a=t.length,r=[],l=0,c=e[0],u=0;a>0&&c>0&&(u+c+1>i&&(c=Math.max(1,i-u)),r.push(t.substring(a-=c,a+c)),!((u+=c+1)>i));)c=e[l=(l+1)%e.length];return r.reverse().join(s)}}(jr.call(e.grouping,Number),e.thousands+""),t=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",r=void 0===e.numerals?Qr:function wg(e){return function(s){return s.replace(/[0-9]/g,function(t){return e[+t]})}}(jr.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function g(f){var _=(f=jn(f)).fill,b=f.align,D=f.sign,$=f.symbol,w=f.zero,E=f.width,Z=f.comma,B=f.precision,Y=f.trim,X=f.type;"n"===X?(Z=!0,X="g"):Jr[X]||(void 0===B&&(B=12),Y=!0,X="g"),(w||"0"===_&&"="===b)&&(w=!0,_="0",b="=");var G="$"===$?t:"#"===$&&/[boxX]/.test(X)?"0"+X.toLowerCase():"",ut="$"===$?i:/[%p]/.test(X)?l:"",mt=Jr[X],Mt=/[defgprs%]/.test(X);function pt(U){var Q,zt,St,Tt=G,V=ut;if("c"===X)V=mt(U)+V,U="";else{var bt=(U=+U)<0||1/U<0;if(U=isNaN(U)?u:mt(Math.abs(U),B),Y&&(U=function Sg(e){t:for(var a,s=e.length,t=1,i=-1;t<s;++t)switch(e[t]){case".":i=a=t;break;case"0":0===i&&(i=t),a=t;break;default:if(!+e[t])break t;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(a+1):e}(U)),bt&&0==+U&&"+"!==D&&(bt=!1),Tt=(bt?"("===D?D:c:"-"===D||"("===D?"":D)+Tt,V=("s"===X?Kr[8+Ur/3]:"")+V+(bt&&"("===D?")":""),Mt)for(Q=-1,zt=U.length;++Q<zt;)if(48>(St=U.charCodeAt(Q))||St>57){V=(46===St?a+U.slice(Q+1):U.slice(Q))+V,U=U.slice(0,Q);break}}Z&&!w&&(U=s(U,1/0));var It=Tt.length+U.length+V.length,xt=It<E?new Array(E-It+1).join(_):"";switch(Z&&w&&(U=s(xt+U,xt.length?E-V.length:1/0),xt=""),b){case"<":U=Tt+U+V+xt;break;case"=":U=Tt+xt+U+V;break;case"^":U=xt.slice(0,It=xt.length>>1)+Tt+U+V+xt.slice(It);break;default:U=xt+Tt+U+V}return r(U)}return B=void 0===B?6:/[gprs]/.test(X)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B)),pt.toString=function(){return f+""},pt}return{format:g,formatPrefix:function p(f,_){var b=g(((f=jn(f)).type="f",f)),D=3*Math.max(-8,Math.min(8,Math.floor(Wi(_)/3))),$=Math.pow(10,-D),w=Kr[8+D/3];return function(E){return b($*E)+w}}}}(e),la=ts.format,to=ts.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class io extends Map{constructor(s,t=ao){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=s)for(const[i,a]of s)this.set(i,a)}get(s){return super.get(ca(this,s))}has(s){return super.has(ca(this,s))}set(s,t){return super.set(function no({_intern:e,_key:s},t){const i=s(t);return e.has(i)?e.get(i):(e.set(i,t),t)}(this,s),t)}delete(s){return super.delete(function so({_intern:e,_key:s},t){const i=s(t);return e.has(i)&&(t=e.get(i),e.delete(i)),t}(this,s))}}function ca({_intern:e,_key:s},t){const i=s(t);return e.has(i)?e.get(i):t}function ao(e){return null!==e&&"object"==typeof e?e.valueOf():e}const ro=Symbol("implicit");function ha(){var e=new io,s=[],t=[],i=ro;function a(r){let l=e.get(r);if(void 0===l){if(i!==ro)return i;e.set(r,l=s.push(r)-1)}return t[l%t.length]}return a.domain=function(r){if(!arguments.length)return s.slice();s=[],e=new io;for(const l of r)e.has(l)||e.set(l,s.push(l)-1);return a},a.range=function(r){return arguments.length?(t=Array.from(r),a):t.slice()},a.unknown=function(r){return arguments.length?(i=r,a):i},a.copy=function(){return ha(s,t).unknown(i)},vn.apply(a,arguments),a}function Xi(){var r,l,e=ha().unknown(void 0),s=e.domain,t=e.range,i=0,a=1,c=!1,u=0,g=0,p=.5;function f(){var _=s().length,b=a<i,D=b?a:i,$=b?i:a;r=($-D)/Math.max(1,_-u+2*g),c&&(r=Math.floor(r)),D+=($-D-r*(_-u))*p,l=r*(1-u),c&&(D=Math.round(D),l=Math.round(l));var w=eo(_).map(function(E){return D+r*E});return t(b?w.reverse():w)}return delete e.unknown,e.domain=function(_){return arguments.length?(s(_),f()):s()},e.range=function(_){return arguments.length?([i,a]=_,i=+i,a=+a,f()):[i,a]},e.rangeRound=function(_){return[i,a]=_,i=+i,a=+a,c=!0,f()},e.bandwidth=function(){return l},e.step=function(){return r},e.round=function(_){return arguments.length?(c=!!_,f()):c},e.padding=function(_){return arguments.length?(u=Math.min(1,g=+_),f()):u},e.paddingInner=function(_){return arguments.length?(u=Math.min(1,_),f()):u},e.paddingOuter=function(_){return arguments.length?(g=+_,f()):g},e.align=function(_){return arguments.length?(p=Math.max(0,Math.min(1,_)),f()):p},e.copy=function(){return Xi(s(),[i,a]).round(c).paddingInner(u).paddingOuter(g).align(p)},vn.apply(f(),arguments)}function oo(e){var s=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oo(s())},e}function es(){return oo(Xi.apply(null,arguments).paddingInner(1))}function Ig(e,s,t=Nr){if((i=e.length)&&!isNaN(s=+s)){if(s<=0||i<2)return+t(e[0],0,e);if(s>=1)return+t(e[i-1],i-1,e);var i,a=(i-1)*s,r=Math.floor(a),l=+t(e[r],r,e);return l+(+t(e[r+1],r+1,e)-l)*(a-r)}}function lo(){var i,e=[],s=[],t=[];function a(){var l=0,c=Math.max(1,s.length);for(t=new Array(c-1);++l<c;)t[l-1]=Ig(e,l/c);return r}function r(l){return null==l||isNaN(l=+l)?i:s[Vr(t,l)]}return r.invertExtent=function(l){var c=s.indexOf(l);return c<0?[NaN,NaN]:[c>0?t[c-1]:e[0],c<t.length?t[c]:e[e.length-1]]},r.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let c of l)null!=c&&!isNaN(c=+c)&&e.push(c);return e.sort(mn),a()},r.range=function(l){return arguments.length?(s=Array.from(l),a()):s.slice()},r.unknown=function(l){return arguments.length?(i=l,r):i},r.quantiles=function(){return t.slice()},r.copy=function(){return lo().domain(e).range(s).unknown(i)},vn.apply(r,arguments)}function da(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function _t(e){return function(){return e}}function co(e){this._context=e}function yn(e){return new co(e)}co.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,s){switch(e=+e,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,s):this._context.moveTo(e,s);break;case 1:this._point=2;default:this._context.lineTo(e,s)}}};const ga=Math.PI,ua=2*ga,Di=1e-6,Pg=ua-Di;function ho(e){this._+=e[0];for(let s=1,t=e.length;s<t;++s)this._+=arguments[s]+e[s]}class is{constructor(s){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==s?ho:function Og(e){let s=Math.floor(e);if(!(s>=0))throw new Error(`invalid digits: ${e}`);if(s>15)return ho;const t=10**s;return function(i){this._+=i[0];for(let a=1,r=i.length;a<r;++a)this._+=Math.round(arguments[a]*t)/t+i[a]}}(s)}moveTo(s,t){this._append`M${this._x0=this._x1=+s},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(s,t){this._append`L${this._x1=+s},${this._y1=+t}`}quadraticCurveTo(s,t,i,a){this._append`Q${+s},${+t},${this._x1=+i},${this._y1=+a}`}bezierCurveTo(s,t,i,a,r,l){this._append`C${+s},${+t},${+i},${+a},${this._x1=+r},${this._y1=+l}`}arcTo(s,t,i,a,r){if(s=+s,t=+t,i=+i,a=+a,(r=+r)<0)throw new Error(`negative radius: ${r}`);let l=this._x1,c=this._y1,u=i-s,g=a-t,p=l-s,f=c-t,_=p*p+f*f;if(null===this._x1)this._append`M${this._x1=s},${this._y1=t}`;else if(_>Di)if(Math.abs(f*u-g*p)>Di&&r){let b=i-l,D=a-c,$=u*u+g*g,w=b*b+D*D,E=Math.sqrt($),Z=Math.sqrt(_),B=r*Math.tan((ga-Math.acos(($+_-w)/(2*E*Z)))/2),Y=B/Z,X=B/E;Math.abs(Y-1)>Di&&this._append`L${s+Y*p},${t+Y*f}`,this._append`A${r},${r},0,0,${+(f*b>p*D)},${this._x1=s+X*u},${this._y1=t+X*g}`}else this._append`L${this._x1=s},${this._y1=t}`}arc(s,t,i,a,r,l){if(s=+s,t=+t,l=!!l,(i=+i)<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(a),u=i*Math.sin(a),g=s+c,p=t+u,f=1^l,_=l?a-r:r-a;null===this._x1?this._append`M${g},${p}`:(Math.abs(this._x1-g)>Di||Math.abs(this._y1-p)>Di)&&this._append`L${g},${p}`,i&&(_<0&&(_=_%ua+ua),_>Pg?this._append`A${i},${i},0,1,${f},${s-c},${t-u}A${i},${i},0,1,${f},${this._x1=g},${this._y1=p}`:_>Di&&this._append`A${i},${i},0,${+(_>=ga)},${f},${this._x1=s+i*Math.cos(r)},${this._y1=t+i*Math.sin(r)}`)}rect(s,t,i,a){this._append`M${this._x0=this._x1=+s},${this._y0=this._y1=+t}h${i=+i}v${+a}h${-i}Z`}toString(){return this._}}function ma(e){let s=3;return e.digits=function(t){if(!arguments.length)return s;if(null==t)s=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);s=i}return e},()=>new is(s)}function go(e){return e[0]}function uo(e){return e[1]}function mo(e,s){var t=_t(!0),i=null,a=yn,r=null,l=ma(c);function c(u){var g,f,b,p=(u=da(u)).length,_=!1;for(null==i&&(r=a(b=l())),g=0;g<=p;++g)!(g<p&&t(f=u[g],g,u))===_&&((_=!_)?r.lineStart():r.lineEnd()),_&&r.point(+e(f,g,u),+s(f,g,u));if(b)return r=null,b+""||null}return e="function"==typeof e?e:void 0===e?go:_t(e),s="function"==typeof s?s:void 0===s?uo:_t(s),c.x=function(u){return arguments.length?(e="function"==typeof u?u:_t(+u),c):e},c.y=function(u){return arguments.length?(s="function"==typeof u?u:_t(+u),c):s},c.defined=function(u){return arguments.length?(t="function"==typeof u?u:_t(!!u),c):t},c.curve=function(u){return arguments.length?(a=u,null!=i&&(r=a(i)),c):a},c.context=function(u){return arguments.length?(null==u?i=r=null:r=a(i=u),c):i},c}function Ui(e,s,t){var i=null,a=_t(!0),r=null,l=yn,c=null,u=ma(g);function g(f){var _,b,D,w,Z,$=(f=da(f)).length,E=!1,B=new Array($),Y=new Array($);for(null==r&&(c=l(Z=u())),_=0;_<=$;++_){if(!(_<$&&a(w=f[_],_,f))===E)if(E=!E)b=_,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),D=_-1;D>=b;--D)c.point(B[D],Y[D]);c.lineEnd(),c.areaEnd()}E&&(B[_]=+e(w,_,f),Y[_]=+s(w,_,f),c.point(i?+i(w,_,f):B[_],t?+t(w,_,f):Y[_]))}if(Z)return c=null,Z+""||null}function p(){return mo().defined(a).curve(l).context(r)}return e="function"==typeof e?e:void 0===e?go:_t(+e),s="function"==typeof s?s:_t(void 0===s?0:+s),t="function"==typeof t?t:void 0===t?uo:_t(+t),g.x=function(f){return arguments.length?(e="function"==typeof f?f:_t(+f),i=null,g):e},g.x0=function(f){return arguments.length?(e="function"==typeof f?f:_t(+f),g):e},g.x1=function(f){return arguments.length?(i=null==f?null:"function"==typeof f?f:_t(+f),g):i},g.y=function(f){return arguments.length?(s="function"==typeof f?f:_t(+f),t=null,g):s},g.y0=function(f){return arguments.length?(s="function"==typeof f?f:_t(+f),g):s},g.y1=function(f){return arguments.length?(t=null==f?null:"function"==typeof f?f:_t(+f),g):t},g.lineX0=g.lineY0=function(){return p().x(e).y(s)},g.lineY1=function(){return p().x(e).y(t)},g.lineX1=function(){return p().x(i).y(s)},g.defined=function(f){return arguments.length?(a="function"==typeof f?f:_t(!!f),g):a},g.curve=function(f){return arguments.length?(l=f,null!=r&&(c=l(r)),g):l},g.context=function(f){return arguments.length?(null==f?r=c=null:c=l(r=f),g):r},g}const po=Math.abs,jt=Math.atan2,Mi=Math.cos,Bg=Math.max,pa=Math.min,ze=Math.sin,qi=Math.sqrt,ae=1e-12,Tn=Math.PI,ns=Tn/2,ss=2*Tn;function fo(e){return e>=1?ns:e<=-1?-ns:Math.asin(e)}function Rg(e){return e.innerRadius}function Hg(e){return e.outerRadius}function Ng(e){return e.startAngle}function Zg(e){return e.endAngle}function Vg(e){return e&&e.padAngle}function as(e,s,t,i,a,r,l){var c=e-t,u=s-i,g=(l?r:-r)/qi(c*c+u*u),p=g*u,f=-g*c,_=e+p,b=s+f,D=t+p,$=i+f,w=(_+D)/2,E=(b+$)/2,Z=D-_,B=$-b,Y=Z*Z+B*B,X=a-r,G=_*$-D*b,ut=(B<0?-1:1)*qi(Bg(0,X*X*Y-G*G)),mt=(G*B-Z*ut)/Y,Mt=(-G*Z-B*ut)/Y,pt=(G*B+Z*ut)/Y,U=(-G*Z+B*ut)/Y,Tt=mt-w,V=Mt-E,Q=pt-w,zt=U-E;return Tt*Tt+V*V>Q*Q+zt*zt&&(mt=pt,Mt=U),{cx:mt,cy:Mt,x01:-p,y01:-f,x11:mt*(a/X-1),y11:Mt*(a/X-1)}}function fa(){var e=Rg,s=Hg,t=_t(0),i=null,a=Ng,r=Zg,l=Vg,c=null,u=ma(g);function g(){var p,f,_=+e.apply(this,arguments),b=+s.apply(this,arguments),D=a.apply(this,arguments)-ns,$=r.apply(this,arguments)-ns,w=po($-D),E=$>D;if(c||(c=p=u()),b<_&&(f=b,b=_,_=f),b>ae)if(w>ss-ae)c.moveTo(b*Mi(D),b*ze(D)),c.arc(0,0,b,D,$,!E),_>ae&&(c.moveTo(_*Mi($),_*ze($)),c.arc(0,0,_,$,D,E));else{var V,Q,Z=D,B=$,Y=D,X=$,G=w,ut=w,mt=l.apply(this,arguments)/2,Mt=mt>ae&&(i?+i.apply(this,arguments):qi(_*_+b*b)),pt=pa(po(b-_)/2,+t.apply(this,arguments)),U=pt,Tt=pt;if(Mt>ae){var zt=fo(Mt/_*ze(mt)),St=fo(Mt/b*ze(mt));(G-=2*zt)>ae?(Y+=zt*=E?1:-1,X-=zt):(G=0,Y=X=(D+$)/2),(ut-=2*St)>ae?(Z+=St*=E?1:-1,B-=St):(ut=0,Z=B=(D+$)/2)}var bt=b*Mi(Z),It=b*ze(Z),xt=_*Mi(X),Ft=_*ze(X);if(pt>ae){var Kt,Lt=b*Mi(B),Dt=b*ze(B),Ke=_*Mi(Y),Ne=_*ze(Y);if(w<Tn)if(Kt=function Yg(e,s,t,i,a,r,l,c){var u=t-e,g=i-s,p=l-a,f=c-r,_=f*u-p*g;if(!(_*_<ae))return[e+(_=(p*(s-r)-f*(e-a))/_)*u,s+_*g]}(bt,It,Ke,Ne,Lt,Dt,xt,Ft)){var Ze=bt-Kt[0],Nt=It-Kt[1],Me=Lt-Kt[0],W=Dt-Kt[1],it=1/ze(function zg(e){return e>1?0:e<-1?Tn:Math.acos(e)}((Ze*Me+Nt*W)/(qi(Ze*Ze+Nt*Nt)*qi(Me*Me+W*W)))/2),dt=qi(Kt[0]*Kt[0]+Kt[1]*Kt[1]);U=pa(pt,(_-dt)/(it-1)),Tt=pa(pt,(b-dt)/(it+1))}else U=Tt=0}ut>ae?Tt>ae?(V=as(Ke,Ne,bt,It,b,Tt,E),Q=as(Lt,Dt,xt,Ft,b,Tt,E),c.moveTo(V.cx+V.x01,V.cy+V.y01),Tt<pt?c.arc(V.cx,V.cy,Tt,jt(V.y01,V.x01),jt(Q.y01,Q.x01),!E):(c.arc(V.cx,V.cy,Tt,jt(V.y01,V.x01),jt(V.y11,V.x11),!E),c.arc(0,0,b,jt(V.cy+V.y11,V.cx+V.x11),jt(Q.cy+Q.y11,Q.cx+Q.x11),!E),c.arc(Q.cx,Q.cy,Tt,jt(Q.y11,Q.x11),jt(Q.y01,Q.x01),!E))):(c.moveTo(bt,It),c.arc(0,0,b,Z,B,!E)):c.moveTo(bt,It),_>ae&&G>ae?U>ae?(V=as(xt,Ft,Lt,Dt,_,-U,E),Q=as(bt,It,Ke,Ne,_,-U,E),c.lineTo(V.cx+V.x01,V.cy+V.y01),U<pt?c.arc(V.cx,V.cy,U,jt(V.y01,V.x01),jt(Q.y01,Q.x01),!E):(c.arc(V.cx,V.cy,U,jt(V.y01,V.x01),jt(V.y11,V.x11),!E),c.arc(0,0,_,jt(V.cy+V.y11,V.cx+V.x11),jt(Q.cy+Q.y11,Q.cx+Q.x11),E),c.arc(Q.cx,Q.cy,U,jt(Q.y11,Q.x11),jt(Q.y01,Q.x01),!E))):c.arc(0,0,_,X,Y,E):c.lineTo(xt,Ft)}else c.moveTo(0,0);if(c.closePath(),p)return c=null,p+""||null}return g.centroid=function(){var p=(+e.apply(this,arguments)+ +s.apply(this,arguments))/2,f=(+a.apply(this,arguments)+ +r.apply(this,arguments))/2-Tn/2;return[Mi(f)*p,ze(f)*p]},g.innerRadius=function(p){return arguments.length?(e="function"==typeof p?p:_t(+p),g):e},g.outerRadius=function(p){return arguments.length?(s="function"==typeof p?p:_t(+p),g):s},g.cornerRadius=function(p){return arguments.length?(t="function"==typeof p?p:_t(+p),g):t},g.padRadius=function(p){return arguments.length?(i=null==p?null:"function"==typeof p?p:_t(+p),g):i},g.startAngle=function(p){return arguments.length?(a="function"==typeof p?p:_t(+p),g):a},g.endAngle=function(p){return arguments.length?(r="function"==typeof p?p:_t(+p),g):r},g.padAngle=function(p){return arguments.length?(l="function"==typeof p?p:_t(+p),g):l},g.context=function(p){return arguments.length?(c=p??null,g):c},g}function Gg(e,s){return s<e?-1:s>e?1:s>=e?0:NaN}function Wg(e){return e}function xo(){var e=Wg,s=Gg,t=null,i=_t(0),a=_t(ss),r=_t(0);function l(c){var u,p,f,E,Y,g=(c=da(c)).length,_=0,b=new Array(g),D=new Array(g),$=+i.apply(this,arguments),w=Math.min(ss,Math.max(-ss,a.apply(this,arguments)-$)),Z=Math.min(Math.abs(w)/g,r.apply(this,arguments)),B=Z*(w<0?-1:1);for(u=0;u<g;++u)(Y=D[b[u]=u]=+e(c[u],u,c))>0&&(_+=Y);for(null!=s?b.sort(function(X,G){return s(D[X],D[G])}):null!=t&&b.sort(function(X,G){return t(c[X],c[G])}),u=0,f=_?(w-g*B)/_:0;u<g;++u,$=E)D[p=b[u]]={data:c[p],index:u,value:Y=D[p],startAngle:$,endAngle:E=$+(Y>0?Y*f:0)+B,padAngle:Z};return D}return l.value=function(c){return arguments.length?(e="function"==typeof c?c:_t(+c),l):e},l.sortValues=function(c){return arguments.length?(s=c,t=null,l):s},l.sort=function(c){return arguments.length?(t=c,s=null,l):t},l.startAngle=function(c){return arguments.length?(i="function"==typeof c?c:_t(+c),l):i},l.endAngle=function(c){return arguments.length?(a="function"==typeof c?c:_t(+c),l):a},l.padAngle=function(c){return arguments.length?(r="function"==typeof c?c:_t(+c),l):r},l}var qg=R(52178);const Jg=["caretElm"];function Qg(e,s){}const jg=function(e){return{model:e}};function Kg(e,s){if(1&e&&(n.TgZ(0,"span"),n.YNc(1,Qg,0,0,"ng-template",5),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",n.VKq(2,jg,t.context))}}function tu(e,s){if(1&e&&n._UZ(0,"span",6),2&e){const t=n.oxw();n.Q6J("innerHTML",t.title,n.oJD)}}function eu(e,s){if(1&e&&(n.TgZ(0,"header",4)(1,"span",5),n._uU(2),n.qZA()()),2&e){const t=n.oxw();n.xp6(2),n.Oqu(t.title)}}function iu(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"li",6)(1,"ngx-charts-legend-entry",7),n.NdJ("select",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.labelClick.emit(a))})("activate",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.activate(a))})("deactivate",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.deactivate(a))}),n.qZA()()}if(2&e){const t=s.$implicit,i=n.oxw();n.xp6(1),n.Q6J("label",t.label)("formattedLabel",t.formattedLabel)("color",t.color)("isActive",i.isActive(t))}}function nu(e,s){if(1&e&&(n.O4$(),n.kcU(),n._UZ(0,"ngx-charts-scale-legend",4)),2&e){const t=n.oxw();n.Q6J("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("valueRange",t.legendOptions.domain)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)}}function su(e,s){if(1&e){const t=n.EpF();n.O4$(),n.kcU(),n.TgZ(0,"ngx-charts-legend",5),n.NdJ("labelClick",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.legendLabelClick.emit(a))})("labelActivate",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.legendLabelActivate.emit(a))})("labelDeactivate",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.legendLabelDeactivate.emit(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("data",t.legendOptions.domain)("title",t.legendOptions.title)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)("activeEntries",t.activeEntries)}}const _o=["*"],au=["ngx-charts-axis-label",""],vo=["ticksel"],ru=["ngx-charts-x-axis-ticks",""];function ou(e,s){1&e&&(n.O4$(),n.GkF(0))}function lu(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"tspan",10),n._uU(1),n.qZA()),2&e){const t=s.$implicit;n.uIk("y",12*s.index),n.xp6(1),n.hij(" ",t," ")}}function cu(e,s){if(1&e&&(n.O4$(),n.ynx(0),n.YNc(1,lu,2,2,"tspan",9),n.BQk()),2&e){const t=s.ngIf;n.xp6(1),n.Q6J("ngForOf",t)}}function hu(e,s){if(1&e&&(n.O4$(),n.YNc(0,cu,2,1,"ng-container",4)),2&e){const t=n.oxw(2).$implicit,i=n.oxw();n.Q6J("ngIf",i.tickChunks(t))}}function du(e,s){if(1&e&&(n.O4$(),n._uU(0)),2&e){const t=n.oxw().ngIf,i=n.oxw(2);n.hij(" ",i.tickTrim(t)," ")}}function gu(e,s){if(1&e&&(n.O4$(),n.ynx(0),n.TgZ(1,"title"),n._uU(2),n.qZA(),n.TgZ(3,"text",5),n.YNc(4,ou,1,0,"ng-container",6),n.qZA(),n.YNc(5,hu,1,1,"ng-template",null,7,n.W1O),n.YNc(7,du,1,1,"ng-template",null,8,n.W1O),n.BQk()),2&e){const t=s.ngIf,i=n.MAs(6),a=n.MAs(8),r=n.oxw(2);n.xp6(2),n.Oqu(t),n.xp6(1),n.uIk("text-anchor",r.textAnchor)("transform",r.textTransform),n.xp6(1),n.Q6J("ngIf",r.isWrapTicksSupported)("ngIfThen",i)("ngIfElse",a)}}function uu(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g",3),n.YNc(1,gu,9,6,"ng-container",4),n.qZA()),2&e){const t=s.$implicit,i=n.oxw();n.uIk("transform",i.tickTransform(t)),n.xp6(1),n.Q6J("ngIf",i.tickFormat(t))}}function mu(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"line",11),n.qZA()),2&e){const t=n.oxw(2);n.uIk("transform",t.gridLineTransform()),n.xp6(1),n.uIk("y1",-t.gridLineHeight)}}function pu(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,mu,2,2,"g",4),n.qZA()),2&e){const t=s.$implicit,i=n.oxw();n.uIk("transform",i.tickTransform(t)),n.xp6(1),n.Q6J("ngIf",i.showGridLines)}}const fu=["ngx-charts-x-axis",""];function xu(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",2),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.emitTicksHeight(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("trimTicks",t.trimTicks)("rotateTicks",t.rotateTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickStroke",t.tickStroke)("scale",t.xScale)("orient",t.xOrient)("showGridLines",t.showGridLines)("gridLineHeight",t.dims.height)("width",t.dims.width)("tickValues",t.ticks)("wrapTicks",t.wrapTicks)}}function _u(e,s){if(1&e&&(n.O4$(),n._UZ(0,"g",3)),2&e){const t=n.oxw();n.Q6J("label",t.labelText)("offset",t.labelOffset)("orient",t.orientation.Bottom)("height",t.dims.height)("width",t.dims.width)}}const vu=["ngx-charts-y-axis-ticks",""];function yu(e,s){1&e&&(n.O4$(),n.GkF(0))}function Tu(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"tspan",12),n._uU(1),n.qZA()),2&e){const t=s.$implicit,i=s.index,a=n.oxw(6);n.uIk("y",i*(8+a.tickSpacing)),n.xp6(1),n.hij(" ",t," ")}}function bu(e,s){if(1&e&&(n.O4$(),n.ynx(0),n.YNc(1,Tu,2,2,"tspan",11),n.BQk()),2&e){const t=n.oxw().ngIf;n.xp6(1),n.Q6J("ngForOf",t)}}function Cu(e,s){if(1&e&&(n.O4$(),n.ynx(0),n.YNc(1,bu,2,1,"ng-container",10),n.BQk()),2&e){const t=s.ngIf;n.oxw(2);const i=n.MAs(8);n.xp6(1),n.Q6J("ngIf",t.length>1)("ngIfElse",i)}}function wu(e,s){if(1&e&&(n.O4$(),n.YNc(0,Cu,2,2,"ng-container",5)),2&e){const t=n.oxw(2).$implicit,i=n.oxw();n.Q6J("ngIf",i.tickChunks(t))}}function Su(e,s){if(1&e&&(n.O4$(),n._uU(0)),2&e){const t=n.oxw().ngIf,i=n.oxw(2);n.hij(" ",i.tickTrim(t)," ")}}function ku(e,s){if(1&e&&(n.O4$(),n.ynx(0),n.TgZ(1,"title"),n._uU(2),n.qZA(),n.TgZ(3,"text",6),n.YNc(4,yu,1,0,"ng-container",7),n.qZA(),n.YNc(5,wu,1,1,"ng-template",null,8,n.W1O),n.YNc(7,Su,1,1,"ng-template",null,9,n.W1O),n.BQk()),2&e){const t=s.ngIf,i=n.MAs(6),a=n.MAs(8),r=n.oxw(2);n.xp6(2),n.Oqu(t),n.xp6(1),n.Udp("font-size","12px"),n.uIk("dy",r.dy)("x",r.x1)("y",r.y1)("text-anchor",r.textAnchor),n.xp6(1),n.Q6J("ngIf",r.wrapTicks)("ngIfThen",i)("ngIfElse",a)}}function Au(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g",4),n.YNc(1,ku,9,10,"ng-container",5),n.qZA()),2&e){const t=s.$implicit,i=n.oxw();n.uIk("transform",i.transform(t)),n.xp6(1),n.Q6J("ngIf",i.tickFormat(t))}}function Lu(e,s){if(1&e&&(n.O4$(),n._UZ(0,"path",13)),2&e){const t=n.oxw();n.uIk("d",t.referenceAreaPath)("transform",t.gridLineTransform())}}function Du(e,s){if(1&e&&(n.O4$(),n._UZ(0,"line",15)),2&e){const t=n.oxw(3);n.uIk("x2",t.gridLineWidth)}}function Mu(e,s){if(1&e&&(n.O4$(),n._UZ(0,"line",15)),2&e){const t=n.oxw(3);n.uIk("x2",-t.gridLineWidth)}}function Fu(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,Du,1,1,"line",14),n.YNc(2,Mu,1,1,"line",14),n.qZA()),2&e){const t=n.oxw(2);n.uIk("transform",t.gridLineTransform()),n.xp6(1),n.Q6J("ngIf",t.orient===t.Orientation.Left),n.xp6(1),n.Q6J("ngIf",t.orient===t.Orientation.Right)}}function Eu(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,Fu,3,3,"g",5),n.qZA()),2&e){const t=s.$implicit,i=n.oxw();n.uIk("transform",i.transform(t)),n.xp6(1),n.Q6J("ngIf",i.showGridLines)}}function Iu(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g")(1,"title"),n._uU(2),n.qZA(),n.TgZ(3,"text",17),n._uU(4),n.qZA()()),2&e){const t=n.oxw(2).$implicit,i=n.oxw();n.xp6(2),n.Oqu(i.tickTrim(i.tickFormat(t.value))),n.xp6(1),n.uIk("dy",i.dy)("y",-6)("x",i.gridLineWidth)("text-anchor",i.textAnchor),n.xp6(1),n.hij(" ",t.name," ")}}function Pu(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"line",16),n.YNc(2,Iu,5,6,"g",5),n.qZA()),2&e){const t=n.oxw().$implicit,i=n.oxw();n.uIk("transform",i.transform(t.value)),n.xp6(1),n.uIk("x2",i.gridLineWidth)("transform",i.gridLineTransform()),n.xp6(1),n.Q6J("ngIf",i.showRefLabels)}}function Ou(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,Pu,3,4,"g",5),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",t.showRefLines)}}const $u=["ngx-charts-y-axis",""];function Bu(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",2),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.emitTicksWidth(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("trimTicks",t.trimTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickValues",t.ticks)("tickStroke",t.tickStroke)("scale",t.yScale)("orient",t.yOrient)("showGridLines",t.showGridLines)("gridLineWidth",t.dims.width)("referenceLines",t.referenceLines)("showRefLines",t.showRefLines)("showRefLabels",t.showRefLabels)("height",t.dims.height)("wrapTicks",t.wrapTicks)}}function zu(e,s){if(1&e&&(n.O4$(),n._UZ(0,"g",3)),2&e){const t=n.oxw();n.Q6J("label",t.labelText)("offset",t.labelOffset)("orient",t.yOrient)("height",t.dims.height)("width",t.dims.width)}}const Ru=["ngx-charts-svg-linear-gradient",""];function Hu(e,s){if(1&e&&(n.O4$(),n._UZ(0,"stop")),2&e){const t=s.$implicit;n.Udp("stop-color",t.color)("stop-opacity",t.opacity),n.uIk("offset",t.offset+"%")}}const Nu=["ngx-charts-circle",""],Zu=["ngx-charts-circle-series",""];function Vu(e,s){if(1&e&&(n.O4$(),n._UZ(0,"rect",4)),2&e){const t=n.oxw(2);n.Q6J("@animationState","active"),n.uIk("x",t.circle.cx-t.circle.radius)("y",t.circle.cy)("width",2*t.circle.radius)("height",t.circle.height)("fill",t.gradientFill)}}function Yu(e,s){if(1&e&&(n.O4$(),n._UZ(0,"rect",4)),2&e){const t=n.oxw(2);n.uIk("x",t.circle.cx-t.circle.radius)("y",t.circle.cy)("width",2*t.circle.radius)("height",t.circle.height)("fill",t.gradientFill)}}const Gu=function(e){return{name:e}};function Wu(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g")(1,"defs"),n._UZ(2,"g",1),n.qZA(),n.YNc(3,Vu,1,6,"rect",2),n.YNc(4,Yu,1,5,"rect",2),n.TgZ(5,"g",3),n.NdJ("select",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.onClick(a.circle.data))})("activate",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.activateCircle())})("deactivate",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.deactivateCircle())}),n.qZA()()}if(2&e){const t=n.oxw();n.xp6(2),n.Q6J("orientation",t.barOrientation.Vertical)("name",t.gradientId)("stops",t.circle.gradientStops),n.xp6(1),n.Q6J("ngIf",!t.isSSR&&t.barVisible&&"standard"===t.type),n.xp6(1),n.Q6J("ngIf",t.isSSR&&t.barVisible&&"standard"===t.type),n.xp6(1),n.ekj("active",t.isActive(n.VKq(20,Gu,t.circle.seriesName))),n.Q6J("cx",t.circle.cx)("cy",t.circle.cy)("r",t.circle.radius)("fill",t.circle.color)("pointerEvents",0===t.circle.value?"none":"all")("data",t.circle.value)("classNames",t.circle.classNames)("tooltipDisabled",t.tooltipDisabled)("tooltipPlacement",t.placementTypes.Top)("tooltipType",t.styleTypes.tooltip)("tooltipTitle",t.tooltipTemplate?void 0:t.getTooltipText(t.circle))("tooltipTemplate",t.tooltipTemplate)("tooltipContext",t.circle.data)}}const Ju=["ngx-charts-svg-radial-gradient",""];function Qu(e,s){if(1&e&&(n.O4$(),n._UZ(0,"stop")),2&e){const t=s.$implicit;n.Udp("stop-color",t.color)("stop-opacity",t.opacity),n.uIk("offset",t.offset+"%")}}const ju=["ngx-charts-area",""];function Ku(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"defs"),n._UZ(1,"g",2),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("orientation",t.barOrientation.Vertical)("name",t.gradientId)("stops",t.gradientStops)}}const tm=["ngx-charts-count-up",""],em=["tooltipAnchor"],im=["ngx-charts-tooltip-area",""];function nm(e,s){if(1&e&&(n.TgZ(0,"div",6),n._UZ(1,"span",7),n._uU(2),n.qZA()),2&e){const t=s.$implicit,i=n.oxw(2);n.xp6(1),n.Udp("background-color",t.color),n.xp6(1),n.hij(" ",i.getToolTipText(t)," ")}}function sm(e,s){if(1&e&&(n.O4$(),n.kcU(),n.TgZ(0,"div",4),n.YNc(1,nm,3,3,"div",5),n.qZA()),2&e){const t=s.model;n.xp6(1),n.Q6J("ngForOf",t)}}const am=["ngx-charts-timeline",""],um=["ngx-charts-area-series",""],Ji=["tooltipTemplate"],xa=["seriesTooltipTemplate"];function mm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",7),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.updateXAxisHeight(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("xScale",t.xScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)("wrapTicks",t.wrapTicks)}}function pm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",8),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.updateYAxisWidth(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("yScale",t.yScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("wrapTicks",t.wrapTicks)}}function fm(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"g",9),n.qZA()),2&e){const t=s.$implicit,i=n.oxw();n.xp6(1),n.Q6J("xScale",i.xScale)("yScale",i.yScale)("baseValue",i.baseValue)("colors",i.colors)("data",t)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("gradient",i.gradient)("curve",i.curve)("animations",i.animations)}}function xm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g")(1,"g",13),n.NdJ("select",function(a){const l=n.CHM(t).$implicit,c=n.oxw(2);return n.KtG(c.onClick(a,l))})("activate",function(a){n.CHM(t);const r=n.oxw(2);return n.KtG(r.onActivate(a))})("deactivate",function(a){n.CHM(t);const r=n.oxw(2);return n.KtG(r.onDeactivate(a))}),n.qZA()()}if(2&e){const t=s.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("activeEntries",i.activeEntries)("data",t)("scaleType",i.scaleType)("visibleValue",i.hoveredVertical)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)}}function _m(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",10),n.NdJ("mouseleave",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.hideCircles())}),n.TgZ(1,"g",11),n.NdJ("hover",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.updateHoveredVertical(a))}),n.qZA(),n.YNc(2,xm,2,9,"g",12),n.qZA()}if(2&e){const t=n.oxw();n.xp6(1),n.Q6J("dims",t.dims)("xSet",t.xSet)("xScale",t.xScale)("yScale",t.yScale)("results",t.results)("colors",t.colors)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.seriesTooltipTemplate),n.xp6(1),n.Q6J("ngForOf",t.results)}}function vm(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"g",15),n.qZA()),2&e){const t=s.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("xScale",i.timelineXScale)("yScale",i.timelineYScale)("baseValue",i.baseValue)("colors",i.colors)("data",t)("scaleType",i.scaleType)("gradient",i.gradient)("curve",i.curve)("animations",i.animations)}}const Re=function(e,s){return[e,s]};function ym(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",14),n.NdJ("onDomainChange",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.updateDomain(a))}),n.YNc(1,vm,2,9,"g",4),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("results",t.results)("view",n.WLB(10,Re,t.timelineWidth,t.height))("height",t.timelineHeight)("scheme",t.scheme)("customColors",t.customColors)("legend",t.legend)("scaleType",t.scaleType),n.uIk("transform",t.timelineTransform),n.xp6(1),n.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}const bn=".ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}\n";function Cm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",7),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.updateXAxisHeight(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("xScale",t.xScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)("wrapTicks",t.wrapTicks)}}function wm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",8),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.updateYAxisWidth(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("yScale",t.yScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("wrapTicks",t.wrapTicks)}}function Sm(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"g",9),n.qZA()),2&e){const t=s.$implicit,i=n.oxw();n.xp6(1),n.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",t)("scaleType",i.scaleType)("gradient",i.gradient)("activeEntries",i.activeEntries)("stacked",!0)("curve",i.curve)("animations",i.animations)}}function km(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g")(1,"g",12),n.NdJ("select",function(a){const l=n.CHM(t).$implicit,c=n.oxw(2);return n.KtG(c.onClick(a,l))})("activate",function(a){n.CHM(t);const r=n.oxw(2);return n.KtG(r.onActivate(a))})("deactivate",function(a){n.CHM(t);const r=n.oxw(2);return n.KtG(r.onDeactivate(a))}),n.qZA()()}if(2&e){const t=s.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("type",i.seriesType.Stacked)("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("activeEntries",i.activeEntries)("data",t)("scaleType",i.scaleType)("visibleValue",i.hoveredVertical)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)}}function Am(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",10),n.NdJ("mouseleave",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.hideCircles())}),n.TgZ(1,"g",11),n.NdJ("hover",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.updateHoveredVertical(a))}),n.qZA(),n.YNc(2,km,2,10,"g",4),n.qZA()}if(2&e){const t=n.oxw();n.xp6(1),n.Q6J("dims",t.dims)("xSet",t.xSet)("xScale",t.xScale)("yScale",t.yScale)("results",t.results)("colors",t.colors)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.seriesTooltipTemplate),n.xp6(1),n.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}function Lm(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"g",14),n.qZA()),2&e){const t=s.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("xScale",i.timelineXScale)("yScale",i.timelineYScale)("colors",i.colors)("data",t)("scaleType",i.scaleType)("gradient",i.gradient)("stacked",!0)("curve",i.curve)("animations",i.animations)}}function Dm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",13),n.NdJ("onDomainChange",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.updateDomain(a))}),n.YNc(1,Lm,2,9,"g",4),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("results",t.results)("view",n.WLB(10,Re,t.timelineWidth,t.height))("height",t.timelineHeight)("scheme",t.scheme)("customColors",t.customColors)("legend",t.legend)("scaleType",t.scaleType),n.uIk("transform",t.timelineTransform),n.xp6(1),n.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}const Mm=["ngx-charts-bar",""];function Fm(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"defs"),n._UZ(1,"g",2),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("orientation",t.orientation)("name",t.gradientId)("stops",t.gradientStops)}}const Em=["ngx-charts-bar-label",""],Hm=["ngx-charts-series-vertical",""];function Nm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",2),n.NdJ("select",function(a){n.CHM(t);const r=n.oxw(2);return n.KtG(r.onClick(a))})("activate",function(a){n.CHM(t);const r=n.oxw(2);return n.KtG(r.activate.emit(a))})("deactivate",function(a){n.CHM(t);const r=n.oxw(2);return n.KtG(r.deactivate.emit(a))}),n.qZA()}if(2&e){const t=s.$implicit,i=n.oxw(2);n.Q6J("@animationState","active")("@.disabled",!i.animations)("width",t.width)("height",t.height)("x",t.x)("y",t.y)("fill",t.color)("stops",t.gradientStops)("data",t.data)("orientation",i.barOrientation.Vertical)("roundEdges",t.roundEdges)("gradient",i.gradient)("ariaLabel",t.ariaLabel)("isActive",i.isActive(t.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:t.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function Zm(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,Nm,1,22,"g",1),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.bars)("ngForTrackBy",t.trackBy)}}function Vm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",2),n.NdJ("select",function(a){n.CHM(t);const r=n.oxw(2);return n.KtG(r.onClick(a))})("activate",function(a){n.CHM(t);const r=n.oxw(2);return n.KtG(r.activate.emit(a))})("deactivate",function(a){n.CHM(t);const r=n.oxw(2);return n.KtG(r.deactivate.emit(a))}),n.qZA()}if(2&e){const t=s.$implicit,i=n.oxw(2);n.Q6J("width",t.width)("height",t.height)("x",t.x)("y",t.y)("fill",t.color)("stops",t.gradientStops)("data",t.data)("orientation",i.barOrientation.Vertical)("roundEdges",t.roundEdges)("gradient",i.gradient)("ariaLabel",t.ariaLabel)("isActive",i.isActive(t.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:t.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function Ym(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,Vm,1,20,"g",1),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.bars)("ngForTrackBy",t.trackBy)}}function Gm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",4),n.NdJ("dimensionsChanged",function(a){const l=n.CHM(t).index,c=n.oxw(2);return n.KtG(c.dataLabelHeightChanged.emit({size:a,index:l}))}),n.qZA()}if(2&e){const t=s.$implicit,i=n.oxw(2);n.Q6J("barX",t.x)("barY",t.y)("barWidth",t.width)("barHeight",t.height)("value",t.total)("valueFormatting",i.dataLabelFormatting)("orientation",i.barOrientation.Vertical)}}function Wm(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,Gm,1,7,"g",3),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.barsForDataLabels)("ngForTrackBy",t.trackDataLabelBy)}}function Xm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",5),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.updateXAxisHeight(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("xScale",t.xScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)("xAxisOffset",t.dataLabelMaxHeight.negative)("wrapTicks",t.wrapTicks)}}function Um(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",6),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.updateYAxisWidth(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("yScale",t.yScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("wrapTicks",t.wrapTicks)}}const rp=["ngx-charts-line",""];function op(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"path",1),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("@animationState","active"),n.uIk("d",t.initialPath)("fill",t.fill)("stroke",t.stroke)}}function lp(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"path",1),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.uIk("d",t.initialPath)("fill",t.fill)("stroke",t.stroke)}}const cp=["ngx-charts-line-series",""];function hp(e,s){if(1&e&&(n.O4$(),n._UZ(0,"g",4)),2&e){const t=n.oxw();n.Q6J("orientation",t.barOrientation.Vertical)("name",t.gradientId)("stops",t.gradientStops)}}function dp(e,s){if(1&e&&(n.O4$(),n._UZ(0,"g",5)),2&e){const t=n.oxw();n.ekj("active",t.isActive(t.data))("inactive",t.isInactive(t.data)),n.Q6J("data",t.data)("path",t.outerPath)("fill",t.hasGradient?t.gradientUrl:t.colors.getColor(t.data.name))("opacity",t.rangeFillOpacity)("animations",t.animations)}}function gp(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",7),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.updateXAxisHeight(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("xScale",t.xScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)("wrapTicks",t.wrapTicks)}}function up(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",8),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.updateYAxisWidth(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("yScale",t.yScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("referenceLines",t.referenceLines)("showRefLines",t.showRefLines)("showRefLabels",t.showRefLabels)("wrapTicks",t.wrapTicks)}}function mp(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"g",10),n.qZA()),2&e){const t=s.$implicit,i=n.oxw(2);n.Q6J("@animationState","active"),n.xp6(1),n.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",t)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function pp(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,mp,2,11,"g",9),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}function fp(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"g",10),n.qZA()),2&e){const t=s.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",t)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function xp(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,fp,2,10,"g",9),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}function _p(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g")(1,"g",14),n.NdJ("select",function(a){n.CHM(t);const r=n.oxw(2);return n.KtG(r.onClick(a))})("activate",function(a){n.CHM(t);const r=n.oxw(2);return n.KtG(r.onActivate(a))})("deactivate",function(a){n.CHM(t);const r=n.oxw(2);return n.KtG(r.onDeactivate(a))}),n.qZA()()}if(2&e){const t=s.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",t)("scaleType",i.scaleType)("visibleValue",i.hoveredVertical)("activeEntries",i.activeEntries)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)}}function vp(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",11),n.NdJ("mouseleave",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.hideCircles())}),n.TgZ(1,"g",12),n.NdJ("hover",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.updateHoveredVertical(a))}),n.qZA(),n.YNc(2,_p,2,9,"g",13),n.qZA()}if(2&e){const t=n.oxw();n.xp6(1),n.Q6J("dims",t.dims)("xSet",t.xSet)("xScale",t.xScale)("yScale",t.yScale)("results",t.results)("colors",t.colors)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.seriesTooltipTemplate),n.xp6(1),n.Q6J("ngForOf",t.results)}}function yp(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"g",16),n.qZA()),2&e){const t=s.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("xScale",i.timelineXScale)("yScale",i.timelineYScale)("colors",i.colors)("data",t)("scaleType",i.scaleType)("curve",i.curve)("hasRange",i.hasRange)("animations",i.animations)}}function Tp(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",15),n.NdJ("onDomainChange",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.updateDomain(a))}),n.YNc(1,yp,2,8,"g",9),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("results",t.results)("view",n.WLB(10,Re,t.timelineWidth,t.height))("height",t.timelineHeight)("scheme",t.scheme)("customColors",t.customColors)("scaleType",t.scaleType)("legend",t.legend),n.uIk("transform",t.timelineTransform),n.xp6(1),n.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}const bp=["ngx-charts-pie-label",""],Ap=["ngx-charts-pie-arc",""];function Lp(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"defs"),n._UZ(1,"g",3),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("color",t.fill)("name",t.radialGradientId)("startOpacity",t.startOpacity)}}const Dp=["ngx-charts-pie-series",""];function Mp(e,s){if(1&e&&(n.O4$(),n._UZ(0,"g",3)),2&e){const t=n.oxw().$implicit,i=n.oxw();n.Q6J("data",t)("radius",i.outerRadius)("color",i.color(t))("label",i.labelText(t))("labelTrim",i.trimLabels)("labelTrimSize",i.maxLabelLength)("max",i.max)("value",t.value)("explodeSlices",i.explodeSlices)("animations",i.animations)}}function Fp(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g"),n.YNc(1,Mp,1,10,"g",1),n.TgZ(2,"g",2),n.NdJ("select",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.onClick(a))})("activate",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.activate.emit(a))})("deactivate",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.deactivate.emit(a))})("dblclick",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.dblclick.emit(a))}),n.qZA()()}if(2&e){const t=s.$implicit,i=n.oxw();n.xp6(1),n.Q6J("ngIf",i.labelVisible(t)),n.xp6(1),n.Q6J("startAngle",t.startAngle)("endAngle",t.endAngle)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("fill",i.color(t))("value",t.data.value)("gradient",i.gradient)("data",t.data)("max",i.max)("explodeSlices",i.explodeSlices)("isActive",i.isActive(t.data))("animate",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Top)("tooltipType",i.styleTypes.tooltip)("tooltipTitle",i.getTooltipTitle(t))("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)}}const Ip=["ngx-charts-pie-grid-series",""];function Pp(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",2),n.NdJ("select",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.onClick(a))})("activate",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.activate.emit(a))})("deactivate",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.deactivate.emit(a))}),n.qZA()}if(2&e){const t=s.$implicit,i=n.oxw();n.Q6J("startAngle",t.startAngle)("endAngle",t.endAngle)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("fill",i.color(t))("value",t.data.value)("data",t.data)("gradient",!1)("pointerEvents",t.pointerEvents)("animate",t.animate),n.uIk("class",t.class)}}function Op(e,s){if(1&e&&(n.O4$(),n._UZ(0,"text",10)),2&e){const t=n.oxw().$implicit;n.Q6J("countTo",t.percent)("countSuffix","%")}}function $p(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"text",11),n._uU(1),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.hij(" ",t.percent.toLocaleString()," ")}}function Bp(e,s){if(1&e&&(n.O4$(),n._UZ(0,"text",12)),2&e){const t=n.oxw().$implicit,i=n.oxw();n.Q6J("countTo",t.total)("countPrefix",i.label+": "),n.uIk("y",t.outerRadius)}}function zp(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"text",13),n._uU(1),n.qZA()),2&e){const t=n.oxw().$implicit,i=n.oxw();n.uIk("y",t.outerRadius),n.xp6(1),n.AsE(" ",i.label,": ",t.total.toLocaleString()," ")}}const Rp=function(e){return{data:e}};function Hp(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",3)(1,"g",4),n.NdJ("select",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.onClick(a))})("activate",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.onActivate(a))})("deactivate",function(a){n.CHM(t);const r=n.oxw();return n.KtG(r.onDeactivate(a))}),n.qZA(),n.YNc(2,Op,1,2,"text",5),n.YNc(3,$p,2,1,"text",6),n.TgZ(4,"text",7),n._uU(5),n.qZA(),n.YNc(6,Bp,1,3,"text",8),n.YNc(7,zp,2,3,"text",9),n.qZA()}if(2&e){const t=s.$implicit,i=n.oxw();n.uIk("transform",t.transform),n.xp6(1),n.Q6J("colors",t.colors)("data",t.data)("innerRadius",t.innerRadius)("outerRadius",t.outerRadius)("animations",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Top)("tooltipType",i.styleTypes.tooltip)("tooltipTitle",i.tooltipTemplate?void 0:i.tooltipText(n.VKq(17,Rp,t)))("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data[0].data),n.xp6(1),n.Q6J("ngIf",i.animations),n.xp6(1),n.Q6J("ngIf",!i.animations),n.xp6(2),n.hij(" ",t.label," "),n.xp6(1),n.Q6J("ngIf",i.animations),n.xp6(1),n.Q6J("ngIf",!i.animations)}}function Vp(e,s,t){t=t||{};let i,a,r,l=null,c=0;function u(){c=!1===t.leading?0:+new Date,l=null,r=e.apply(i,a)}return function(){const g=+new Date;!c&&!1===t.leading&&(c=g);const p=s-(g-c);return i=this,a=arguments,p<=0?(clearTimeout(l),l=null,c=g,r=e.apply(i,a)):!l&&!1!==t.trailing&&(l=setTimeout(u,p)),r}}function Yp(e,s){return function(i,a,r){return{configurable:!0,enumerable:r.enumerable,get:function(){return Object.defineProperty(this,a,{configurable:!0,enumerable:r.enumerable,value:Vp(r.value,e,s)}),this[a]}}}}var ct=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.Center="center",e}(ct||{});function yo(e,s,t){return t===ct.Top?e.top-7:t===ct.Bottom?e.top+e.height-s.height+7:t===ct.Center?e.top+e.height/2-s.height/2:void 0}function To(e,s,t){return t===ct.Left?e.left-7:t===ct.Right?e.left+e.width-s.width+7:t===ct.Center?e.left+e.width/2-s.width/2:void 0}class de{static calculateVerticalAlignment(s,t,i){let a=yo(s,t,i);return a+t.height>window.innerHeight&&(a=window.innerHeight-t.height),a}static calculateVerticalCaret(s,t,i,a){let r;a===ct.Top&&(r=s.height/2-i.height/2+7),a===ct.Bottom&&(r=t.height-s.height/2-i.height/2-7),a===ct.Center&&(r=t.height/2-i.height/2);const l=yo(s,t,a);return l+t.height>window.innerHeight&&(r+=l+t.height-window.innerHeight),r}static calculateHorizontalAlignment(s,t,i){let a=To(s,t,i);return a+t.width>window.innerWidth&&(a=window.innerWidth-t.width),a}static calculateHorizontalCaret(s,t,i,a){let r;a===ct.Left&&(r=s.width/2-i.width/2+7),a===ct.Right&&(r=t.width-s.width/2-i.width/2-7),a===ct.Center&&(r=t.width/2-i.width/2);const l=To(s,t,a);return l+t.width>window.innerWidth&&(r+=l+t.width-window.innerWidth),r}static shouldFlip(s,t,i,a){let r=!1;return i===ct.Right&&s.left+s.width+t.width+a>window.innerWidth&&(r=!0),i===ct.Left&&s.left-t.width-a<0&&(r=!0),i===ct.Top&&s.top-t.height-a<0&&(r=!0),i===ct.Bottom&&s.top+s.height+t.height+a>window.innerHeight&&(r=!0),r}static positionCaret(s,t,i,a,r){let l=0,c=0;return s===ct.Right?(c=-7,l=de.calculateVerticalCaret(i,t,a,r)):s===ct.Left?(c=t.width,l=de.calculateVerticalCaret(i,t,a,r)):s===ct.Top?(l=t.height,c=de.calculateHorizontalCaret(i,t,a,r)):s===ct.Bottom&&(l=-7,c=de.calculateHorizontalCaret(i,t,a,r)),{top:l,left:c}}static positionContent(s,t,i,a,r){let l=0,c=0;return s===ct.Right?(c=i.left+i.width+a,l=de.calculateVerticalAlignment(i,t,r)):s===ct.Left?(c=i.left-t.width-a,l=de.calculateVerticalAlignment(i,t,r)):s===ct.Top?(l=i.top-t.height-a,c=de.calculateHorizontalAlignment(i,t,r)):s===ct.Bottom&&(l=i.top+i.height+a,c=de.calculateHorizontalAlignment(i,t,r)),{top:l,left:c}}static determinePlacement(s,t,i,a){if(de.shouldFlip(i,t,s,a)){if(s===ct.Right)return ct.Left;if(s===ct.Left)return ct.Right;if(s===ct.Top)return ct.Bottom;if(s===ct.Bottom)return ct.Top}return s}}let Gp=(()=>{class e{constructor(t,i,a){this.element=t,this.renderer=i,this.platformId=a}get cssClasses(){let t="ngx-charts-tooltip-content";return t+=` position-${this.placement}`,t+=` type-${this.type}`,t+=` ${this.cssClass}`,t}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!(0,v.NF)(this.platformId))return;const t=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const a=t.getBoundingClientRect();this.checkFlip(i,a),this.positionContent(t,i,a),this.showCaret&&this.positionCaret(i,a),setTimeout(()=>this.renderer.addClass(t,"animate"),1)}positionContent(t,i,a){const{top:r,left:l}=de.positionContent(this.placement,a,i,this.spacing,this.alignment);this.renderer.setStyle(t,"top",`${r}px`),this.renderer.setStyle(t,"left",`${l}px`)}positionCaret(t,i){const a=this.caretElm.nativeElement,r=a.getBoundingClientRect(),{top:l,left:c}=de.positionCaret(this.placement,i,t,r,this.alignment);this.renderer.setStyle(a,"top",`${l}px`),this.renderer.setStyle(a,"left",`${c}px`)}checkFlip(t,i){this.placement=de.determinePlacement(this.placement,i,t,this.spacing)}onWindowResize(){this.position()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-tooltip-content"]],viewQuery:function(t,i){if(1&t&&n.Gf(Jg,5),2&t){let a;n.iGM(a=n.CRH())&&(i.caretElm=a.first)}},hostVars:2,hostBindings:function(t,i){1&t&&n.NdJ("resize",function(){return i.onWindowResize()},!1,n.Jf7),2&t&&n.Tol(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(t,i){1&t&&(n.TgZ(0,"div"),n._UZ(1,"span",0,1),n.TgZ(3,"div",2),n.YNc(4,Kg,2,4,"span",3),n.YNc(5,tu,1,1,"span",4),n.qZA()()),2&t&&(n.xp6(1),n.Gre("tooltip-caret position-",i.placement,""),n.Q6J("hidden",!i.showCaret),n.xp6(3),n.Q6J("ngIf",!i.title),n.xp6(1),n.Q6J("ngIf",i.title))},dependencies:[v.O5,v.tP],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),function o(e,s,t,i){var l,a=arguments.length,r=a<3?s:null===i?i=Object.getOwnPropertyDescriptor(s,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,s,t,i);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(r=(a<3?l(r):a>3?l(s,t,r):l(s,t))||r);return a>3&&r&&Object.defineProperty(s,t,r),r}([Yp(100)],e.prototype,"onWindowResize",null),e})();class Wp{constructor(s){this.injectionService=s,this.defaults={},this.components=new Map}getByType(s=this.type){return this.components.get(s)}create(s){return this.createByType(this.type,s)}createByType(s,t){t=this.assignDefaults(t);const i=this.injectComponent(s,t);return this.register(s,i),i}destroy(s){const t=this.components.get(s.componentType);if(t&&t.length){const i=t.indexOf(s);i>-1&&(t[i].destroy(),t.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(s){const t=this.components.get(s);if(t&&t.length){let i=t.length-1;for(;i>=0;)this.destroy(t[i--])}}injectComponent(s,t){return this.injectionService.appendComponent(s,t)}assignDefaults(s){const t={...this.defaults.inputs},i={...this.defaults.outputs};return!s.inputs&&!s.outputs&&(s={inputs:s}),t&&(s.inputs={...t,...s.inputs}),i&&(s.outputs={...i,...s.outputs}),s}register(s,t){this.components.has(s)||this.components.set(s,[]),this.components.get(s).push(t)}}let bo=(()=>{class e{constructor(t,i,a){this.applicationRef=t,this.componentFactoryResolver=i,this.injector=a}static setGlobalRootViewContainer(t){e.globalRootViewContainer=t}getRootViewContainer(){if(this._container)return this._container;if(e.globalRootViewContainer)return e.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(t){this._container=t}getComponentRootNode(t){return function Xp(e){return e.element}(t)?t.element.nativeElement:t.hostView&&t.hostView.rootNodes.length>0?t.hostView.rootNodes[0]:t.location.nativeElement}getRootViewContainerNode(t){return this.getComponentRootNode(t)}projectComponentBindings(t,i){if(i){if(void 0!==i.inputs){const a=Object.getOwnPropertyNames(i.inputs);for(const r of a)t.instance[r]=i.inputs[r]}if(void 0!==i.outputs){const a=Object.getOwnPropertyNames(i.outputs);for(const r of a)t.instance[r]=i.outputs[r]}}return t}appendComponent(t,i={},a){a||(a=this.getRootViewContainer());const r=this.getComponentRootNode(a),l=new ri(r,this.componentFactoryResolver,this.applicationRef,this.injector),c=new fe(t),u=l.attach(c);return this.projectComponentBindings(u,i),u}}return e.globalRootViewContainer=null,e.\u0275fac=function(t){return new(t||e)(n.LFG(n.z2F),n.LFG(n._Vd),n.LFG(n.zs3))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),_a=(()=>{class e extends Wp{constructor(t){super(t),this.type=Gp}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(bo))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var Le=function(e){return e.Right="right",e.Below="below",e}(Le||{}),Cn=function(e){return e.ScaleLegend="scaleLegend",e.Legend="legend",e}(Cn||{}),O=function(e){return e.Time="time",e.Linear="linear",e.Ordinal="ordinal",e.Quantile="quantile",e}(O||{});let Co=(()=>{class e{constructor(){this.horizontal=!1}ngOnChanges(t){const i=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${i})`}gradientString(t,i){i.push(1);const a=[];return t.reverse().forEach((r,l)=>{a.push(`${r} ${Math.round(100*i[l])}%`)}),a.join(", ")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[n.TTD],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(t,i){1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"span"),n._uU(3),n.qZA()(),n._UZ(4,"div",2),n.TgZ(5,"div",1)(6,"span"),n._uU(7),n.qZA()()()),2&t&&(n.Udp("height",i.horizontal?void 0:i.height,"px")("width",i.width,"px"),n.ekj("horizontal-legend",i.horizontal),n.xp6(3),n.Oqu(i.valueRange[1].toLocaleString()),n.xp6(1),n.Udp("background",i.gradient),n.xp6(3),n.Oqu(i.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}\n"],encapsulation:2,changeDetection:0}),e})();function je(e){return e instanceof Date?e.toLocaleDateString():e.toLocaleString()}function rs(e){return e.toLocaleString().replace(/[&'`"<>]/g,s=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[s]))}let wo=(()=>{class e{constructor(){this.isActive=!1,this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe,this.toggle=new n.vpe}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(t,i){1&t&&n.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(t,i){1&t&&(n.TgZ(0,"span",0),n.NdJ("click",function(){return i.select.emit(i.formattedLabel)}),n.TgZ(1,"span",1),n.NdJ("click",function(){return i.toggle.emit(i.formattedLabel)}),n.qZA(),n.TgZ(2,"span",2),n._uU(3),n.qZA()()),2&t&&(n.ekj("active",i.isActive),n.Q6J("title",i.formattedLabel),n.xp6(1),n.Udp("background-color",i.color),n.xp6(2),n.hij(" ",i.trimmedLabel," "))},encapsulation:2,changeDetection:0}),e})(),So=(()=>{class e{constructor(t){this.cd=t,this.horizontal=!1,this.labelClick=new n.vpe,this.labelActivate=new n.vpe,this.labelDeactivate=new n.vpe,this.legendEntries=[]}ngOnChanges(t){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const t=[];for(const i of this.data){const a=je(i);-1===t.findIndex(l=>l.label===a)&&t.push({label:i,formattedLabel:a,color:this.colors.getColor(i)})}return t}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.label===a.name)}activate(t){this.labelActivate.emit(t)}deactivate(t){this.labelDeactivate.emit(t)}trackBy(t,i){return i.label}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.sBO))},e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[n.TTD],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(t,i){1&t&&(n.TgZ(0,"div"),n.YNc(1,eu,3,1,"header",0),n.TgZ(2,"div",1)(3,"ul",2),n.YNc(4,iu,2,4,"li",3),n.qZA()()()),2&t&&(n.Udp("width",i.width,"px"),n.xp6(1),n.Q6J("ngIf",(null==i.title?null:i.title.length)>0),n.xp6(2),n.Udp("max-height",i.height-45,"px"),n.ekj("horizontal-legend",i.horizontal),n.xp6(1),n.Q6J("ngForOf",i.legendEntries)("ngForTrackBy",i.trackBy))},dependencies:[wo,v.O5,v.sg],styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),e})(),Fi=(()=>{class e{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new n.vpe,this.legendLabelActivate=new n.vpe,this.legendLabelDeactivate=new n.vpe,this.LegendPosition=Le,this.LegendType=Cn}ngOnChanges(t){this.update()}update(){let t=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===Le.Right)&&(t=this.legendType===Cn.ScaleLegend?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-t)/12),this.legendWidth=this.legendOptions&&this.legendOptions.position!==Le.Right?this.chartWidth:Math.floor(this.view[0]*t/12)}getLegendType(){return this.legendOptions.scaleType===O.Linear?Cn.ScaleLegend:Cn.Legend}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[n._Bn([_a]),n.TTD],ngContentSelectors:_o,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(t,i){1&t&&(n.F$t(),n.TgZ(0,"div",0),n.O4$(),n.TgZ(1,"svg",1),n.Hsn(2),n.qZA(),n.YNc(3,nu,1,5,"ngx-charts-scale-legend",2),n.YNc(4,su,1,7,"ngx-charts-legend",3),n.qZA()),2&t&&(n.Udp("width",i.view[0],"px")("height",i.view[1],"px"),n.xp6(1),n.uIk("width",i.chartWidth)("height",i.view[1]),n.xp6(2),n.Q6J("ngIf",i.showLegend&&i.legendType===i.LegendType.ScaleLegend),n.xp6(1),n.Q6J("ngIf",i.showLegend&&i.legendType===i.LegendType.Legend))},dependencies:[Co,So,v.O5],encapsulation:2,changeDetection:0}),e})(),Up=(()=>{class e{constructor(t,i){this.element=t,this.zone=i,this.visible=new n.vpe,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const t=()=>{if(!this.element)return;const{offsetHeight:i,offsetWidth:a}=this.element.nativeElement;i&&a?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t())})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.R0b))},e.\u0275dir=n.lG2({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),e})();function va(e){return"[object Date]"===toString.call(e)}function qp(e){return"number"==typeof e}let Ei=(()=>{class e{constructor(t,i,a,r){this.chartElement=t,this.zone=i,this.cd=a,this.platformId=r,this.scheme="cool",this.schemeType=O.Ordinal,this.animations=!0,this.select=new n.vpe}ngOnInit(){(0,v.PM)(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new Up(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(t){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const t=this.getContainerDims();t&&(this.width=t.width,this.height=t.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let t,i;const a=this.chartElement.nativeElement;if((0,v.NF)(this.platformId)&&null!==a.parentNode){const r=a.parentNode.getBoundingClientRect();t=r.width,i=r.height}return t&&i?{width:t,height:i}:null}formatDates(){for(let t=0;t<this.results.length;t++){const i=this.results[t];if(i.label=i.name,va(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let a=0;a<i.series.length;a++){const r=i.series[a];r.label=r.name,va(r.label)&&(r.label=r.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!(0,v.NF)(this.platformId))return;const i=(0,vi.R)(window,"resize").pipe((0,yi.b)(200)).subscribe(a=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}cloneData(t){const i=[];for(const a of t){const r={name:a.name};if(void 0!==a.value&&(r.value=a.value),void 0!==a.series){r.series=[];for(const l of a.series){const c=Object.assign({},l);r.series.push(c)}}void 0!==a.extra&&(r.extra=JSON.parse(JSON.stringify(a.extra))),i.push(r)}return i}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(n.sBO),n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[n.TTD],decls:1,vars:0,template:function(t,i){1&t&&n._UZ(0,"div")},encapsulation:2}),e})();var qt=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e}(qt||{});let ko=(()=>{class e{constructor(t){this.textHeight=25,this.margin=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case qt.Top:case qt.Bottom:this.y=this.offset,this.x=this.width/2;break;case qt.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case qt.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[n.TTD],attrs:au,decls:2,vars:6,template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"text"),n._uU(1),n.qZA()),2&t&&(n.uIk("stroke-width",i.strokeWidth)("x",i.x)("y",i.y)("text-anchor",i.textAnchor)("transform",i.transform),n.xp6(1),n.hij(" ",i.label," "))},encapsulation:2,changeDetection:0}),e})();function Qi(e,s=16){return"string"!=typeof e?"number"==typeof e?e+"":"":(e=e.trim()).length<=s?e:`${e.slice(0,s)}...`}function Ao(e,s){if(e.length>s){const t=[],i=Math.floor(e.length/s);for(let a=0;a<e.length;a++)a%i==0&&t.push(e[a]);e=t}return e}function Lo(e,s,t){const i=(e||"").toString();let a=[];if(/\s/.test(i))a=i.split(/\s+/).reduce((r,l)=>{const c=(r.pop()||"")+" ";return c.length+l.length>s?[...r,c.trim(),l.trim()]:[...r,c+l]},[]);else{let r=0;for(;r<i.length;)a.push(i.substring(r,r+s)),r+=s}return a.length>t&&(a=a.splice(0,t),a[a.length-1]+="..."),a}var De=function(e){return e.Start="start",e.Middle="middle",e.End="end",e}(De||{});let Do=(()=>{class e{constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new n.vpe,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=De.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!(0,v.NF)(this.platformId))return void this.dimensionsChanged.emit({height:this.approxHeight});const t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);t!==this.height&&(this.height=t,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){const t=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:t.tickFormat?t.tickFormat.apply(t,this.tickArguments):function(a){return"Date"===a.constructor.name?a.toLocaleDateString():a.toLocaleString()};const i=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(a){return this.scale(a)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",i&&0!==i?(this.textTransform=`rotate(${i})`,this.textAnchor=De.End,this.verticalSpacing=10):this.textAnchor=De.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(t){let i=0;this.maxTicksLength=0;for(let f=0;f<t.length;f++){const _=this.tickFormat(t[f]).toString();let b=_.length;this.trimTicks&&(b=this.tickTrim(_).length),b>this.maxTicksLength&&(this.maxTicksLength=b)}const l=7*Math.min(this.maxTicksLength,this.maxAllowedLength);let c=l;const u=Math.floor(this.width/t.length);for(;c>u&&i>-90;)i-=30,c=Math.cos(i*(Math.PI/180))*l;let g=14;if(this.isWrapTicksSupported){const f=this.ticks.reduce((b,D)=>D.length>b.length?D:b,"");g=14*(this.tickChunks(f).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(f)}const p=0!==i?Math.max(Math.abs(Math.sin(i*Math.PI/180))*this.maxTickLength*7,10):g;return this.approxHeight=Math.min(p,200),i}getTicks(){let t;const i=this.getMaxTicks(20),a=this.getMaxTicks(100);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[a]):(t=this.scale.domain(),t=Ao(t,i)),t}getMaxTicks(t){return Math.floor(this.width/t)}tickTransform(t){return"translate("+this.adjustedScale(t)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(t){return this.trimTicks?Qi(t,this.maxTickLength):t}getMaxPossibleLengthForTick(t){if(this.scale.bandwidth){const a=Math.floor(this.scale.bandwidth()/7),r=t.slice(0,a);return Math.max(r.length,this.maxTickLength)}return this.maxTickLength}tickChunks(t){if(t.toString().length>this.maxTickLength&&this.scale.bandwidth){let a=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(a<=1)return[this.tickTrim(t)];let r=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return(0,v.NF)(this.platformId)||(r=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),a=Math.min(a,5),Lo(t,r,a<1?1:a)}return[this.tickTrim(t)]}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(t,i){if(1&t&&n.Gf(vo,5),2&t){let a;n.iGM(a=n.CRH())&&(i.ticksElement=a.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[n.TTD],attrs:ru,decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"g",null,0),n.YNc(2,uu,2,2,"g",1),n.qZA(),n.YNc(3,pu,2,2,"g",2)),2&t&&(n.xp6(2),n.Q6J("ngForOf",i.ticks),n.xp6(1),n.Q6J("ngForOf",i.ticks))},dependencies:[v.sg,v.O5],encapsulation:2,changeDetection:0}),e})(),os=(()=>{class e{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=qt.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new n.vpe,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=qt}ngOnChanges(t){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:t}){const i=t+25+5;i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({height:t})},0))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(t,i){if(1&t&&n.Gf(Do,5),2&t){let a;n.iGM(a=n.CRH())&&(i.ticksComponent=a.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[n.TTD],attrs:fu,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,xu,1,13,"g",0),n.YNc(2,_u,1,5,"g",1),n.qZA()),2&t&&(n.uIk("class",i.xAxisClassName)("transform",i.transform),n.xp6(1),n.Q6J("ngIf",i.xScale),n.xp6(1),n.Q6J("ngIf",i.showLabel))},dependencies:[Do,ko,v.O5],encapsulation:2,changeDetection:0}),e})();function di(e,s,t,i,a,[r,l,c,u]){let g="";return g=`M${[e+a,s]}`,g+="h"+((t=0===(t=Math.floor(t))?1:t)-2*a),g+=l?`a${[a,a]} 0 0 1 ${[a,a]}`:`h${a}v${a}`,g+="v"+((i=0===(i=Math.floor(i))?1:i)-2*a),g+=u?`a${[a,a]} 0 0 1 ${[-a,a]}`:`v${a}h${-a}`,g+="h"+(2*a-t),g+=c?`a${[a,a]} 0 0 1 ${[-a,-a]}`:`h${-a}v${-a}`,g+="v"+(2*a-i),g+=r?`a${[a,a]} 0 0 1 ${[a,-a]}`:`v${-a}h${a}`,g+="z",g}let Mo=(()=>{class e{constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new n.vpe,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=De.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=qt}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!(0,v.NF)(this.platformId))return this.width=this.getApproximateAxisWidth(),void this.dimensionsChanged.emit({width:this.width});const t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);t!==this.width&&(this.width=t,this.dimensionsChanged.emit({width:t}),setTimeout(()=>this.updateDims()))}update(){const t=this.scale,i=this.orient===qt.Top||this.orient===qt.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:t.tickFormat?t.tickFormat.apply(t,this.tickArguments):function(a){return"Date"===a.constructor.name?a.toLocaleDateString():a.toLocaleString()},this.adjustedScale=t.bandwidth?a=>{const r=t(a)+.5*t.bandwidth();if(this.wrapTicks&&a.toString().length>this.maxTickLength){const l=this.tickChunks(a).length;if(1===l)return r;const g=.5*t.bandwidth()-8*l*.5;return t(a)+g}return r}:t,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case qt.Top:case qt.Bottom:this.transform=function(a){return"translate("+this.adjustedScale(a)+",0)"},this.textAnchor=De.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case qt.Left:this.transform=function(a){return"translate(0,"+this.adjustedScale(a)+")"},this.textAnchor=De.End,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;case qt.Right:this.transform=function(a){return"translate(0,"+this.adjustedScale(a)+")"},this.textAnchor=De.Start,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em"}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(t=>t.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(t=>t.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=di(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let t;const i=this.getMaxTicks(20),a=this.getMaxTicks(50);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[a]):(t=this.scale.domain(),t=Ao(t,i)),t}getMaxTicks(t){return Math.floor(this.height/t)}tickTransform(t){return`translate(${this.adjustedScale(t)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(t){return this.trimTicks?Qi(t,this.maxTickLength):t}getApproximateAxisWidth(){return 7*Math.max(...this.ticks.map(a=>this.tickTrim(this.tickFormat(a)).length))}tickChunks(t){if(t.toString().length>this.maxTickLength&&this.scale.bandwidth){const i=this.maxTickLength,a=Math.floor(this.scale.bandwidth()/15);return a<=1?[this.tickTrim(t)]:Lo(t,i,Math.min(a,5))}return[this.tickFormat(t)]}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(t,i){if(1&t&&n.Gf(vo,5),2&t){let a;n.iGM(a=n.CRH())&&(i.ticksElement=a.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[n.TTD],attrs:vu,decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"g",null,0),n.YNc(2,Au,2,2,"g",1),n.qZA(),n.YNc(3,Lu,1,2,"path",2),n.YNc(4,Eu,2,2,"g",3),n.YNc(5,Ou,2,1,"g",3)),2&t&&(n.xp6(2),n.Q6J("ngForOf",i.ticks),n.xp6(1),n.Q6J("ngIf",i.referenceLineLength>1&&i.refMax&&i.refMin&&i.showRefLines),n.xp6(1),n.Q6J("ngForOf",i.ticks),n.xp6(1),n.Q6J("ngForOf",i.referenceLines))},dependencies:[v.sg,v.O5],encapsulation:2,changeDetection:0}),e})(),ls=(()=>{class e{constructor(){this.showGridLines=!1,this.yOrient=qt.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new n.vpe,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(t){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===qt.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:t}){t!==this.labelOffset&&this.yOrient===qt.Right?(this.labelOffset=t+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0)):t!==this.labelOffset&&(this.labelOffset=t,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(t,i){if(1&t&&n.Gf(Mo,5),2&t){let a;n.iGM(a=n.CRH())&&(i.ticksComponent=a.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[n.TTD],attrs:$u,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,Bu,1,15,"g",0),n.YNc(2,zu,1,5,"g",1),n.qZA()),2&t&&(n.uIk("class",i.yAxisClassName)("transform",i.transform),n.xp6(1),n.Q6J("ngIf",i.yScale),n.xp6(1),n.Q6J("ngIf",i.showLabel))},dependencies:[Mo,ko,v.O5],encapsulation:2,changeDetection:0}),e})(),Fo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[v.ez]]}),e})();var Ii=function(e){return e.popover="popover",e.tooltip="tooltip",e}(Ii||{}),ji=function(e){return e[e.all="all"]="all",e[e.focus="focus"]="focus",e[e.mouseover="mouseover"]="mouseover",e}(ji||{});let wn=(()=>{class e{constructor(t,i,a){this.tooltipService=t,this.viewContainerRef=i,this.renderer=a,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=ct.Top,this.tooltipAlignment=ct.Center,this.tooltipType=Ii.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=ji.all,this.tooltipImmediateExit=!1,this.show=new n.vpe,this.hide=new n.vpe}get listensForFocus(){return this.tooltipShowEvent===ji.all||this.tooltipShowEvent===ji.focus}get listensForHover(){return this.tooltipShowEvent===ji.all||this.tooltipShowEvent===ji.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(t){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(t))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(t){if(this.component||this.tooltipDisabled)return;const i=t?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const a=this.createBoundOptions();this.component=this.tooltipService.create(a),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(t){this.mouseEnterContentEvent=this.renderer.listen(t,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(t,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{t.contains(i.target)||this.hideTooltip()}))}hideTooltip(t=!1){if(!this.component)return;const i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),t?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(_a),n.Y36(n.s_b),n.Y36(n.Qsj))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngx-tooltip",""]],hostBindings:function(t,i){1&t&&n.NdJ("focusin",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(r){return i.onMouseLeave(r.target)})("click",function(){return i.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),e})(),Eo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[bo,_a],imports:[[v.ez]]}),e})();const Io={};function He(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,Io[e]?He():(Io[e]=!0,e)}var Bt=function(e){return e.Vertical="vertical",e.Horizontal="horizontal",e}(Bt||{});let Sn=(()=>{class e{constructor(){this.orientation=Bt.Vertical}ngOnChanges(t){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===Bt.Horizontal?this.x2="100%":this.orientation===Bt.Vertical&&(this.y1="100%")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[n.TTD],attrs:Ru,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"linearGradient",0),n.YNc(1,Hu,1,5,"stop",1),n.qZA()),2&t&&(n.Q6J("id",i.name),n.uIk("x1",i.x1)("y1",i.y1)("x2",i.x2)("y2",i.y2),n.xp6(1),n.Q6J("ngForOf",i.stops))},dependencies:[v.sg],encapsulation:2,changeDetection:0}),e})(),Po=(()=>{class e{constructor(){this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe}onClick(){this.select.emit(this.data)}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}ngOnChanges(t){this.classNames=Array.isArray(this.classNames)?this.classNames.join(" "):"",this.classNames+="circle"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-circle",""]],hostBindings:function(t,i){1&t&&n.NdJ("click",function(){return i.onClick()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{cx:"cx",cy:"cy",r:"r",fill:"fill",stroke:"stroke",data:"data",classNames:"classNames",circleOpacity:"circleOpacity",pointerEvents:"pointerEvents"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[n.TTD],attrs:Nu,decls:1,vars:8,template:function(t,i){1&t&&(n.O4$(),n._UZ(0,"circle")),2&t&&n.uIk("cx",i.cx)("cy",i.cy)("r",i.r)("fill",i.fill)("stroke",i.stroke)("opacity",i.circleOpacity)("class",i.classNames)("pointer-events",i.pointerEvents)},encapsulation:2,changeDetection:0}),e})();var kn=function(e){return e.Standard="standard",e.Stacked="stacked",e}(kn||{});let cs=(()=>{class e{constructor(t){this.platformId=t,this.type=kn.Standard,this.tooltipDisabled=!1,this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe,this.barVisible=!1,this.barOrientation=Bt,this.placementTypes=ct,this.styleTypes=Ii,this.isSSR=!1}ngOnInit(){this.gradientId="grad"+He().toString(),this.gradientFill=`url(#${this.gradientId})`,(0,v.PM)(this.platformId)&&(this.isSSR=!0)}ngOnChanges(){this.update()}update(){this.circle=this.getActiveCircle()}getActiveCircle(){const t=this.data.series.findIndex(i=>{const a=i.name;return a&&this.visibleValue&&a.toString()===this.visibleValue.toString()&&void 0!==i.value});if(-1!==t)return this.mapDataPointToCircle(this.data.series[t],t)}mapDataPointToCircle(t,i){const a=this.data.name,r=t.value,l=t.name,c=je(l);let u;u=this.xScale(this.scaleType===O.Time?l:this.scaleType===O.Linear?Number(l):l);const g=this.yScale(this.type===kn.Standard?r:t.d1),f=this.yScale.range()[0]-g;let b;return b=this.colors.getColor(this.colors.scaleType===O.Linear?this.type===kn.Standard?r:t.d1:a),{classNames:[`circle-data-${i}`],value:r,label:l,data:Object.assign({},t,{series:a,value:r,name:l}),cx:u,cy:g,radius:5,height:f,tooltipLabel:c,color:b,opacity:1,seriesName:a,gradientStops:this.getGradientStops(b),min:t.min,max:t.max}}getTooltipText({tooltipLabel:t,value:i,seriesName:a,min:r,max:l}){return`\n      <span class="tooltip-label">${rs(a)} \u2022 ${rs(t)}</span>\n      <span class="tooltip-val">${i.toLocaleString()}${this.getTooltipMinMaxText(r,l)}</span>\n    `}getTooltipMinMaxText(t,i){if(void 0!==t||void 0!==i){let a=" (";return void 0!==t?(void 0===i&&(a+="\u2265"),a+=t.toLocaleString(),void 0!==i&&(a+=" - ")):void 0!==i&&(a+="\u2264"),void 0!==i&&(a+=i.toLocaleString()),a+=")",a}return""}getGradientStops(t){return[{offset:0,color:t,opacity:.2},{offset:100,color:t,opacity:1}]}onClick(t){this.select.emit(t)}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.name===a.name)}activateCircle(){this.barVisible=!0,this.activate.emit({name:this.data.name})}deactivateCircle(){this.barVisible=!1,this.circle.opacity=0,this.deactivate.emit({name:this.data.name})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-circle-series",""]],inputs:{data:"data",type:"type",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",visibleValue:"visibleValue",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[n.TTD],attrs:Zu,decls:1,vars:1,consts:[[4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["class","tooltip-bar",4,"ngIf"],["ngx-charts-circle","","ngx-tooltip","",1,"circle",3,"cx","cy","r","fill","pointerEvents","data","classNames","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate"],[1,"tooltip-bar"]],template:function(t,i){1&t&&n.YNc(0,Wu,6,22,"g",0),2&t&&n.Q6J("ngIf",i.circle)},dependencies:[Sn,Po,v.O5,wn],encapsulation:2,data:{animation:[(0,F.X$)("animationState",[(0,F.eR)(":enter",[(0,F.oB)({opacity:0}),(0,F.jt)(250,(0,F.oB)({opacity:1}))])])]},changeDetection:0}),e})(),$o=(()=>{class e{constructor(){this.endOpacity=1,this.cx=0,this.cy=0}get stops(){return this.stopsInput||this.stopsDefault}set stops(t){this.stopsInput=t}ngOnChanges(t){this.r="30%",("color"in t||"startOpacity"in t||"endOpacity"in t)&&(this.stopsDefault=[{offset:0,color:this.color,opacity:this.startOpacity},{offset:100,color:this.color,opacity:this.endOpacity}])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-svg-radial-gradient",""]],inputs:{color:"color",name:"name",startOpacity:"startOpacity",endOpacity:"endOpacity",cx:"cx",cy:"cy",stops:"stops"},features:[n.TTD],attrs:Ju,decls:2,vars:5,consts:[["gradientUnits","userSpaceOnUse",3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"radialGradient",0),n.YNc(1,Qu,1,5,"stop",1),n.qZA()),2&t&&(n.Q6J("id",i.name),n.uIk("cx",i.cx)("cy",i.cy)("r",i.r),n.xp6(1),n.Q6J("ngForOf",i.stops))},dependencies:[v.sg],encapsulation:2,changeDetection:0}),e})(),ya=(()=>{class e{constructor(t){this.opacity=1,this.startOpacity=.5,this.endOpacity=1,this.gradient=!1,this.animations=!0,this.select=new n.vpe,this.animationsLoaded=!1,this.hasGradient=!1,this.barOrientation=Bt,this.element=t.nativeElement}ngOnChanges(){this.update(),this.animationsLoaded||(this.loadAnimation(),this.animationsLoaded=!0)}update(){this.gradientId="grad"+He().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl()}loadAnimation(){this.areaPath=this.startingPath,setTimeout(this.updatePathEl.bind(this),100)}updatePathEl(){const t=te(this.element).select(".area");this.animations?t.transition().duration(750).attr("d",this.path):t.attr("d",this.path)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.startOpacity},{offset:100,color:this.fill,opacity:this.endOpacity}]}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-area",""]],inputs:{data:"data",path:"path",startingPath:"startingPath",fill:"fill",opacity:"opacity",startOpacity:"startOpacity",endOpacity:"endOpacity",gradient:"gradient",stops:"stops",animations:"animations"},outputs:{select:"select"},features:[n.TTD],attrs:ju,decls:2,vars:5,consts:[[4,"ngIf"],[1,"area"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(t,i){1&t&&(n.YNc(0,Ku,2,3,"defs",0),n.O4$(),n._UZ(1,"path",1)),2&t&&(n.Q6J("ngIf",i.gradient),n.xp6(1),n.Udp("opacity",i.opacity),n.uIk("d",i.areaPath)("fill",i.gradient?i.gradientFill:i.fill))},dependencies:[Sn,v.O5],encapsulation:2,changeDetection:0}),e})();function Bo(e,s,t,i){return t*(1-Math.pow(2,-10*e/i))*1024/1023+s}function Qp(e,s,t,i,a){const r=Number(e),l=Number(s),c=r>l,u=Math.max(0,t),g=Math.pow(10,u),p=1e3*Number(i);let f;function _(b){let D;const $=b-f;D=c?r-Bo($,0,r-l,p):Bo($,r,l-r,p),D=c?D<l?l:D:D>l?l:D,D=Math.round(D*g)/g;const w=$<p;if(a({value:D,progress:$,timestamp:b,finished:!w}),w)return requestAnimationFrame(E=>_(E))}return requestAnimationFrame(b=>(f=b,_(b)))}let ba,Ta=(()=>{class e{constructor(t,i){this.cd=t,this.countDuration=1,this.countPrefix="",this.countSuffix="",this.countChange=new n.vpe,this.countFinish=new n.vpe,this.value="",this._countDecimals=0,this._countTo=0,this._countFrom=0,this.nativeElement=i.nativeElement}set countDecimals(t){this._countDecimals=t}get countDecimals(){return this._countDecimals?this._countDecimals:function jp(e){const s=Number(e);return s%1!=0&&Math.abs(s)<=10?2:0}(this.countTo)}set countTo(t){this._countTo=parseFloat(t),this.start()}get countTo(){return this._countTo}set countFrom(t){this._countFrom=parseFloat(t),this.start()}get countFrom(){return this._countFrom}ngOnDestroy(){cancelAnimationFrame(this.animationReq)}start(){cancelAnimationFrame(this.animationReq);const t=this.valueFormatting||(a=>`${this.countPrefix}${a.toLocaleString()}${this.countSuffix}`);this.animationReq=Qp(this.countFrom,this.countTo,this.countDecimals,this.countDuration,({value:a,progress:r,finished:l})=>{this.value=t(a),this.cd.markForCheck(),l||this.countChange.emit({value:this.value,progress:r}),l&&this.countFinish.emit({value:this.value,progress:r})})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.sBO),n.Y36(n.SBq))},e.\u0275cmp=n.Xpm({type:e,selectors:[["","ngx-charts-count-up",""]],inputs:{countDuration:"countDuration",countPrefix:"countPrefix",countSuffix:"countSuffix",valueFormatting:"valueFormatting",countDecimals:"countDecimals",countTo:"countTo",countFrom:"countFrom"},outputs:{countChange:"countChange",countFinish:"countFinish"},attrs:tm,decls:1,vars:1,template:function(t,i){1&t&&n._uU(0),2&t&&n.hij(" ",i.value," ")},encapsulation:2}),e})();typeof window<"u"?ba=window:typeof global<"u"&&(ba=global);const zo=ba.MouseEvent;function Ca(e,s=!1,t=!0){if("function"==typeof zo)return new zo(e,{bubbles:s,cancelable:t});{const i=document.createEvent("MouseEvent");return i.initEvent(e,s,t),i}}let ds=(()=>{class e{constructor(t){this.platformId=t,this.anchorOpacity=0,this.anchorPos=-1,this.anchorValues=[],this.placementTypes=ct,this.styleTypes=Ii,this.showPercentage=!1,this.tooltipDisabled=!1,this.hover=new n.vpe}getValues(t){const i=[];for(const a of this.results){const r=a.series.find(c=>c.name.toString()===t.toString());let l=a.name;if(l instanceof Date&&(l=l.toLocaleDateString()),r){const c=r.name;let g,u=r.value;if(this.showPercentage&&(u=(r.d1-r.d0).toFixed(2)+"%"),this.colors.scaleType===O.Linear){let f=u;r.d1&&(f=r.d1),g=this.colors.getColor(f)}else g=this.colors.getColor(a.name);const p=Object.assign({},r,{value:u,name:c,series:l,min:r.min,max:r.max,color:g});i.push(p)}}return i}mouseMove(t){if(!(0,v.NF)(this.platformId))return;const i=t.pageX-t.target.getBoundingClientRect().left,a=this.findClosestPointIndex(i),r=this.xSet[a];if(this.anchorPos=this.xScale(r),this.anchorPos=Math.max(0,this.anchorPos),this.anchorPos=Math.min(this.dims.width,this.anchorPos),this.anchorValues=this.getValues(r),this.anchorPos!==this.lastAnchorPos){const l=Ca("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(l),this.anchorOpacity=.7,this.hover.emit({value:r}),this.showTooltip(),this.lastAnchorPos=this.anchorPos}}findClosestPointIndex(t){let i=0,a=this.xSet.length-1,r=Number.MAX_VALUE,l=0;for(;i<=a;){const c=(i+a)/2|0,u=this.xScale(this.xSet[c]),g=Math.abs(u-t);if(g<r&&(r=g,l=c),u<t)i=c+1;else{if(!(u>t)){r=0,l=c;break}a=c-1}}return l}showTooltip(){const t=Ca("mouseenter");this.tooltipAnchor.nativeElement.dispatchEvent(t)}hideTooltip(){const t=Ca("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(t),this.anchorOpacity=0,this.lastAnchorPos=-1}getToolTipText(t){let i="";return i+=void 0!==t.series?t.series:"???",i+=": ",void 0!==t.value&&(i+=t.value.toLocaleString()),(void 0!==t.min||void 0!==t.max)&&(i+=" (",void 0!==t.min?(void 0===t.max&&(i+="\u2265"),i+=t.min.toLocaleString(),void 0!==t.max&&(i+=" - ")):void 0!==t.max&&(i+="\u2264"),void 0!==t.max&&(i+=t.max.toLocaleString()),i+=")"),i}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-tooltip-area",""]],viewQuery:function(t,i){if(1&t&&n.Gf(em,5),2&t){let a;n.iGM(a=n.CRH())&&(i.tooltipAnchor=a.first)}},inputs:{dims:"dims",xSet:"xSet",xScale:"xScale",yScale:"yScale",results:"results",colors:"colors",showPercentage:"showPercentage",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{hover:"hover"},attrs:im,decls:6,vars:18,consts:[["y","0",1,"tooltip-area",2,"opacity","0","cursor","'auto'",3,"mousemove","mouseleave"],["defaultTooltipTemplate",""],["y","0","ngx-tooltip","",1,"tooltip-anchor",3,"tooltipDisabled","tooltipPlacement","tooltipType","tooltipSpacing","tooltipTemplate","tooltipContext","tooltipImmediateExit"],["tooltipAnchor",""],[1,"area-tooltip-container"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item"],[1,"tooltip-item-color"]],template:function(t,i){if(1&t&&(n.O4$(),n.TgZ(0,"g")(1,"rect",0),n.NdJ("mousemove",function(r){return i.mouseMove(r)})("mouseleave",function(){return i.hideTooltip()}),n.qZA(),n.YNc(2,sm,2,1,"ng-template",null,1,n.W1O),n._UZ(4,"rect",2,3),n.qZA()),2&t){const a=n.MAs(3);n.xp6(1),n.uIk("x",0)("width",i.dims.width)("height",i.dims.height),n.xp6(3),n.Udp("opacity",i.anchorOpacity)("pointer-events","none"),n.Q6J("@animationState",0!==i.anchorOpacity?"active":"inactive")("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Right)("tooltipType",i.styleTypes.tooltip)("tooltipSpacing",15)("tooltipTemplate",i.tooltipTemplate?i.tooltipTemplate:a)("tooltipContext",i.anchorValues)("tooltipImmediateExit",!0),n.uIk("x",i.anchorPos)("width",1)("height",i.dims.height)}},dependencies:[v.sg,wn],encapsulation:2,data:{animation:[(0,F.X$)("animationState",[(0,F.eR)("inactive => active",[(0,F.oB)({opacity:0}),(0,F.jt)(250,(0,F.oB)({opacity:.7}))]),(0,F.eR)("active => inactive",[(0,F.oB)({opacity:.7}),(0,F.jt)(250,(0,F.oB)({opacity:0}))])])]},changeDetection:0}),e})(),gs=(()=>{class e{constructor(t,i){this.cd=i,this.height=50,this.select=new n.vpe,this.onDomainChange=new n.vpe,this.initialized=!1,this.element=t.nativeElement}ngOnChanges(t){this.update(),this.initialized||(this.addBrush(),this.initialized=!0)}update(){this.dims=this.getDims(),this.height=this.dims.height;const t=this.view[1]-this.height;this.xDomain=this.getXDomain(),this.xScale=this.getXScale(),this.brush&&this.updateBrush(),this.transform=`translate(0 , ${t})`,this.filterId="filter"+He().toString(),this.filter=`url(#${this.filterId})`,this.cd.markForCheck()}getXDomain(){let t=[];for(const a of this.results)for(const r of a.series)t.includes(r.name)||t.push(r.name);let i=[];return this.scaleType===O.Time?i=[Math.min(...t),Math.max(...t)]:this.scaleType===O.Linear?(t=t.map(l=>Number(l)),i=[Math.min(...t),Math.max(...t)]):i=t,i}getXScale(){let t;return this.scaleType===O.Time?t=Qn().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===O.Linear?t=ye().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===O.Ordinal&&(t=es().range([0,this.dims.width]).padding(.1).domain(this.xDomain)),t}addBrush(){if(this.brush)return;const t=this.height,i=this.view[0];this.brush=function Zh(){return function Gs(e){var c,s=Rh,t=zh,i=Hh,a=!0,r=Ba("start","brush","end"),l=6;function u(w){var E=w.property("__brush",$).selectAll(".overlay").data([un("overlay")]);E.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Xe.overlay).merge(E).each(function(){var B=Ys(this).extent;te(this).attr("x",B[0][0]).attr("y",B[0][1]).attr("width",B[1][0]-B[0][0]).attr("height",B[1][1]-B[0][1])}),w.selectAll(".selection").data([un("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Xe.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var Z=w.selectAll(".handle").data(e.handles,function(B){return B.type});Z.exit().remove(),Z.enter().append("rect").attr("class",function(B){return"handle handle--"+B.type}).attr("cursor",function(B){return Xe[B.type]}),w.each(g).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",_).filter(i).on("touchstart.brush",_).on("touchmove.brush",b).on("touchend.brush touchcancel.brush",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(){var w=te(this),E=Ys(this).selection;E?(w.selectAll(".selection").style("display",null).attr("x",E[0][0]).attr("y",E[0][1]).attr("width",E[1][0]-E[0][0]).attr("height",E[1][1]-E[0][1]),w.selectAll(".handle").style("display",null).attr("x",function(Z){return"e"===Z.type[Z.type.length-1]?E[1][0]-l/2:E[0][0]-l/2}).attr("y",function(Z){return"s"===Z.type[0]?E[1][1]-l/2:E[0][1]-l/2}).attr("width",function(Z){return"n"===Z.type||"s"===Z.type?E[1][0]-E[0][0]+l:l}).attr("height",function(Z){return"e"===Z.type||"w"===Z.type?E[1][1]-E[0][1]+l:l})):w.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function p(w,E,Z){var B=w.__brush.emitter;return!B||Z&&B.clean?new f(w,E,Z):B}function f(w,E,Z){this.that=w,this.args=E,this.state=w.__brush,this.active=0,this.clean=Z}function _(w){if((!c||w.touches)&&t.apply(this,arguments)){var pt,U,V,Q,St,bt,xt,Ft,Ke,Kt,Ze,E=this,Z=w.target.__data__.type,B="selection"===(a&&w.metaKey?Z="overlay":Z)?pr:a&&w.altKey?Hi:Ri,Y=e===Gn?null:$h[Z],X=e===Yn?null:Bh[Z],G=Ys(E),ut=G.extent,mt=G.selection,Mt=ut[0][0],Tt=ut[0][1],zt=ut[1][0],It=ut[1][1],Lt=0,Dt=0,Ne=Y&&X&&a&&w.shiftKey,Nt=Array.from(w.touches||[w],tt=>{const Ot=tt.identifier;return(tt=tr(tt,E)).point0=tt.slice(),tt.identifier=Ot,tt});Bs(E);var Me=p(E,arguments,!0).beforestart();if("overlay"===Z){mt&&(Ke=!0);const tt=[Nt[0],Nt[1]||Nt[0]];G.selection=mt=[[pt=e===Gn?Mt:Qt(tt[0][0],tt[1][0]),V=e===Yn?Tt:Qt(tt[0][1],tt[1][1])],[St=e===Gn?zt:Jt(tt[0][0],tt[1][0]),xt=e===Yn?It:Jt(tt[0][1],tt[1][1])]],Nt.length>1&&Pt(w)}else pt=mt[0][0],V=mt[0][1],St=mt[1][0],xt=mt[1][1];U=pt,Q=V,bt=St,Ft=xt;var W=te(E).attr("pointer-events","none"),it=W.selectAll(".overlay").attr("cursor",Xe[Z]);if(w.touches)Me.moved=z,Me.ended=kt;else{var dt=te(w.view).on("mousemove.brush",z,!0).on("mouseup.brush",kt,!0);a&&dt.on("keydown.brush",function ee(tt){switch(tt.keyCode){case 16:Ne=Y&&X;break;case 18:B===Ri&&(Y&&(St=bt-Lt*Y,pt=U+Lt*Y),X&&(xt=Ft-Dt*X,V=Q+Dt*X),B=Hi,Pt(tt));break;case 32:(B===Ri||B===Hi)&&(Y<0?St=bt-Lt:Y>0&&(pt=U-Lt),X<0?xt=Ft-Dt:X>0&&(V=Q-Dt),B=Zs,it.attr("cursor",Xe.selection),Pt(tt));break;default:return}Ns(tt)},!0).on("keyup.brush",function ie(tt){switch(tt.keyCode){case 16:Ne&&(Kt=Ze=Ne=!1,Pt(tt));break;case 18:B===Hi&&(Y<0?St=bt:Y>0&&(pt=U),X<0?xt=Ft:X>0&&(V=Q),B=Ri,Pt(tt));break;case 32:B===Zs&&(tt.altKey?(Y&&(St=bt-Lt*Y,pt=U+Lt*Y),X&&(xt=Ft-Dt*X,V=Q+Dt*X),B=Hi):(Y<0?St=bt:Y>0&&(pt=U),X<0?xt=Ft:X>0&&(V=Q),B=Ri),it.attr("cursor",Xe[Z]),Pt(tt));break;default:return}Ns(tt)},!0),function Wl(e){var s=e.document.documentElement,t=te(e).on("dragstart.drag",ks,Ss);"onselectstart"in s?t.on("selectstart.drag",ks,Ss):(s.__noselect=s.style.MozUserSelect,s.style.MozUserSelect="none")}(w.view)}g.call(E),Me.start(w,B.name)}function z(tt){for(const Ot of tt.changedTouches||[tt])for(const An of Nt)An.identifier===Ot.identifier&&(An.cur=tr(Ot,E));if(Ne&&!Kt&&!Ze&&1===Nt.length){const Ot=Nt[0];fr(Ot.cur[0]-Ot[0])>fr(Ot.cur[1]-Ot[1])?Ze=!0:Kt=!0}for(const Ot of Nt)Ot.cur&&(Ot[0]=Ot.cur[0],Ot[1]=Ot.cur[1]);Ke=!0,Ns(tt),Pt(tt)}function Pt(tt){const Ot=Nt[0],An=Ot.point0;var ui;switch(Lt=Ot[0]-An[0],Dt=Ot[1]-An[1],B){case Zs:case pr:Y&&(Lt=Jt(Mt-pt,Qt(zt-St,Lt)),U=pt+Lt,bt=St+Lt),X&&(Dt=Jt(Tt-V,Qt(It-xt,Dt)),Q=V+Dt,Ft=xt+Dt);break;case Ri:Nt[1]?(Y&&(U=Jt(Mt,Qt(zt,Nt[0][0])),bt=Jt(Mt,Qt(zt,Nt[1][0])),Y=1),X&&(Q=Jt(Tt,Qt(It,Nt[0][1])),Ft=Jt(Tt,Qt(It,Nt[1][1])),X=1)):(Y<0?(Lt=Jt(Mt-pt,Qt(zt-pt,Lt)),U=pt+Lt,bt=St):Y>0&&(Lt=Jt(Mt-St,Qt(zt-St,Lt)),U=pt,bt=St+Lt),X<0?(Dt=Jt(Tt-V,Qt(It-V,Dt)),Q=V+Dt,Ft=xt):X>0&&(Dt=Jt(Tt-xt,Qt(It-xt,Dt)),Q=V,Ft=xt+Dt));break;case Hi:Y&&(U=Jt(Mt,Qt(zt,pt-Lt*Y)),bt=Jt(Mt,Qt(zt,St+Lt*Y))),X&&(Q=Jt(Tt,Qt(It,V-Dt*X)),Ft=Jt(Tt,Qt(It,xt+Dt*X)))}bt<U&&(Y*=-1,ui=pt,pt=St,St=ui,ui=U,U=bt,bt=ui,Z in _r&&it.attr("cursor",Xe[Z=_r[Z]])),Ft<Q&&(X*=-1,ui=V,V=xt,xt=ui,ui=Q,Q=Ft,Ft=ui,Z in vr&&it.attr("cursor",Xe[Z=vr[Z]])),G.selection&&(mt=G.selection),Kt&&(U=mt[0][0],bt=mt[1][0]),Ze&&(Q=mt[0][1],Ft=mt[1][1]),(mt[0][0]!==U||mt[0][1]!==Q||mt[1][0]!==bt||mt[1][1]!==Ft)&&(G.selection=[[U,Q],[bt,Ft]],g.call(E),Me.brush(tt,B.name))}function kt(tt){if(function Ph(e){e.stopImmediatePropagation()}(tt),tt.touches){if(tt.touches.length)return;c&&clearTimeout(c),c=setTimeout(function(){c=null},500)}else(function Xl(e,s){var t=e.document.documentElement,i=te(e).on("dragstart.drag",null);s&&(i.on("click.drag",ks,Ss),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in t?i.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)})(tt.view,Ke),dt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);W.attr("pointer-events","all"),it.attr("cursor",Xe.overlay),G.selection&&(mt=G.selection),function Nh(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}(mt)&&(G.selection=null,g.call(E)),Me.end(tt,B.name)}}function b(w){p(this,arguments).moved(w)}function D(w){p(this,arguments).ended(w)}function $(){var w=this.__brush||{selection:null};return w.extent=Vs(s.apply(this,arguments)),w.dim=e,w}return u.move=function(w,E,Z){w.tween?w.on("start.brush",function(B){p(this,arguments).beforestart().start(B)}).on("interrupt.brush end.brush",function(B){p(this,arguments).end(B)}).tween("brush",function(){var B=this,Y=B.__brush,X=p(B,arguments),G=Y.selection,ut=e.input("function"==typeof E?E.apply(this,arguments):E,Y.extent),mt=Si(G,ut);function Mt(pt){Y.selection=1===pt&&null===ut?null:mt(pt),g.call(B),X.brush()}return null!==G&&null!==ut?Mt:Mt(1)}):w.each(function(){var B=this,Y=arguments,X=B.__brush,G=e.input("function"==typeof E?E.apply(B,Y):E,X.extent),ut=p(B,Y).beforestart();Bs(B),X.selection=null===G?null:G,g.call(B),ut.start(Z).brush(Z).end(Z)})},u.clear=function(w,E){u.move(w,null,E)},f.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(w,E){return this.starting?(this.starting=!1,this.emit("start",w,E)):this.emit("brush",w),this},brush:function(w,E){return this.emit("brush",w,E),this},end:function(w,E){return 0==--this.active&&(delete this.state.emitter,this.emit("end",w,E)),this},emit:function(w,E,Z){var B=te(this.that).datum();r.call(w,this.that,new Ih(w,{sourceEvent:E,target:u,selection:e.output(this.state.selection),mode:Z,dispatch:r}),B)}},u.extent=function(w){return arguments.length?(s="function"==typeof w?w:Hs(Vs(w)),u):s},u.filter=function(w){return arguments.length?(t="function"==typeof w?w:Hs(!!w),u):t},u.touchable=function(w){return arguments.length?(i="function"==typeof w?w:Hs(!!w),u):i},u.handleSize=function(w){return arguments.length?(l=+w,u):l},u.keyModifiers=function(w){return arguments.length?(a=!!w,u):a},u.on=function(){var w=r.on.apply(r,arguments);return w===r?u:w},u}(Yn)}().extent([[0,0],[i,t]]).on("brush end",({selection:a})=>{const l=(a||this.xScale.range()).map(this.xScale.invert);this.onDomainChange.emit(l),this.cd.markForCheck()}),te(this.element).select(".brush").call(this.brush)}updateBrush(){this.brush&&(this.brush.extent([[0,0],[this.view[0],this.height]]),te(this.element).select(".brush").call(this.brush),te(this.element).select(".selection").attr("fill",void 0).attr("stroke",void 0).attr("fill-opacity",void 0),this.cd.markForCheck())}getDims(){return{width:this.view[0],height:this.height}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.sBO))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-timeline",""]],inputs:{view:"view",results:"results",scheme:"scheme",customColors:"customColors",legend:"legend",autoScale:"autoScale",scaleType:"scaleType",height:"height"},outputs:{select:"select",onDomainChange:"onDomainChange"},features:[n.TTD],attrs:am,ngContentSelectors:_o,decls:7,vars:4,consts:[[1,"timeline"],["in","SourceGraphic","type","matrix","values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"],[1,"embedded-chart"],["x","0","y","0",1,"brush-background"],[1,"brush"]],template:function(t,i){1&t&&(n.F$t(),n.O4$(),n.TgZ(0,"g",0)(1,"filter"),n._UZ(2,"feColorMatrix",1),n.qZA(),n.TgZ(3,"g",2),n.Hsn(4),n.qZA(),n._UZ(5,"rect",3)(6,"g",4),n.qZA()),2&t&&(n.uIk("transform",i.transform),n.xp6(1),n.uIk("id",i.filterId),n.xp6(4),n.uIk("width",i.view[0])("height",i.height))},styles:[".timeline .brush-background{fill:#0000000d}.timeline .brush .selection{fill:#0000001a;stroke-width:1px;stroke:#888}.timeline .brush .handle{fill-opacity:0}.timeline .embedded-chart{opacity:.6}\n"],encapsulation:2,changeDetection:0}),e})(),us=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[v.ez,Fo,Eo],v.ez,Fo,Eo]}),e})();function Ki({width:e,height:s,margins:t,showXAxis:i=!1,showYAxis:a=!1,xAxisHeight:r=0,yAxisWidth:l=0,showXLabel:c=!1,showYLabel:u=!1,showLegend:g=!1,legendType:p=O.Ordinal,legendPosition:f=Le.Right,columns:_=12}){let b=t[3],D=e,$=s-t[0]-t[2];return g&&f===Le.Right&&(_-=p===O.Ordinal?2:1),D=D*_/12,D=D-t[1]-t[3],i&&($-=5,$-=r,c&&($-=30)),a&&(D-=5,D-=l,b+=l,b+=10,u&&(D-=30,b+=30)),D=Math.max(0,D),$=Math.max(0,$),{width:Math.floor(D),height:Math.floor($),xOffset:Math.floor(b)}}const Ro=[{name:"vivid",selectable:!0,group:O.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:O.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:O.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:O.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:O.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:O.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:O.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:O.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:O.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:O.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:O.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:O.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:O.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:O.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:O.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class tn{constructor(s,t,i,a){"string"==typeof s&&(s=Ro.find(r=>r.name===s)),this.colorDomain=s.domain,this.scaleType=t,this.domain=i,this.customColors=a,this.scale=this.generateColorScheme(s,t,this.domain)}generateColorScheme(s,t,i){let a;switch("string"==typeof s&&(s=Ro.find(r=>r.name===s)),t){case O.Quantile:a=lo().range(s.domain).domain(i);break;case O.Ordinal:a=ha().range(s.domain).domain(i);break;case O.Linear:{const r=[...s.domain];1===r.length&&(r.push(r[0]),this.colorDomain=r);const l=eo(0,1,1/r.length);a=ye().range(r).domain(l)}}return a}getColor(s){if(null==s)throw new Error("Value can not be null");if(this.scaleType===O.Linear){const t=ye().domain(this.domain).range([0,1]);return this.scale(t(s))}{if("function"==typeof this.customColors)return this.customColors(s);const t=s.toString();let i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(a=>a.name.toLowerCase()===t.toLowerCase())),i?i.value:this.scale(s)}}getLinearGradientStops(s,t){void 0===t&&(t=this.domain[0]);const i=ye().domain(this.domain).range([0,1]),a=Xi().domain(this.colorDomain).range([0,1]),r=this.getColor(s),l=i(t),c=this.getColor(t),u=i(s);let g=1,p=l;const f=[];for(f.push({color:c,offset:l,originalOffset:l,opacity:1});p<u&&g<this.colorDomain.length;){const _=this.colorDomain[g],b=a(_);if(b<=l)g++;else{if(b.toFixed(4)>=(u-a.bandwidth()).toFixed(4))break;f.push({color:_,offset:b,opacity:1}),p=b,g++}}if(f[f.length-1].offset<100&&f.push({color:r,offset:u,opacity:1}),u===l)f[0].offset=0,f[1].offset=100;else if(100!==f[f.length-1].offset)for(const _ of f)_.offset=(_.offset-l)/(u-l)*100;return f}}function wa(e){const s=new Set;for(const t of e)for(const i of t.series)s.add(i.name);return Array.from(s)}function ms(e,s=!0){return s&&e.every(a=>a instanceof Date)?O.Time:e.every(i=>"number"==typeof i)?O.Linear:O.Ordinal}function Ho(e,s,t="asc"){return e.sort((i,a)=>"asc"===t?i[s]-a[s]:a[s]-i[s])}function No(e,s,t="asc",i){return e.sort((a,r)=>{const c=r[s],u=i.indexOf(a[s]),g=i.indexOf(c);return"asc"===t?u-g:g-u})}function Zo(e,s,t="asc"){return e.sort((i,a)=>{const r=i[s].getTime(),l=a[s].getTime();return"asc"===t?r>l?1:l>r?-1:0:r>l?-1:l>r?1:0})}let Vo=(()=>{class e{constructor(){this.baseValue="auto",this.stacked=!1,this.normalized=!1,this.animations=!0,this.select=new n.vpe}ngOnChanges(t){this.update()}update(){let t,i;this.updateGradient();const a=l=>this.xScale(l.name);this.stacked||this.normalized?(t=Ui().x(a).y0((l,c)=>this.yScale(l.d0)).y1((l,c)=>this.yScale(l.d1)),i=Ui().x(a).y0(l=>this.yScale.range()[0]).y1(l=>this.yScale.range()[0])):(t=Ui().x(a).y0(()=>"auto"===this.baseValue?this.yScale.range()[0]:this.yScale(this.baseValue)).y1(l=>this.yScale(l.value)),i=Ui().x(a).y0(l=>"auto"===this.baseValue?this.yScale.range()[0]:this.yScale(this.baseValue)).y1(l=>"auto"===this.baseValue?this.yScale.range()[0]:this.yScale(this.baseValue))),t.curve(this.curve),i.curve(this.curve),this.opacity=.8;let r=this.data.series;r=this.scaleType===O.Linear?Ho(r,"name"):this.scaleType===O.Time?Zo(r,"name"):No(r,"name","asc",this.xScale.domain()),this.path=t(r),this.startingPath=i(r)}updateGradient(){if(this.colors.scaleType===O.Linear)if(this.hasGradient=!0,this.stacked||this.normalized){const t=this.data.series.map(l=>l.d0),i=this.data.series.map(l=>l.d1),a=Math.max(...i),r=Math.min(...t);this.gradientStops=this.colors.getLinearGradientStops(a,r)}else{const t=this.data.series.map(a=>a.value),i=Math.max(...t);this.gradientStops=this.colors.getLinearGradientStops(i)}else this.hasGradient=!1,this.gradientStops=void 0}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.name===a.name)}isInactive(t){return!(!this.activeEntries||0===this.activeEntries.length)&&void 0===this.activeEntries.find(a=>t.name===a.name)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-area-series",""]],inputs:{data:"data",xScale:"xScale",yScale:"yScale",baseValue:"baseValue",colors:"colors",scaleType:"scaleType",stacked:"stacked",normalized:"normalized",gradient:"gradient",curve:"curve",activeEntries:"activeEntries",animations:"animations"},outputs:{select:"select"},features:[n.TTD],attrs:um,decls:1,vars:12,consts:[["ngx-charts-area","",1,"area-series",3,"data","path","fill","stops","startingPath","opacity","gradient","animations"]],template:function(t,i){1&t&&(n.O4$(),n._UZ(0,"g",0)),2&t&&(n.ekj("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),n.Q6J("data",i.data)("path",i.path)("fill",i.colors.getColor(i.data.name))("stops",i.gradientStops)("startingPath",i.startingPath)("opacity",i.opacity)("gradient",i.gradient||i.hasGradient)("animations",i.animations))},dependencies:[ya],encapsulation:2,changeDetection:0}),e})(),Kp=(()=>{class e extends Ei{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=Le.Right,this.xAxis=!1,this.yAxis=!1,this.baseValue="auto",this.autoScale=!1,this.timeline=!1,this.showGridLines=!0,this.curve=yn,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.wrapTicks=!1,this.activate=new n.vpe,this.deactivate=new n.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.trackBy=(t,i)=>i.name}update(){super.update(),this.dims=Ki({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset}, ${this.margin[0]})`,this.clipPathId="clip"+He().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let t=wa(this.results);this.scaleType=ms(t);let a,r,i=[];return this.scaleType===O.Linear&&(t=t.map(l=>Number(l))),(this.scaleType===O.Time||this.scaleType===O.Linear)&&(a=this.xScaleMin?this.xScaleMin:Math.min(...t),r=this.xScaleMax?this.xScaleMax:Math.max(...t)),this.scaleType===O.Time?(i=[new Date(a),new Date(r)],this.xSet=[...t].sort((l,c)=>{const u=l.getTime(),g=c.getTime();return u>g?1:g>u?-1:0})):this.scaleType===O.Linear?(i=[a,r],this.xSet=[...t].sort((l,c)=>l-c)):(i=t,this.xSet=t),i}getYDomain(){const t=[];for(const l of this.results)for(const c of l.series)t.includes(c.value)||t.push(c.value);const i=[...t];return this.autoScale||i.push(0),"auto"!==this.baseValue&&i.push(this.baseValue),[this.yScaleMin?this.yScaleMin:Math.min(...i),this.yScaleMax?this.yScaleMax:Math.max(...i)]}getSeriesDomain(){return this.results.map(t=>t.name)}getXScale(t,i){let a;return this.scaleType===O.Time?a=Qn():this.scaleType===O.Linear?a=ye():this.scaleType===O.Ordinal&&(a=es().padding(.1)),a.range([0,i]).domain(t),this.roundDomains?a.nice():a}getYScale(t,i){const a=ye().range([i,0]).domain(t);return this.roundDomains?a.nice():a}getScaleType(t){let i=!0,a=!0;for(const r of t)va(r)&&(i=!1),qp(r)&&(a=!1);return i?O.Time:a?O.Linear:O.Ordinal}updateDomain(t){this.filteredDomain=t,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(t){this.hoveredVertical=t.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(t,i){i&&(t.series=i.name),this.select.emit(t)}setColors(){let t;t=this.schemeType===O.Ordinal?this.seriesDomain:this.yDomain,this.colors=new tn(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){const t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return t.scaleType===O.Ordinal?(t.domain=this.seriesDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.yDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onActivate(t){this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value)>-1||(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t){const i=this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const t of this.activeEntries)this.deactivate.emit({value:t,entries:[]});this.activeEntries=[]}}return e.\u0275fac=function(){let s;return function(i){return(s||(s=n.n5z(e)))(i||e)}}(),e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-area-chart"]],contentQueries:function(t,i,a){if(1&t&&(n.Suo(a,Ji,5),n.Suo(a,xa,5)),2&t){let r;n.iGM(r=n.CRH())&&(i.tooltipTemplate=r.first),n.iGM(r=n.CRH())&&(i.seriesTooltipTemplate=r.first)}},hostBindings:function(t,i){1&t&&n.NdJ("mouseleave",function(){return i.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",baseValue:"baseValue",autoScale:"autoScale",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[n.qOj],decls:11,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"area-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-area-series","",3,"xScale","yScale","baseValue","colors","data","activeEntries","scaleType","gradient","curve","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate","hover"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"xScale","yScale","colors","activeEntries","data","scaleType","visibleValue","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange"],["ngx-charts-area-series","",3,"xScale","yScale","baseValue","colors","data","scaleType","gradient","curve","animations"]],template:function(t,i){1&t&&(n.TgZ(0,"ngx-charts-chart",0),n.NdJ("legendLabelClick",function(r){return i.onClick(r)})("legendLabelActivate",function(r){return i.onActivate(r)})("legendLabelDeactivate",function(r){return i.onDeactivate(r)}),n.O4$(),n.TgZ(1,"defs")(2,"clipPath"),n._UZ(3,"rect"),n.qZA()(),n.TgZ(4,"g",1),n.YNc(5,mm,1,11,"g",2),n.YNc(6,pm,1,10,"g",3),n.TgZ(7,"g"),n.YNc(8,fm,2,10,"g",4),n.YNc(9,_m,3,9,"g",5),n.qZA()(),n.YNc(10,ym,2,13,"g",6),n.qZA()),2&t&&(n.Q6J("view",n.WLB(17,Re,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),n.xp6(2),n.uIk("id",i.clipPathId),n.xp6(1),n.uIk("width",i.dims.width+10)("height",i.dims.height+10)("transform","translate(-5, -5)"),n.xp6(1),n.uIk("transform",i.transform),n.xp6(1),n.Q6J("ngIf",i.xAxis),n.xp6(1),n.Q6J("ngIf",i.yAxis),n.xp6(1),n.uIk("clip-path",i.clipPath),n.xp6(1),n.Q6J("ngForOf",i.results)("ngForTrackBy",i.trackBy),n.xp6(1),n.Q6J("ngIf",!i.tooltipDisabled),n.xp6(1),n.Q6J("ngIf",i.timeline&&"ordinal"!=i.scaleType))},dependencies:[Fi,os,ls,Vo,ds,cs,gs,v.O5,v.sg],styles:[".ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}\n"],encapsulation:2,changeDetection:0}),e})(),tf=(()=>{class e extends Ei{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=Le.Right,this.xAxis=!1,this.yAxis=!1,this.timeline=!1,this.showGridLines=!0,this.curve=yn,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.wrapTicks=!1,this.activate=new n.vpe,this.deactivate=new n.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.seriesType=kn}update(){super.update(),this.dims=Ki({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height);for(let t=0;t<this.xSet.length;t++){const i=this.xSet[t];let a=0;for(const r of this.results){let l=r.series.find(c=>{let u=c.name,g=i;return this.scaleType===O.Time&&(u=u.valueOf(),g=g.valueOf()),u===g});l?(l.d0=a,l.d1=a+l.value,a+=l.value):(l={name:i,value:0,d0:a,d1:a},r.series.push(l))}}this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+He().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let t=wa(this.results);this.scaleType=ms(t);let a,r,i=[];return this.scaleType===O.Linear&&(t=t.map(l=>Number(l))),(this.scaleType===O.Time||this.scaleType===O.Linear)&&(a=this.xScaleMin?this.xScaleMin:Math.min(...t),r=this.xScaleMax?this.xScaleMax:Math.max(...t)),this.scaleType===O.Time?(i=[new Date(a),new Date(r)],this.xSet=[...t].sort((l,c)=>{const u=l.getTime(),g=c.getTime();return u>g?1:g>u?-1:0})):this.scaleType===O.Linear?(i=[a,r],this.xSet=[...t].sort((l,c)=>l-c)):(i=t,this.xSet=t),i}getYDomain(){const t=[];for(let r=0;r<this.xSet.length;r++){const l=this.xSet[r];let c=0;for(const u of this.results){const g=u.series.find(p=>{let f=p.name,_=l;return this.scaleType===O.Time&&(f=f.valueOf(),_=_.valueOf()),f===_});g&&(c+=g.value)}t.push(c)}return[this.yScaleMin?this.yScaleMin:Math.min(0,...t),this.yScaleMax?this.yScaleMax:Math.max(...t)]}getSeriesDomain(){return this.results.map(t=>t.name)}getXScale(t,i){let a;return this.scaleType===O.Time?a=Qn():this.scaleType===O.Linear?a=ye():this.scaleType===O.Ordinal&&(a=es().padding(.1)),a.range([0,i]).domain(t),this.roundDomains?a.nice():a}getYScale(t,i){const a=ye().range([i,0]).domain(t);return this.roundDomains?a.nice():a}updateDomain(t){this.filteredDomain=t,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(t){this.hoveredVertical=t.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(t,i){i&&(t.series=i.name),this.select.emit(t)}trackBy(t,i){return`${i.name}`}setColors(){let t;t=this.schemeType===O.Ordinal?this.seriesDomain:this.yDomain,this.colors=new tn(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){const t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return t.scaleType===O.Ordinal?(t.domain=this.seriesDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.yDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onActivate(t){this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value)>-1||(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t){const i=this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const t of this.activeEntries)this.deactivate.emit({value:t,entries:[]});this.activeEntries=[]}}return e.\u0275fac=function(){let s;return function(i){return(s||(s=n.n5z(e)))(i||e)}}(),e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-area-chart-stacked"]],contentQueries:function(t,i,a){if(1&t&&(n.Suo(a,Ji,5),n.Suo(a,xa,5)),2&t){let r;n.iGM(r=n.CRH())&&(i.tooltipTemplate=r.first),n.iGM(r=n.CRH())&&(i.seriesTooltipTemplate=r.first)}},hostBindings:function(t,i){1&t&&n.NdJ("mouseleave",function(){return i.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[n.qOj],decls:11,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"area-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-area-series","",3,"xScale","yScale","colors","data","scaleType","gradient","activeEntries","stacked","curve","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate","hover"],["ngx-charts-circle-series","",3,"type","xScale","yScale","colors","activeEntries","data","scaleType","visibleValue","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange"],["ngx-charts-area-series","",3,"xScale","yScale","colors","data","scaleType","gradient","stacked","curve","animations"]],template:function(t,i){1&t&&(n.TgZ(0,"ngx-charts-chart",0),n.NdJ("legendLabelClick",function(r){return i.onClick(r)})("legendLabelActivate",function(r){return i.onActivate(r)})("legendLabelDeactivate",function(r){return i.onDeactivate(r)}),n.O4$(),n.TgZ(1,"defs")(2,"clipPath"),n._UZ(3,"rect"),n.qZA()(),n.TgZ(4,"g",1),n.YNc(5,Cm,1,11,"g",2),n.YNc(6,wm,1,10,"g",3),n.TgZ(7,"g"),n.YNc(8,Sm,2,10,"g",4),n.YNc(9,Am,3,10,"g",5),n.qZA()(),n.YNc(10,Dm,2,13,"g",6),n.qZA()),2&t&&(n.Q6J("view",n.WLB(17,Re,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),n.xp6(2),n.uIk("id",i.clipPathId),n.xp6(1),n.uIk("width",i.dims.width+10)("height",i.dims.height+10)("transform","translate(-5, -5)"),n.xp6(1),n.uIk("transform",i.transform),n.xp6(1),n.Q6J("ngIf",i.xAxis),n.xp6(1),n.Q6J("ngIf",i.yAxis),n.xp6(1),n.uIk("clip-path",i.clipPath),n.xp6(1),n.Q6J("ngForOf",i.results)("ngForTrackBy",i.trackBy),n.xp6(1),n.Q6J("ngIf",!i.tooltipDisabled),n.xp6(1),n.Q6J("ngIf",i.timeline&&"ordinal"!=i.scaleType))},dependencies:[Fi,os,ls,Vo,ds,cs,gs,v.O5,v.sg],styles:[bn],encapsulation:2,changeDetection:0}),e})(),ef=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[us]]}),e})(),nf=(()=>{class e{constructor(t){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe,this.hasGradient=!1,this.hideBar=!1,this.element=t.nativeElement}ngOnChanges(t){t.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+He().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){const t=te(this.element).select(".bar"),i=this.getPath();this.animations?t.transition().duration(500).attr("d",i):t.attr("d",i)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let i,t=this.getRadius();return this.roundEdges?this.orientation===Bt.Vertical?(t=Math.min(this.height,t),i=di(this.x,this.y+this.height,this.width,1,0,this.edges)):this.orientation===Bt.Horizontal&&(t=Math.min(this.width,t),i=di(this.x,this.y,1,this.height,0,this.edges)):this.orientation===Bt.Vertical?i=di(this.x,this.y+this.height,this.width,1,0,this.edges):this.orientation===Bt.Horizontal&&(i=di(this.x,this.y,1,this.height,0,this.edges)),i}getPath(){let i,t=this.getRadius();return this.roundEdges?this.orientation===Bt.Vertical?(t=Math.min(this.height,t),i=di(this.x,this.y,this.width,this.height,t,this.edges)):this.orientation===Bt.Horizontal&&(t=Math.min(this.width,t),i=di(this.x,this.y,this.width,this.height,t,this.edges)):i=di(this.x,this.y,this.width,this.height,t,this.edges),i}getRadius(){let t=0;return this.roundEdges&&this.height>5&&this.width>5&&(t=Math.floor(Math.min(5,this.height/2,this.width/2))),t}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let t=[!1,!1,!1,!1];return this.roundEdges&&(this.orientation===Bt.Vertical?t=this.data.value>0?[!0,!0,!1,!1]:[!1,!1,!0,!0]:this.orientation===Bt.Horizontal&&(t=this.data.value>0?[!1,!0,!1,!0]:[!0,!1,!0,!1])),t}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&(this.orientation===Bt.Vertical&&0===this.height||this.orientation===Bt.Horizontal&&0===this.width)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(t,i){1&t&&n.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",stops:"stops",animations:"animations",ariaLabel:"ariaLabel",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[n.TTD],attrs:Mm,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(t,i){1&t&&(n.YNc(0,Fm,2,3,"defs",0),n.O4$(),n.TgZ(1,"path",1),n.NdJ("click",function(){return i.select.emit(i.data)}),n.qZA()),2&t&&(n.Q6J("ngIf",i.hasGradient),n.xp6(1),n.ekj("active",i.isActive)("hidden",i.hideBar),n.uIk("d",i.path)("aria-label",i.ariaLabel)("fill",i.hasGradient?i.gradientFill:i.fill))},dependencies:[Sn,v.O5],encapsulation:2,changeDetection:0}),e})();var gi=function(e){return e.Standard="standard",e.Normalized="normalized",e.Stacked="stacked",e}(gi||{}),en=function(e){return e.positive="positive",e.negative="negative",e}(en||{});let sf=(()=>{class e{constructor(t){this.dimensionsChanged=new n.vpe,this.horizontalPadding=2,this.verticalPadding=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}getSize(){return{height:this.element.getBoundingClientRect().height,width:this.element.getBoundingClientRect().width,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.formatedValue=this.valueFormatting?this.valueFormatting(this.value):je(this.value),"horizontal"===this.orientation?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[n.TTD],attrs:Em,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"text",0),n._uU(1),n.qZA()),2&t&&(n.uIk("text-anchor",i.textAnchor)("transform",i.transform)("x",i.x)("y",i.y),n.xp6(1),n.hij(" ",i.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0}),e})(),af=(()=>{class e{constructor(t){this.platformId=t,this.type=gi.Standard,this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe,this.dataLabelHeightChanged=new n.vpe,this.barsForDataLabels=[],this.barOrientation=Bt,this.isSSR=!1}ngOnInit(){(0,v.PM)(this.platformId)&&(this.isSSR=!0)}ngOnChanges(t){this.update()}update(){let t;this.updateTooltipSettings(),this.series.length&&(t=this.xScale.bandwidth()),t=Math.round(t);const i=Math.max(this.yScale.domain()[0],0),a={[en.positive]:0,[en.negative]:0};let l,r=en.positive;this.type===gi.Normalized&&(l=this.series.map(c=>c.value).reduce((c,u)=>c+u,0)),this.bars=this.series.map((c,u)=>{let g=c.value;const p=this.getLabel(c),f=je(p);r=g>0?en.positive:en.negative;const b={value:g,label:p,roundEdges:this.roundEdges,data:c,width:t,formattedLabel:f,height:0,x:0,y:0};if(this.type===gi.Standard)b.height=Math.abs(this.yScale(g)-this.yScale(i)),b.x=this.xScale(p),b.y=this.yScale(g<0?0:g);else if(this.type===gi.Stacked){const $=a[r],w=$+g;a[r]+=g,b.height=this.yScale($)-this.yScale(w),b.x=0,b.y=this.yScale(w),b.offset0=$,b.offset1=w}else if(this.type===gi.Normalized){let $=a[r],w=$+g;a[r]+=g,l>0?($=100*$/l,w=100*w/l):($=0,w=0),b.height=this.yScale($)-this.yScale(w),b.x=0,b.y=this.yScale(w),b.offset0=$,b.offset1=w,g=(w-$).toFixed(2)+"%"}this.colors.scaleType===O.Ordinal?b.color=this.colors.getColor(p):this.type===gi.Standard?(b.color=this.colors.getColor(g),b.gradientStops=this.colors.getLinearGradientStops(g)):(b.color=this.colors.getColor(b.offset1),b.gradientStops=this.colors.getLinearGradientStops(b.offset1,b.offset0));let D=f;return b.ariaLabel=f+" "+g.toLocaleString(),null!=this.seriesName&&(D=`${this.seriesName} \u2022 ${f}`,b.data.series=this.seriesName,b.ariaLabel=this.seriesName+" "+b.ariaLabel),b.tooltipText=this.tooltipDisabled?void 0:`\n        <span class="tooltip-label">${rs(D)}</span>\n        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(g):g.toLocaleString()}</span>\n      `,b}),this.updateDataLabels()}updateDataLabels(){if(this.type===gi.Stacked){this.barsForDataLabels=[];const t={};t.series=this.seriesName;const i=this.series.map(r=>r.value).reduce((r,l)=>l>0?r+l:r,0),a=this.series.map(r=>r.value).reduce((r,l)=>l<0?r+l:r,0);t.total=i+a,t.x=0,t.y=0,t.height=this.yScale(t.total>0?i:a),t.width=this.xScale.bandwidth(),this.barsForDataLabels.push(t)}else this.barsForDataLabels=this.series.map(t=>{const i={};return i.series=this.seriesName??t.label,i.total=t.value,i.x=this.xScale(t.label),i.y=this.yScale(0),i.height=this.yScale(i.total)-this.yScale(0),i.width=this.xScale.bandwidth(),i})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:ct.Top,this.tooltipType=this.tooltipDisabled?void 0:Ii.tooltip}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.name===a.name&&t.value===a.value)}onClick(t){this.select.emit(t)}getLabel(t){return t.label?t.label:t.name}trackBy(t,i){return i.label}trackDataLabelBy(t,i){return t+"#"+i.series+"#"+i.total}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-series-vertical",""]],inputs:{dims:"dims",type:"type",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",animations:"animations",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"},features:[n.TTD],attrs:Hm,decls:3,vars:3,consts:[[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged"]],template:function(t,i){1&t&&(n.YNc(0,Zm,2,2,"g",0),n.YNc(1,Ym,2,2,"g",0),n.YNc(2,Wm,2,2,"g",0)),2&t&&(n.Q6J("ngIf",!i.isSSR),n.xp6(1),n.Q6J("ngIf",i.isSSR),n.xp6(1),n.Q6J("ngIf",i.showDataLabel))},dependencies:[nf,sf,v.O5,v.sg,wn],encapsulation:2,data:{animation:[(0,F.X$)("animationState",[(0,F.eR)(":leave",[(0,F.oB)({opacity:1}),(0,F.jt)(500,(0,F.oB)({opacity:0}))])])]},changeDetection:0}),e})(),rf=(()=>{class e extends Ei{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=Le.Right,this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.wrapTicks=!1,this.activate=new n.vpe,this.deactivate=new n.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=Ki({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`}getXScale(){this.xDomain=this.getXDomain();const t=this.xDomain.length/(this.dims.width/this.barPadding+1);return Xi().range([0,this.dims.width]).paddingInner(t).domain(this.xDomain)}getYScale(){this.yDomain=this.getYDomain();const t=ye().range([this.dims.height,0]).domain(this.yDomain);return this.roundDomains?t.nice():t}getXDomain(){return this.results.map(t=>t.label)}getYDomain(){const t=this.results.map(r=>r.value);let i=this.yScaleMin?Math.min(this.yScaleMin,...t):Math.min(0,...t);this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(i=Math.min(i,...this.yAxisTicks));let a=this.yScaleMax?Math.max(this.yScaleMax,...t):Math.max(0,...t);return this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(a=Math.max(a,...this.yAxisTicks)),[i,a]}onClick(t){this.select.emit(t)}setColors(){let t;t=this.schemeType===O.Ordinal?this.xDomain:this.yDomain,this.colors=new tn(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){const t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return t.scaleType===O.Ordinal?(t.domain=this.xDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.yDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onDataLabelMaxHeightChanged(t){t.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,t.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,t.size.height),t.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(t,i=!1){t=this.results.find(r=>i?r.label===t.name:r.name===t.name),!(this.activeEntries.findIndex(r=>r.name===t.name&&r.value===t.value&&r.series===t.series)>-1)&&(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,i=!1){t=this.results.find(r=>i?r.label===t.name:r.name===t.name);const a=this.activeEntries.findIndex(r=>r.name===t.name&&r.value===t.value&&r.series===t.series);this.activeEntries.splice(a,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}}return e.\u0275fac=function(){let s;return function(i){return(s||(s=n.n5z(e)))(i||e)}}(),e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-bar-vertical"]],contentQueries:function(t,i,a){if(1&t&&n.Suo(a,Ji,5),2&t){let r;n.iGM(r=n.CRH())&&(i.tooltipTemplate=r.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",tooltipDisabled:"tooltipDisabled",gradient:"gradient",showGridLines:"showGridLines",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",yScaleMax:"yScaleMax",yScaleMin:"yScaleMin",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[n.qOj],decls:5,vars:25,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-vertical","",3,"xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","activeEntries","roundEdges","animations","noBarWhenZero","activate","deactivate","select","dataLabelHeightChanged"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"]],template:function(t,i){1&t&&(n.TgZ(0,"ngx-charts-chart",0),n.NdJ("legendLabelClick",function(r){return i.onClick(r)})("legendLabelActivate",function(r){return i.onActivate(r,!0)})("legendLabelDeactivate",function(r){return i.onDeactivate(r,!0)}),n.O4$(),n.TgZ(1,"g",1),n.YNc(2,Xm,1,12,"g",2),n.YNc(3,Um,1,10,"g",3),n.TgZ(4,"g",4),n.NdJ("activate",function(r){return i.onActivate(r)})("deactivate",function(r){return i.onDeactivate(r)})("select",function(r){return i.onClick(r)})("dataLabelHeightChanged",function(r){return i.onDataLabelMaxHeightChanged(r)}),n.qZA()()()),2&t&&(n.Q6J("view",n.WLB(22,Re,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),n.xp6(1),n.uIk("transform",i.transform),n.xp6(1),n.Q6J("ngIf",i.xAxis),n.xp6(1),n.Q6J("ngIf",i.yAxis),n.xp6(1),n.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("series",i.results)("dims",i.dims)("gradient",i.gradient)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)("showDataLabel",i.showDataLabel)("dataLabelFormatting",i.dataLabelFormatting)("activeEntries",i.activeEntries)("roundEdges",i.roundEdges)("animations",i.animations)("noBarWhenZero",i.noBarWhenZero))},dependencies:[Fi,os,ls,af,v.O5],styles:[bn],encapsulation:2,changeDetection:0}),e})(),of=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[us]]}),e})();qg();let lf=(()=>{class e{constructor(t,i){this.element=t,this.platformId=i,this.fill="none",this.animations=!0,this.initialized=!1,this.isSSR=!1}ngOnInit(){(0,v.PM)(this.platformId)&&(this.isSSR=!0)}ngOnChanges(t){this.initialized?this.updatePathEl():(this.initialized=!0,this.initialPath=this.path)}updatePathEl(){const t=te(this.element.nativeElement).select(".line");this.animations?t.transition().duration(750).attr("d",this.path):t.attr("d",this.path)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-line",""]],inputs:{path:"path",stroke:"stroke",data:"data",fill:"fill",animations:"animations"},features:[n.TTD],attrs:rp,decls:2,vars:2,consts:[[4,"ngIf"],["stroke-width","1.5px",1,"line"]],template:function(t,i){1&t&&(n.YNc(0,op,2,4,"g",0),n.YNc(1,lp,2,3,"g",0)),2&t&&(n.Q6J("ngIf",!i.isSSR),n.xp6(1),n.Q6J("ngIf",i.isSSR))},dependencies:[v.O5],encapsulation:2,data:{animation:[(0,F.X$)("animationState",[(0,F.eR)(":enter",[(0,F.oB)({strokeDasharray:2e3,strokeDashoffset:2e3}),(0,F.jt)(1e3,(0,F.oB)({strokeDashoffset:0}))])])]},changeDetection:0}),e})(),cf=(()=>{class e{constructor(){this.animations=!0,this.barOrientation=Bt}ngOnChanges(t){this.update()}update(){this.updateGradients();const t=this.sortData(this.data.series),i=this.getLineGenerator();this.path=i(t)||"";const a=this.getAreaGenerator();if(this.areaPath=a(t)||"",this.hasRange){const r=this.getRangeGenerator();this.outerPath=r(t)||""}if(this.hasGradient){this.stroke=this.gradientUrl;const r=this.data.series.map(u=>u.value),l=Math.max(...r);l===Math.min(...r)&&(this.stroke=this.colors.getColor(l))}else this.stroke=this.colors.getColor(this.data.name)}getLineGenerator(){return mo().x(t=>{const i=t.name;let a;return a=this.xScale(this.scaleType===O.Time?i:this.scaleType===O.Linear?Number(i):i),a}).y(t=>this.yScale(t.value)).curve(this.curve)}getRangeGenerator(){return Ui().x(t=>{const i=t.name;let a;return a=this.xScale(this.scaleType===O.Time?i:this.scaleType===O.Linear?Number(i):i),a}).y0(t=>this.yScale("number"==typeof t.min?t.min:t.value)).y1(t=>this.yScale("number"==typeof t.max?t.max:t.value)).curve(this.curve)}getAreaGenerator(){return Ui().x(i=>this.xScale(i.name)).y0(()=>this.yScale.range()[0]).y1(i=>this.yScale(i.value)).curve(this.curve)}sortData(t){return this.scaleType===O.Linear?Ho(t,"name"):this.scaleType===O.Time?Zo(t,"name"):No(t,"name","asc",this.xScale.domain())}updateGradients(){if(this.colors.scaleType===O.Linear){this.hasGradient=!0,this.gradientId="grad"+He().toString(),this.gradientUrl=`url(#${this.gradientId})`;const t=this.data.series.map(r=>r.value),i=Math.max(...t),a=Math.min(...t);this.gradientStops=this.colors.getLinearGradientStops(i,a),this.areaGradientStops=this.colors.getLinearGradientStops(i)}else this.hasGradient=!1,this.gradientStops=void 0,this.areaGradientStops=void 0}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.name===a.name)}isInactive(t){return!(!this.activeEntries||0===this.activeEntries.length)&&void 0===this.activeEntries.find(a=>t.name===a.name)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-line-series",""]],inputs:{data:"data",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",curve:"curve",activeEntries:"activeEntries",rangeFillOpacity:"rangeFillOpacity",hasRange:"hasRange",animations:"animations"},features:[n.TTD],attrs:cp,decls:6,vars:22,consts:[["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops",4,"ngIf"],["ngx-charts-area","",1,"line-highlight",3,"data","path","fill","opacity","startOpacity","gradient","stops","animations"],["ngx-charts-line","",1,"line-series",3,"data","path","stroke","animations"],["ngx-charts-area","","class","line-series-range",3,"data","path","fill","active","inactive","opacity","animations",4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["ngx-charts-area","",1,"line-series-range",3,"data","path","fill","opacity","animations"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"g")(1,"defs"),n.YNc(2,hp,1,3,"g",0),n.qZA(),n._UZ(3,"g",1)(4,"g",2),n.YNc(5,dp,1,9,"g",3),n.qZA()),2&t&&(n.xp6(2),n.Q6J("ngIf",i.hasGradient),n.xp6(1),n.ekj("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),n.Q6J("data",i.data)("path",i.areaPath)("fill",i.hasGradient?i.gradientUrl:i.colors.getColor(i.data.name))("opacity",.25)("startOpacity",0)("gradient",!0)("stops",i.areaGradientStops)("animations",i.animations),n.xp6(1),n.ekj("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),n.Q6J("data",i.data)("path",i.path)("stroke",i.stroke)("animations",i.animations),n.xp6(1),n.Q6J("ngIf",i.hasRange))},dependencies:[Sn,ya,lf,v.O5],encapsulation:2,changeDetection:0}),e})(),hf=(()=>{class e extends Ei{constructor(){super(...arguments),this.legendTitle="Legend",this.legendPosition=Le.Right,this.showGridLines=!0,this.curve=yn,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.showRefLines=!1,this.showRefLabels=!0,this.wrapTicks=!1,this.activate=new n.vpe,this.deactivate=new n.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.isSSR=!1}ngOnInit(){(0,v.PM)(this.platformId)&&(this.isSSR=!0)}update(){super.update(),this.dims=Ki({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+He().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let t=wa(this.results);this.scaleType=ms(t);let a,r,i=[];return this.scaleType===O.Linear&&(t=t.map(l=>Number(l))),(this.scaleType===O.Time||this.scaleType===O.Linear)&&(a=this.xScaleMin?this.xScaleMin:Math.min(...t),r=this.xScaleMax?this.xScaleMax:Math.max(...t)),this.scaleType===O.Time?(i=[new Date(a),new Date(r)],this.xSet=[...t].sort((l,c)=>{const u=l.getTime(),g=c.getTime();return u>g?1:g>u?-1:0})):this.scaleType===O.Linear?(i=[a,r],this.xSet=[...t].sort((l,c)=>l-c)):(i=t,this.xSet=t),i}getYDomain(){const t=[];for(const l of this.results)for(const c of l.series)t.indexOf(c.value)<0&&t.push(c.value),void 0!==c.min&&(this.hasRange=!0,t.indexOf(c.min)<0&&t.push(c.min)),void 0!==c.max&&(this.hasRange=!0,t.indexOf(c.max)<0&&t.push(c.max));const i=[...t];return this.autoScale||i.push(0),[this.yScaleMin?this.yScaleMin:Math.min(...i),this.yScaleMax?this.yScaleMax:Math.max(...i)]}getSeriesDomain(){return this.results.map(t=>t.name)}getXScale(t,i){let a;return this.scaleType===O.Time?a=Qn().range([0,i]).domain(t):this.scaleType===O.Linear?(a=ye().range([0,i]).domain(t),this.roundDomains&&(a=a.nice())):this.scaleType===O.Ordinal&&(a=es().range([0,i]).padding(.1).domain(t)),a}getYScale(t,i){const a=ye().range([i,0]).domain(t);return this.roundDomains?a.nice():a}updateDomain(t){this.filteredDomain=t,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(t){this.hoveredVertical=t.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(t){this.select.emit(t)}trackBy(t,i){return`${i.name}`}setColors(){let t;t=this.schemeType===O.Ordinal?this.seriesDomain:this.yDomain,this.colors=new tn(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){const t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return t.scaleType===O.Ordinal?(t.domain=this.seriesDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.yDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onActivate(t){this.deactivateAll(),!(this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value)>-1)&&(this.activeEntries=[t],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t){const i=this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const t of this.activeEntries)this.deactivate.emit({value:t,entries:[]});this.activeEntries=[]}}return e.\u0275fac=function(){let s;return function(i){return(s||(s=n.n5z(e)))(i||e)}}(),e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-line-chart"]],contentQueries:function(t,i,a){if(1&t&&(n.Suo(a,Ji,5),n.Suo(a,xa,5)),2&t){let r;n.iGM(r=n.CRH())&&(i.tooltipTemplate=r.first),n.iGM(r=n.CRH())&&(i.seriesTooltipTemplate=r.first)}},hostBindings:function(t,i){1&t&&n.NdJ("mouseleave",function(){return i.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",autoScale:"autoScale",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",rangeFillOpacity:"rangeFillOpacity",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",showRefLines:"showRefLines",referenceLines:"referenceLines",showRefLabels:"showRefLabels",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[n.qOj],decls:12,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"line-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngIf"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","activeEntries","scaleType","curve","rangeFillOpacity","hasRange","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate","hover"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"xScale","yScale","colors","data","scaleType","visibleValue","activeEntries","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","scaleType","curve","hasRange","animations"]],template:function(t,i){1&t&&(n.TgZ(0,"ngx-charts-chart",0),n.NdJ("legendLabelClick",function(r){return i.onClick(r)})("legendLabelActivate",function(r){return i.onActivate(r)})("legendLabelDeactivate",function(r){return i.onDeactivate(r)}),n.O4$(),n.TgZ(1,"defs")(2,"clipPath"),n._UZ(3,"rect"),n.qZA()(),n.TgZ(4,"g",1),n.YNc(5,gp,1,11,"g",2),n.YNc(6,up,1,13,"g",3),n.TgZ(7,"g"),n.YNc(8,pp,2,2,"g",4),n.YNc(9,xp,2,2,"g",4),n.YNc(10,vp,3,9,"g",5),n.qZA()(),n.YNc(11,Tp,2,13,"g",6),n.qZA()),2&t&&(n.Q6J("view",n.WLB(17,Re,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),n.xp6(2),n.uIk("id",i.clipPathId),n.xp6(1),n.uIk("width",i.dims.width+10)("height",i.dims.height+10)("transform","translate(-5, -5)"),n.xp6(1),n.uIk("transform",i.transform),n.xp6(1),n.Q6J("ngIf",i.xAxis),n.xp6(1),n.Q6J("ngIf",i.yAxis),n.xp6(1),n.uIk("clip-path",i.clipPath),n.xp6(1),n.Q6J("ngIf",!i.isSSR),n.xp6(1),n.Q6J("ngIf",i.isSSR),n.xp6(1),n.Q6J("ngIf",!i.tooltipDisabled),n.xp6(1),n.Q6J("ngIf",i.timeline&&"ordinal"!=i.scaleType))},dependencies:[Fi,os,ls,cf,ds,cs,gs,v.O5,v.sg],styles:[bn],encapsulation:2,data:{animation:[(0,F.X$)("animationState",[(0,F.eR)(":leave",[(0,F.oB)({opacity:1}),(0,F.jt)(500,(0,F.oB)({opacity:0}))])])]},changeDetection:0}),e})(),df=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[us]]}),e})(),gf=(()=>{class e{constructor(t){this.platformId=t,this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.trimLabel=Qi}ngOnChanges(t){this.setTransforms(),this.update()}setTransforms(){if((0,v.PM)(this.platformId))this.styleTransform=`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=`translate(${this.textX},${this.textY})`,this.textTransition=this.animations?"transform 0.75s":null;else{const t=/(edge|msie|trident)/i.test(navigator.userAgent);this.styleTransform=t?null:`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=t?`translate(${this.textX},${this.textY})`:null,this.textTransition=t||!this.animations?null:"transform 0.75s"}}update(){let t=this.radius;this.explodeSlices&&(t=this.radius*this.value/this.max);const a=fa().innerRadius(t).outerRadius(t).centroid(this.data);let r=this.data.pos[1]/a[1];(0===this.data.pos[1]||0===a[1])&&(r=1),this.line=`M${a}L${[r*a[0],r*a[1]]}L${this.data.pos}`}get textX(){return this.data.pos[0]}get textY(){return this.data.pos[1]}textAnchor(){return this.midAngle(this.data)<Math.PI?De.Start:De.End}midAngle(t){return t.startAngle+(t.endAngle-t.startAngle)/2}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-pie-label",""]],inputs:{data:"data",radius:"radius",label:"label",color:"color",max:"max",value:"value",explodeSlices:"explodeSlices",animations:"animations",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize"},features:[n.TTD],attrs:bp,decls:6,vars:17,consts:[["dy",".35em",1,"pie-label"],["fill","none",1,"pie-label-line","line"]],template:function(t,i){1&t&&(n.TgZ(0,"title"),n._uU(1),n.qZA(),n.O4$(),n.TgZ(2,"g")(3,"text",0),n._uU(4),n.qZA()(),n._UZ(5,"path",1)),2&t&&(n.xp6(1),n.Oqu(i.label),n.xp6(1),n.Udp("transform",i.styleTransform)("transition",i.textTransition),n.uIk("transform",i.attrTransform),n.xp6(1),n.Udp("text-anchor",i.textAnchor())("shape-rendering","crispEdges"),n.ekj("animation",i.animations),n.xp6(1),n.hij(" ",i.labelTrim?i.trimLabel(i.label,i.labelTrimSize):i.label," "),n.xp6(1),n.ekj("animation",i.animations),n.uIk("d",i.line)("stroke",i.color))},encapsulation:2,changeDetection:0}),e})();Math;let Yo=(()=>{class e{constructor(t){this.startAngle=0,this.endAngle=2*Math.PI,this.cornerRadius=0,this.explodeSlices=!1,this.gradient=!1,this.animate=!0,this.pointerEvents=!0,this.isActive=!1,this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe,this.dblclick=new n.vpe,this.barOrientation=Bt,this.initialized=!1,this.element=t.nativeElement}ngOnChanges(t){this.update()}getGradient(){return this.gradient?this.gradientFill:this.fill}getPointerEvents(){return this.pointerEvents?"auto":"none"}update(){const t=this.calculateArc();this.startOpacity=.5,this.radialGradientId="linearGrad"+He().toString(),this.gradientFill=`url(#${this.radialGradientId})`,this.animate?this.initialized?this.updateAnimation():(this.loadAnimation(),this.initialized=!0):this.path=t.startAngle(this.startAngle).endAngle(this.endAngle)()}calculateArc(){let t=this.outerRadius;return this.explodeSlices&&0===this.innerRadius&&(t=this.outerRadius*this.value/this.max),fa().innerRadius(this.innerRadius).outerRadius(t).cornerRadius(this.cornerRadius)}loadAnimation(){const t=te(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();t.transition().attrTween("d",function(a){this._current=this._current||a;const r=Object.assign({},a);r.endAngle=r.startAngle;const l=Si(r,r);return this._current=l(0),function(c){return i(l(c))}}).transition().duration(750).attrTween("d",function(a){this._current=this._current||a;const r=Si(this._current,a);return this._current=r(0),function(l){return i(r(l))}})}updateAnimation(){const t=te(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();t.transition().duration(750).attrTween("d",function(a){this._current=this._current||a;const r=Si(this._current,a);return this._current=r(0),function(l){return i(r(l))}})}onClick(){clearTimeout(this._timeout),this._timeout=setTimeout(()=>this.select.emit(this.data),200)}onDblClick(t){t.preventDefault(),t.stopPropagation(),clearTimeout(this._timeout),this.dblclick.emit({data:this.data,nativeEvent:t})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-pie-arc",""]],inputs:{fill:"fill",startAngle:"startAngle",endAngle:"endAngle",innerRadius:"innerRadius",outerRadius:"outerRadius",cornerRadius:"cornerRadius",value:"value",max:"max",data:"data",explodeSlices:"explodeSlices",gradient:"gradient",animate:"animate",pointerEvents:"pointerEvents",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[n.TTD],attrs:Ap,decls:3,vars:7,consts:[[1,"arc-group"],[4,"ngIf"],[1,"arc",3,"click","dblclick","mouseenter","mouseleave"],["ngx-charts-svg-radial-gradient","",3,"color","name","startOpacity"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"g",0),n.YNc(1,Lp,2,3,"defs",1),n.TgZ(2,"path",2),n.NdJ("click",function(){return i.onClick()})("dblclick",function(r){return i.onDblClick(r)})("mouseenter",function(){return i.activate.emit(i.data)})("mouseleave",function(){return i.deactivate.emit(i.data)}),n.qZA()()),2&t&&(n.xp6(1),n.Q6J("ngIf",i.gradient),n.xp6(1),n.Udp("pointer-events",i.getPointerEvents()),n.ekj("active",i.isActive),n.uIk("d",i.path)("fill",i.getGradient()))},dependencies:[$o,v.O5],encapsulation:2,changeDetection:0}),e})(),uf=(()=>{class e{constructor(){this.series=[],this.innerRadius=60,this.outerRadius=80,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe,this.dblclick=new n.vpe,this.placementTypes=ct,this.styleTypes=Ii}ngOnChanges(t){this.update()}update(){const i=xo().value(a=>a.value).sort(null)(this.series);this.max=function Xg(e,s){let t;if(void 0===s)for(const i of e)null!=i&&(t<i||void 0===t&&i>=i)&&(t=i);else{let i=-1;for(let a of e)null!=(a=s(a,++i,e))&&(t<a||void 0===t&&a>=a)&&(t=a)}return t}(i,a=>a.value),this.data=this.calculateLabelPositions(i),this.tooltipText=this.tooltipText||this.defaultTooltipText}midAngle(t){return t.startAngle+(t.endAngle-t.startAngle)/2}outerArc(){return fa().innerRadius(1.5*this.outerRadius).outerRadius(1.5*this.outerRadius)}calculateLabelPositions(t){const r=t;r.forEach(l=>{l.pos=this.outerArc().centroid(l),l.pos[0]=1.5*this.outerRadius*(this.midAngle(l)<Math.PI?1:-1)});for(let l=0;l<r.length-1;l++){const c=r[l];if(this.labelVisible(c))for(let u=l+1;u<r.length;u++){const g=r[u];if(this.labelVisible(g)&&g.pos[0]*c.pos[0]>0){const p=10-Math.abs(g.pos[1]-c.pos[1]);p>0&&(g.pos[1]+=Math.sign(g.pos[0])*p)}}}return r}labelVisible(t){return this.showLabels&&t.endAngle-t.startAngle>Math.PI/30}getTooltipTitle(t){return this.tooltipTemplate?void 0:this.tooltipText(t)}labelText(t){return this.labelFormatting?this.labelFormatting(t.data.name):this.label(t)}label(t){return je(t.data.name)}defaultTooltipText(t){const i=this.label(t),a=je(t.data.value);return`\n      <span class="tooltip-label">${rs(i)}</span>\n      <span class="tooltip-val">${a}</span>\n    `}color(t){return this.colors.getColor(this.label(t))}trackBy(t,i){return i.data.name}onClick(t){this.select.emit(t)}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.name===a.name&&t.series===a.series)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-pie-series",""]],inputs:{colors:"colors",series:"series",dims:"dims",innerRadius:"innerRadius",outerRadius:"outerRadius",explodeSlices:"explodeSlices",showLabels:"showLabels",gradient:"gradient",activeEntries:"activeEntries",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",animations:"animations"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[n.TTD],attrs:Dp,decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations",4,"ngIf"],["ngx-charts-pie-arc","","ngx-tooltip","",3,"startAngle","endAngle","innerRadius","outerRadius","fill","value","gradient","data","max","explodeSlices","isActive","animate","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate","dblclick"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations"]],template:function(t,i){1&t&&n.YNc(0,Fp,3,19,"g",0),2&t&&n.Q6J("ngForOf",i.data)("ngForTrackBy",i.trackBy)},dependencies:[gf,Yo,v.sg,v.O5,wn],encapsulation:2,changeDetection:0}),e})(),mf=(()=>{class e extends Ei{constructor(){super(...arguments),this.labels=!1,this.legend=!1,this.legendTitle="Legend",this.legendPosition=Le.Right,this.explodeSlices=!1,this.doughnut=!1,this.arcWidth=.25,this.activeEntries=[],this.tooltipDisabled=!1,this.trimLabels=!0,this.maxLabelLength=10,this.dblclick=new n.vpe,this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe}update(){super.update(),this.labels&&this.hasNoOptionalMarginsSet()?this.margins=[30,80,30,80]:!this.labels&&this.hasNoOptionalMarginsSet()&&(this.margins=[20,20,20,20]),this.dims=Ki({width:this.width,height:this.height,margins:this.margins,showLegend:this.legend,legendPosition:this.legendPosition}),this.formatDates(),this.translation=`translate(${this.margins[3]+this.dims.width/2}, ${this.margins[0]+this.dims.height/2})`,this.outerRadius=Math.min(this.dims.width,this.dims.height),this.outerRadius/=this.labels?3:2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),this.data=this.results.sort((a,r)=>this.domain.indexOf(a.name)-this.domain.indexOf(r.name)),this.setColors(),this.legendOptions=this.getLegendOptions()}getDomain(){return this.results.map(t=>t.label)}onClick(t){this.select.emit(t)}setColors(){this.colors=new tn(this.scheme,O.Ordinal,this.domain,this.customColors)}getLegendOptions(){return{scaleType:O.Ordinal,domain:this.domain,colors:this.colors,title:this.legendTitle,position:this.legendPosition}}onActivate(t,i=!1){t=this.results.find(r=>i?r.label===t.name:r.name===t.name),!(this.activeEntries.findIndex(r=>r.name===t.name&&r.value===t.value&&r.series===t.series)>-1)&&(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,i=!1){t=this.results.find(r=>i?r.label===t.name:r.name===t.name);const a=this.activeEntries.findIndex(r=>r.name===t.name&&r.value===t.value&&r.series===t.series);this.activeEntries.splice(a,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}hasNoOptionalMarginsSet(){return!this.margins||this.margins.length<=0}}return e.\u0275fac=function(){let s;return function(i){return(s||(s=n.n5z(e)))(i||e)}}(),e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-pie-chart"]],contentQueries:function(t,i,a){if(1&t&&n.Suo(a,Ji,5),2&t){let r;n.iGM(r=n.CRH())&&(i.tooltipTemplate=r.first)}},inputs:{labels:"labels",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",explodeSlices:"explodeSlices",doughnut:"doughnut",arcWidth:"arcWidth",gradient:"gradient",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",margins:"margins"},outputs:{dblclick:"dblclick",select:"select",activate:"activate",deactivate:"deactivate"},features:[n.qOj],decls:3,vars:24,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"pie-chart","chart"],["ngx-charts-pie-series","",3,"colors","series","showLabels","labelFormatting","trimLabels","maxLabelLength","activeEntries","innerRadius","outerRadius","explodeSlices","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText","dblclick","select","activate","deactivate"]],template:function(t,i){1&t&&(n.TgZ(0,"ngx-charts-chart",0),n.NdJ("legendLabelActivate",function(r){return i.onActivate(r,!0)})("legendLabelDeactivate",function(r){return i.onDeactivate(r,!0)})("legendLabelClick",function(r){return i.onClick(r)}),n.O4$(),n.TgZ(1,"g",1)(2,"g",2),n.NdJ("dblclick",function(r){return i.dblclick.emit(r)})("select",function(r){return i.onClick(r)})("activate",function(r){return i.onActivate(r)})("deactivate",function(r){return i.onDeactivate(r)}),n.qZA()()()),2&t&&(n.Q6J("view",n.WLB(21,Re,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),n.xp6(1),n.uIk("transform",i.translation),n.xp6(1),n.Q6J("colors",i.colors)("series",i.data)("showLabels",i.labels)("labelFormatting",i.labelFormatting)("trimLabels",i.trimLabels)("maxLabelLength",i.maxLabelLength)("activeEntries",i.activeEntries)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("explodeSlices",i.explodeSlices)("gradient",i.gradient)("animations",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)("tooltipText",i.tooltipText))},dependencies:[Fi,uf],styles:[bn,".pie-label{font-size:11px}.pie-label.animation{animation:.75s ease-in fadeIn}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{animation:3s linear drawOut;transition:d .75s}@keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}\n"],encapsulation:2,changeDetection:0}),e})();let _f=(()=>{class e{constructor(t){this.innerRadius=70,this.outerRadius=80,this.animations=!0,this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe,this.element=t.nativeElement}ngOnChanges(t){this.update()}update(){this.layout=xo().value(t=>t.data.value).sort(null),this.arcs=this.getArcs()}getArcs(){return this.layout(this.data).map((t,i)=>{const a=t.data.data.name,r=t.data.data.other;0===i&&(t.startAngle=0);const l=this.colors(a);return{data:t.data.data,class:"arc arc"+i,fill:l,startAngle:r?0:t.startAngle,endAngle:t.endAngle,animate:this.animations&&!r,pointerEvents:!r}})}onClick(t){this.select.emit(this.data[0].data)}trackBy(t,i){return i.data.name}label(t){return t.data.name}color(t){return this.colors(this.label(t))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-pie-grid-series",""]],inputs:{colors:"colors",data:"data",innerRadius:"innerRadius",outerRadius:"outerRadius",animations:"animations"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[n.TTD],attrs:Ip,decls:2,vars:2,consts:[[1,"pie-grid-arcs"],["ngx-charts-pie-arc","",3,"startAngle","endAngle","innerRadius","outerRadius","fill","value","data","gradient","pointerEvents","animate","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-arc","",3,"startAngle","endAngle","innerRadius","outerRadius","fill","value","data","gradient","pointerEvents","animate","select","activate","deactivate"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"g",0),n.YNc(1,Pp,1,11,"g",1),n.qZA()),2&t&&(n.xp6(1),n.Q6J("ngForOf",i.arcs)("ngForTrackBy",i.trackBy))},dependencies:[Yo,v.sg],encapsulation:2,changeDetection:0}),e})(),vf=(()=>{class e extends Ei{constructor(){super(...arguments),this.tooltipDisabled=!1,this.label="Total",this.minWidth=150,this.activeEntries=[],this.activate=new n.vpe,this.deactivate=new n.vpe,this.margin=[20,20,20,20],this.placementTypes=ct,this.styleTypes=Ii}update(){super.update(),this.dims=Ki({width:this.width,height:this.height,margins:this.margin}),this.formatDates(),this.domain=this.getDomain(),this.data=function ff(e,s,t,i){const a=Xi(),r=Xi(),l=e.width,c=e.height,[u,g]=function pf(e,s,t){let i=1,a=s;const r=e.width;if(r>t)for(;r/a<t;)i+=1,a=Math.ceil(s/i);return[a,i]}(e,s.length,t),p=[],f=[];for(let w=0;w<g;w++)f.push(w);for(let w=0;w<u;w++)p.push(w);a.domain(p),r.domain(f),a.rangeRound([0,l],.1),r.rangeRound([0,c],.1);const _=[],b=i||function xf(e){return e.map(s=>s?s.value:0).reduce((s,t)=>s+t,0)}(s),D=a.bandwidth(),$=r.bandwidth();for(let w=0;w<s.length;w++)_[w]={},_[w].data={name:s[w]?s[w].name:"",value:s[w]?s[w].value:void 0,extra:s[w]?s[w].extra:void 0,label:s[w]?s[w].label:""},_[w].x=a(w%u),_[w].y=r(Math.floor(w/u)),_[w].width=D,_[w].height=$,_[w].data.percent=b>0?_[w].data.value/b:0,_[w].data.total=b;return _}(this.dims,this.results,this.minWidth,this.designatedTotal),this.transform=`translate(${this.margin[3]} , ${this.margin[0]})`,this.series=this.getSeries(),this.setColors(),this.tooltipText=this.tooltipText||this.defaultTooltipText}defaultTooltipText({data:t}){return`\n      <span class="tooltip-label">${Qi(je(t.name))}</span>\n      <span class="tooltip-val">${t.value.toLocaleString()}</span>\n    `}getDomain(){return this.results.map(t=>t.label)}getSeries(){const t=this.designatedTotal?this.designatedTotal:this.getTotal();return this.data.map(i=>{const l=i.data.name,c=je(l),u=i.data.value,g=function Ug(e,s){let t;if(void 0===s)for(const i of e)null!=i&&(t>i||void 0===t&&i>=i)&&(t=i);else{let i=-1;for(let a of e)null!=(a=s(a,++i,e))&&(t>a||void 0===t&&a>=a)&&(t=a)}return t}([i.width-10,i.height-20])/2-5;let f=0;return{transform:`translate(${i.x+(i.width-10)/2}, ${i.y+(i.height-20)/2})`,colors:()=>(f+=1,1===f?"rgba(100,100,100,0.3)":this.colorScale.getColor(c)),innerRadius:.9*g,outerRadius:g,name:l,label:Qi(c),total:u,value:u,percent:la(".1%")(i.data.percent),data:[i,{data:{other:!0,value:t-u,name:i.data.name}}]}})}getTotal(){return this.results.map(t=>t.value).reduce((t,i)=>t+i,0)}onClick(t){this.select.emit(t)}setColors(){this.colorScale=new tn(this.scheme,O.Ordinal,this.domain,this.customColors)}onActivate(t,i=!1){t=this.results.find(r=>i?r.label===t.name:r.name===t.name),!(this.activeEntries.findIndex(r=>r.name===t.name&&r.value===t.value&&r.series===t.series)>-1)&&(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,i=!1){t=this.results.find(r=>i?r.label===t.name:r.name===t.name);const a=this.activeEntries.findIndex(r=>r.name===t.name&&r.value===t.value&&r.series===t.series);this.activeEntries.splice(a,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}}return e.\u0275fac=function(){let s;return function(i){return(s||(s=n.n5z(e)))(i||e)}}(),e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-pie-grid"]],contentQueries:function(t,i,a){if(1&t&&n.Suo(a,Ji,5),2&t){let r;n.iGM(r=n.CRH())&&(i.tooltipTemplate=r.first)}},inputs:{designatedTotal:"designatedTotal",tooltipDisabled:"tooltipDisabled",tooltipText:"tooltipText",label:"label",minWidth:"minWidth",activeEntries:"activeEntries"},outputs:{activate:"activate",deactivate:"deactivate"},features:[n.qOj],decls:3,vars:8,consts:[[3,"view","showLegend","animations"],[1,"pie-grid","chart"],["class","pie-grid-item",4,"ngFor","ngForOf"],[1,"pie-grid-item"],["ngx-charts-pie-grid-series","","ngx-tooltip","",3,"colors","data","innerRadius","outerRadius","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate"],["class","label percent-label","dy","-0.5em","x","0","y","5","ngx-charts-count-up","","text-anchor","middle",3,"countTo","countSuffix",4,"ngIf"],["class","label percent-label","dy","-0.5em","x","0","y","5","text-anchor","middle",4,"ngIf"],["dy","0.5em","x","0","y","5","text-anchor","middle",1,"label"],["class","label","dy","1.23em","x","0","text-anchor","middle","ngx-charts-count-up","",3,"countTo","countPrefix",4,"ngIf"],["class","label","dy","1.23em","x","0","text-anchor","middle",4,"ngIf"],["dy","-0.5em","x","0","y","5","ngx-charts-count-up","","text-anchor","middle",1,"label","percent-label",3,"countTo","countSuffix"],["dy","-0.5em","x","0","y","5","text-anchor","middle",1,"label","percent-label"],["dy","1.23em","x","0","text-anchor","middle","ngx-charts-count-up","",1,"label",3,"countTo","countPrefix"],["dy","1.23em","x","0","text-anchor","middle",1,"label"]],template:function(t,i){1&t&&(n.TgZ(0,"ngx-charts-chart",0),n.O4$(),n.TgZ(1,"g",1),n.YNc(2,Hp,8,19,"g",2),n.qZA()()),2&t&&(n.Q6J("view",n.WLB(5,Re,i.width,i.height))("showLegend",!1)("animations",i.animations),n.xp6(1),n.uIk("transform",i.transform),n.xp6(1),n.Q6J("ngForOf",i.series))},dependencies:[Fi,_f,Ta,v.sg,wn,v.O5],styles:[bn,".pie-grid .arc1{opacity:.4}.pie-grid .percent-label{font-size:16px;font-weight:400}\n"],encapsulation:2,changeDetection:0}),e})(),yf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[us]]}),e})()},35024:(mi,Yt,R)=>{R.d(Yt,{IM:()=>F,IX:()=>I,sm:()=>ii});var n=R(96814),v=R(99468),et=R(78645),rt=R(83620),ht=R(59773),K=R(94664),o=R(99080);function N(y,h){if(1&y&&v._UZ(0,"div",3),2&y){const d=h.index,m=v.oxw();v.Q6J("ngStyle",m.gridRenderer.getGridColumnStyle(d))}}function H(y,h){if(1&y&&v._UZ(0,"div",4),2&y){const d=h.index,m=v.oxw();v.Q6J("ngStyle",m.gridRenderer.getGridRowStyle(d))}}const st=["*"];function q(y,h){if(1&y){const d=v.EpF();v.TgZ(0,"div",8),v.NdJ("mousedown",function(x){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(x))})("touchstart",function(x){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(x))}),v.qZA()}}function gt(y,h){if(1&y){const d=v.EpF();v.TgZ(0,"div",9),v.NdJ("mousedown",function(x){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(x))})("touchstart",function(x){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(x))}),v.qZA()}}function Ut(y,h){if(1&y){const d=v.EpF();v.TgZ(0,"div",10),v.NdJ("mousedown",function(x){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(x))})("touchstart",function(x){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(x))}),v.qZA()}}function $t(y,h){if(1&y){const d=v.EpF();v.TgZ(0,"div",11),v.NdJ("mousedown",function(x){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(x))})("touchstart",function(x){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(x))}),v.qZA()}}function re(y,h){if(1&y){const d=v.EpF();v.TgZ(0,"div",12),v.NdJ("mousedown",function(x){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(x))})("touchstart",function(x){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(x))}),v.qZA()}}function ge(y,h){if(1&y){const d=v.EpF();v.TgZ(0,"div",13),v.NdJ("mousedown",function(x){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(x))})("touchstart",function(x){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(x))}),v.qZA()}}function ue(y,h){if(1&y){const d=v.EpF();v.TgZ(0,"div",14),v.NdJ("mousedown",function(x){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(x))})("touchstart",function(x){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(x))}),v.qZA()}}function wt(y,h){if(1&y){const d=v.EpF();v.TgZ(0,"div",15),v.NdJ("mousedown",function(x){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(x))})("touchstart",function(x){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(x))}),v.qZA()}}var ot=function(y){return y.Fit="fit",y.ScrollVertical="scrollVertical",y.ScrollHorizontal="scrollHorizontal",y.Fixed="fixed",y.VerticalFixed="verticalFixed",y.HorizontalFixed="horizontalFixed",y}(ot||{}),Fe=function(y){return y.Always="always",y.OnDragAndResize="onDrag&Resize",y.None="none",y}(Fe||{}),ft=function(y){return y.None="none",y.CompactUp="compactUp",y.CompactLeft="compactLeft",y.CompactUpAndLeft="compactUp&Left",y.CompactLeftAndUp="compactLeft&Up",y.CompactRight="compactRight",y.CompactUpAndRight="compactUp&Right",y.CompactRightAndUp="compactRight&Up",y.CompactDown="compactDown",y.CompactDownAndLeft="compactDown&Left",y.CompactLeftAndDown="compactLeft&Down",y.CompactDownAndRight="compactDown&Right",y.CompactRightAndDown="compactRight&Down",y}(ft||{}),Et=function(y){return y.LTR="ltr",y.RTL="rtl",y}(Et||{});class Te{constructor(h){this.gridster=h}destroy(){this.gridster=null}checkCompact(){this.gridster.$options.compactType!==ft.None&&(this.gridster.$options.compactType===ft.CompactUp?this.checkCompactMovement("y",-1):this.gridster.$options.compactType===ft.CompactLeft?this.checkCompactMovement("x",-1):this.gridster.$options.compactType===ft.CompactUpAndLeft?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===ft.CompactLeftAndUp?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===ft.CompactRight?this.checkCompactMovement("x",1):this.gridster.$options.compactType===ft.CompactUpAndRight?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===ft.CompactRightAndUp?(this.checkCompactMovement("x",1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===ft.CompactDown?this.checkCompactMovement("y",1):this.gridster.$options.compactType===ft.CompactDownAndLeft?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===ft.CompactDownAndRight?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===ft.CompactLeftAndDown?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",1)):this.gridster.$options.compactType===ft.CompactRightAndDown&&(this.checkCompactMovement("x",1),this.checkCompactMovement("y",1)))}checkCompactItem(h){this.gridster.$options.compactType!==ft.None&&(this.gridster.$options.compactType===ft.CompactUp?this.moveTillCollision(h,"y",-1):this.gridster.$options.compactType===ft.CompactLeft?this.moveTillCollision(h,"x",-1):this.gridster.$options.compactType===ft.CompactUpAndLeft?(this.moveTillCollision(h,"y",-1),this.moveTillCollision(h,"x",-1)):this.gridster.$options.compactType===ft.CompactLeftAndUp?(this.moveTillCollision(h,"x",-1),this.moveTillCollision(h,"y",-1)):this.gridster.$options.compactType===ft.CompactUpAndRight?(this.moveTillCollision(h,"y",-1),this.moveTillCollision(h,"x",1)):this.gridster.$options.compactType===ft.CompactDown?this.moveTillCollision(h,"y",1):this.gridster.$options.compactType===ft.CompactDownAndLeft?(this.moveTillCollision(h,"y",1),this.moveTillCollision(h,"x",-1)):this.gridster.$options.compactType===ft.CompactLeftAndDown?(this.moveTillCollision(h,"x",-1),this.moveTillCollision(h,"y",1)):this.gridster.$options.compactType===ft.CompactDownAndRight?(this.moveTillCollision(h,"y",1),this.moveTillCollision(h,"x",1)):this.gridster.$options.compactType===ft.CompactRightAndDown&&(this.moveTillCollision(h,"x",1),this.moveTillCollision(h,"y",1)))}checkCompactMovement(h,d){let m=!1;this.gridster.grid.forEach(x=>{!1!==x.$item.compactEnabled&&this.moveTillCollision(x.$item,h,d)&&(m=!0,x.item[h]=x.$item[h],x.itemChanged())}),m&&this.checkCompact()}moveTillCollision(h,d,m){return h[d]+=m,this.gridster.checkCollision(h)?(h[d]-=m,!1):(this.moveTillCollision(h,d,m),!0)}}const pi={gridType:ot.Fit,scale:1,fixedColWidth:250,fixedRowHeight:250,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,setGridSize:!1,compactType:ft.None,mobileBreakpoint:640,useBodyForBreakpoint:!1,allowMultiLayer:!1,defaultLayerIndex:0,maxLayerIndex:2,baseLayerIndex:1,minCols:1,maxCols:100,minRows:1,maxRows:100,defaultItemCols:1,defaultItemRows:1,maxItemCols:50,maxItemRows:50,minItemCols:1,minItemRows:1,minItemArea:1,maxItemArea:2500,addEmptyRowsCount:0,rowHeightRatio:1,margin:10,outerMargin:!0,outerMarginTop:null,outerMarginRight:null,outerMarginBottom:null,outerMarginLeft:null,useTransformPositioning:!0,scrollSensitivity:10,scrollSpeed:20,initCallback:void 0,destroyCallback:void 0,gridSizeChangedCallback:void 0,itemChangeCallback:void 0,itemResizeCallback:void 0,itemInitCallback:void 0,itemRemovedCallback:void 0,itemValidateCallback:void 0,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,enableOccupiedCellDrop:!1,emptyCellClickCallback:void 0,emptyCellContextMenuCallback:void 0,emptyCellDropCallback:void 0,emptyCellDragCallback:void 0,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{delayStart:0,enabled:!1,ignoreContentClass:"gridster-item-content",ignoreContent:!1,dragHandleClass:"drag-handler",stop:void 0,start:void 0,dropOverItems:!1,dropOverItemsCallback:void 0},resizable:{delayStart:0,enabled:!1,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0},stop:void 0,start:void 0},swap:!0,swapWhileDragging:!1,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:Fe.OnDragAndResize,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1,disableScrollHorizontal:!1,disableScrollVertical:!1,enableBoundaryControl:!1,disableAutoPositionOnConflict:!1,dirType:Et.LTR};class At{static merge(h,d,m){for(const x in d)void 0!==d[x]&&m.hasOwnProperty(x)&&("object"==typeof d[x]?(x in h||(h[x]={}),h[x]=At.merge(h[x],d[x],m[x])):h[x]=d[x]);return h}static checkTouchEvent(h){void 0===h.clientX&&h.touches&&(h.touches&&h.touches.length?(h.clientX=h.touches[0].clientX,h.clientY=h.touches[0].clientY):h.changedTouches&&h.changedTouches.length&&(h.clientX=h.changedTouches[0].clientX,h.clientY=h.changedTouches[0].clientY))}static checkContentClassForEvent(h,d){if(h.$options.draggable.ignoreContent){if(!At.checkDragHandleClass(d.target,d.currentTarget,h.$options.draggable.dragHandleClass,h.$options.draggable.ignoreContentClass))return!0}else if(At.checkContentClass(d.target,d.currentTarget,h.$options.draggable.ignoreContentClass))return!0;return!1}static checkContentClassForEmptyCellClickEvent(h,d){return At.checkContentClass(d.target,d.currentTarget,h.$options.draggable.ignoreContentClass)||At.checkContentClass(d.target,d.currentTarget,h.$options.draggable.dragHandleClass)}static checkDragHandleClass(h,d,m,x){if(!h||h===d)return!1;if(h.hasAttribute("class")){const k=h.getAttribute("class").split(" ");if(k.indexOf(m)>-1)return!0;if(k.indexOf(x)>-1)return!1}return At.checkDragHandleClass(h.parentNode,d,m,x)}static checkContentClass(h,d,m){return!(!h||h===d)&&(!!(h.hasAttribute("class")&&h.getAttribute("class").split(" ").indexOf(m)>-1)||At.checkContentClass(h.parentNode,d,m))}static compareItems(h,d){return h.y>d.y?-1:h.y<d.y?1:h.x>d.x?-1:1}}class fi{constructor(h){this.gridster=h,this.emptyCellClickCb=d=>{if(!this.gridster||this.gridster.movingItem||At.checkContentClassForEmptyCellClickEvent(this.gridster,d))return;const m=this.getValidItemFromEvent(d);m&&(this.gridster.options.emptyCellClickCallback&&this.gridster.options.emptyCellClickCallback(d,m),this.gridster.cdRef.markForCheck())},this.emptyCellContextMenuCb=d=>{if(this.gridster.movingItem||At.checkContentClassForEmptyCellClickEvent(this.gridster,d))return;d.preventDefault(),d.stopPropagation();const m=this.getValidItemFromEvent(d);m&&(this.gridster.options.emptyCellContextMenuCallback&&this.gridster.options.emptyCellContextMenuCallback(d,m),this.gridster.cdRef.markForCheck())},this.emptyCellDragDrop=d=>{const m=this.getValidItemFromEvent(d);m&&(this.gridster.options.emptyCellDropCallback&&this.gridster.options.emptyCellDropCallback(d,m),this.gridster.cdRef.markForCheck())},this.emptyCellDragOver=d=>{d.preventDefault(),d.stopPropagation();const m=this.getValidItemFromEvent(d);m?(d.dataTransfer&&(d.dataTransfer.dropEffect="move"),this.gridster.movingItem=m):(d.dataTransfer&&(d.dataTransfer.dropEffect="none"),this.gridster.movingItem=null),this.gridster.previewStyle()},this.emptyCellMouseDown=d=>{if(At.checkContentClassForEmptyCellClickEvent(this.gridster,d))return;d.preventDefault(),d.stopPropagation();const m=this.getValidItemFromEvent(d);!m||1!==d.buttons&&!(d instanceof TouchEvent)||(this.initialItem=m,this.gridster.movingItem=m,this.gridster.previewStyle(),this.gridster.zone.runOutsideAngular(()=>{this.removeWindowMousemoveListenerFn=this.gridster.renderer.listen("window","mousemove",this.emptyCellMouseMove),this.removeWindowTouchmoveListenerFn=this.gridster.renderer.listen("window","touchmove",this.emptyCellMouseMove)}),this.removeWindowMouseupListenerFn=this.gridster.renderer.listen("window","mouseup",this.emptyCellMouseUp),this.removeWindowTouchendListenerFn=this.gridster.renderer.listen("window","touchend",this.emptyCellMouseUp))},this.emptyCellMouseMove=d=>{d.preventDefault(),d.stopPropagation();const m=this.getValidItemFromEvent(d,this.initialItem);m&&(this.gridster.movingItem=m,this.gridster.previewStyle())},this.emptyCellMouseUp=d=>{this.removeWindowMousemoveListenerFn(),this.removeWindowTouchmoveListenerFn(),this.removeWindowMouseupListenerFn(),this.removeWindowTouchendListenerFn();const m=this.getValidItemFromEvent(d,this.initialItem);m&&(this.gridster.movingItem=m),this.gridster.options.emptyCellDragCallback&&this.gridster.movingItem&&this.gridster.options.emptyCellDragCallback(d,this.gridster.movingItem),setTimeout(()=>{this.initialItem=null,this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())}),this.gridster.cdRef.markForCheck()}}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(),this.gridster.movingItem=null,this.initialItem=this.gridster=null,this.removeDocumentDragendListenerFn&&(this.removeDocumentDragendListenerFn(),this.removeDocumentDragendListenerFn=null)}updateOptions(){this.gridster.$options.enableEmptyCellClick&&!this.removeEmptyCellClickListenerFn&&this.gridster.options.emptyCellClickCallback?(this.removeEmptyCellClickListenerFn=this.gridster.renderer.listen(this.gridster.el,"click",this.emptyCellClickCb),this.removeEmptyCellTouchendListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchend",this.emptyCellClickCb)):!this.gridster.$options.enableEmptyCellClick&&this.removeEmptyCellClickListenerFn&&this.removeEmptyCellTouchendListenerFn&&(this.removeEmptyCellClickListenerFn(),this.removeEmptyCellTouchendListenerFn(),this.removeEmptyCellClickListenerFn=null,this.removeEmptyCellTouchendListenerFn=null),this.gridster.$options.enableEmptyCellContextMenu&&!this.removeEmptyCellContextMenuListenerFn&&this.gridster.options.emptyCellContextMenuCallback?this.removeEmptyCellContextMenuListenerFn=this.gridster.renderer.listen(this.gridster.el,"contextmenu",this.emptyCellContextMenuCb):!this.gridster.$options.enableEmptyCellContextMenu&&this.removeEmptyCellContextMenuListenerFn&&(this.removeEmptyCellContextMenuListenerFn(),this.removeEmptyCellContextMenuListenerFn=null),this.gridster.$options.enableEmptyCellDrop&&!this.removeEmptyCellDropListenerFn&&this.gridster.options.emptyCellDropCallback?(this.removeEmptyCellDropListenerFn=this.gridster.renderer.listen(this.gridster.el,"drop",this.emptyCellDragDrop),this.gridster.zone.runOutsideAngular(()=>{this.removeEmptyCellDragoverListenerFn=this.gridster.renderer.listen(this.gridster.el,"dragover",this.emptyCellDragOver)}),this.removeDocumentDragendListenerFn=this.gridster.renderer.listen("document","dragend",()=>{this.gridster.movingItem=null,this.gridster.previewStyle()})):!this.gridster.$options.enableEmptyCellDrop&&this.removeEmptyCellDropListenerFn&&this.removeEmptyCellDragoverListenerFn&&this.removeDocumentDragendListenerFn&&(this.removeEmptyCellDropListenerFn(),this.removeEmptyCellDragoverListenerFn(),this.removeDocumentDragendListenerFn(),this.removeEmptyCellDragoverListenerFn=null,this.removeEmptyCellDropListenerFn=null,this.removeDocumentDragendListenerFn=null),this.gridster.$options.enableEmptyCellDrag&&!this.removeEmptyCellMousedownListenerFn&&this.gridster.options.emptyCellDragCallback?(this.removeEmptyCellMousedownListenerFn=this.gridster.renderer.listen(this.gridster.el,"mousedown",this.emptyCellMouseDown),this.removeEmptyCellTouchstartListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchstart",this.emptyCellMouseDown)):!this.gridster.$options.enableEmptyCellDrag&&this.removeEmptyCellMousedownListenerFn&&this.removeEmptyCellTouchstartListenerFn&&(this.removeEmptyCellMousedownListenerFn(),this.removeEmptyCellTouchstartListenerFn(),this.removeEmptyCellMousedownListenerFn=null,this.removeEmptyCellTouchstartListenerFn=null)}getPixelsX(h,d){const m=this.gridster.options.scale;return m?(h.clientX-d.left)/m+this.gridster.el.scrollLeft-this.gridster.gridRenderer.getLeftMargin():h.clientX+this.gridster.el.scrollLeft-d.left-this.gridster.gridRenderer.getLeftMargin()}getPixelsY(h,d){const m=this.gridster.options.scale;return m?(h.clientY-d.top)/m+this.gridster.el.scrollTop-this.gridster.gridRenderer.getTopMargin():h.clientY+this.gridster.el.scrollTop-d.top-this.gridster.gridRenderer.getTopMargin()}getValidItemFromEvent(h,d){h.preventDefault(),h.stopPropagation(),At.checkTouchEvent(h);const m=this.gridster.el.getBoundingClientRect(),x=this.getPixelsX(h,m),k=this.getPixelsY(h,m),M={x:this.gridster.pixelsToPositionX(x,Math.floor,!0),y:this.gridster.pixelsToPositionY(k,Math.floor,!0),cols:this.gridster.$options.defaultItemCols,rows:this.gridster.$options.defaultItemRows};if(d&&(M.cols=Math.min(Math.abs(d.x-M.x)+1,this.gridster.$options.emptyCellDragMaxCols),M.rows=Math.min(Math.abs(d.y-M.y)+1,this.gridster.$options.emptyCellDragMaxRows),d.x<M.x?M.x=d.x:d.x-M.x>this.gridster.$options.emptyCellDragMaxCols-1&&(M.x=this.gridster.movingItem?this.gridster.movingItem.x:0),d.y<M.y?M.y=d.y:d.y-M.y>this.gridster.$options.emptyCellDragMaxRows-1&&(M.y=this.gridster.movingItem?this.gridster.movingItem.y:0)),this.gridster.$options.enableOccupiedCellDrop||!this.gridster.checkCollision(M))return M}}class ti{constructor(h){this.gridster=h,this.lastGridColumnStyles={},this.lastGridRowStyles={}}destroy(){this.gridster=null}updateItem(h,d,m){if(this.gridster.mobile)this.clearCellPosition(m,h),m.setStyle(h,"height",this.gridster.$options.keepFixedHeightInMobile?(d.rows-1)*this.gridster.$options.margin+d.rows*this.gridster.$options.fixedRowHeight+"px":d.rows*this.gridster.curWidth/d.cols+"px"),m.setStyle(h,"width",this.gridster.$options.keepFixedWidthInMobile?this.gridster.$options.fixedColWidth+"px":""),m.setStyle(h,"margin-bottom",this.gridster.$options.margin+"px"),m.setStyle(h,Et.LTR?"margin-right":"margin-left","");else{const x=Math.round(this.gridster.curColWidth*d.x),k=Math.round(this.gridster.curRowHeight*d.y),M=this.gridster.curColWidth*d.cols-this.gridster.$options.margin,J=this.gridster.curRowHeight*d.rows-this.gridster.$options.margin;this.setCellPosition(m,h,x,k),m.setStyle(h,"width",M+"px"),m.setStyle(h,"height",J+"px");let at=null,nt=null;this.gridster.$options.outerMargin&&(this.gridster.rows===d.rows+d.y&&(at=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginBottom+"px":this.gridster.$options.margin+"px"),this.gridster.columns===d.cols+d.x&&(nt=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginRight+"px":this.gridster.$options.margin+"px")),m.setStyle(h,"margin-bottom",at),m.setStyle(h,Et.LTR?"margin-right":"margin-left",nt)}}updateGridster(){let h="",d="",m="",x="";if(this.gridster.$options.gridType===ot.Fit)h=ot.Fit,d=ot.ScrollVertical,m=ot.ScrollHorizontal,x=ot.Fixed;else if(this.gridster.$options.gridType===ot.ScrollVertical)this.gridster.curRowHeight=this.gridster.curColWidth*this.gridster.$options.rowHeightRatio,h=ot.ScrollVertical,d=ot.Fit,m=ot.ScrollHorizontal,x=ot.Fixed;else if(this.gridster.$options.gridType===ot.ScrollHorizontal){const k=this.gridster.$options.rowHeightRatio;this.gridster.curColWidth=this.gridster.curRowHeight*(k>=1?k:k+1),h=ot.ScrollHorizontal,d=ot.Fit,m=ot.ScrollVertical,x=ot.Fixed}else this.gridster.$options.gridType===ot.Fixed?(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),h=ot.Fixed,d=ot.Fit,m=ot.ScrollVertical,x=ot.ScrollHorizontal):this.gridster.$options.gridType===ot.VerticalFixed?(this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),h=ot.ScrollVertical,d=ot.Fit,m=ot.ScrollHorizontal,x=ot.Fixed):this.gridster.$options.gridType===ot.HorizontalFixed&&(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),h=ot.ScrollHorizontal,d=ot.Fit,m=ot.ScrollVertical,x=ot.Fixed);this.gridster.mobile||this.gridster.$options.setGridSize&&this.gridster.$options.gridType!==ot.Fit?this.gridster.renderer.removeClass(this.gridster.el,h):this.gridster.renderer.addClass(this.gridster.el,h),this.gridster.renderer.removeClass(this.gridster.el,d),this.gridster.renderer.removeClass(this.gridster.el,m),this.gridster.renderer.removeClass(this.gridster.el,x)}getGridColumnStyle(h){const d={left:this.gridster.curColWidth*h,width:this.gridster.curColWidth-this.gridster.$options.margin,height:this.gridster.gridRows.length*this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};d.style={...this.getLeftPosition(d.left),width:d.width+"px",height:d.height+"px"};const m=this.lastGridColumnStyles[h];return m&&m.left===d.left&&m.width===d.width&&m.height===d.height?m.style:(this.lastGridColumnStyles[h]=d,d.style)}getGridRowStyle(h){const d={top:this.gridster.curRowHeight*h,width:this.gridster.gridColumns.length*this.gridster.curColWidth+this.gridster.$options.margin,height:this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};d.style={...this.getTopPosition(d.top),width:d.width+"px",height:d.height+"px"};const m=this.lastGridRowStyles[h];return m&&m.top===d.top&&m.width===d.width&&m.height===d.height?m.style:(this.lastGridRowStyles[h]=d,d.style)}getLeftPosition(h){const d=this.gridster.$options.dirType===Et.RTL?-h:h;return this.gridster.$options.useTransformPositioning?{transform:"translateX("+d+"px)"}:{left:this.getLeftMargin()+d+"px"}}getTopPosition(h){return this.gridster.$options.useTransformPositioning?{transform:"translateY("+h+"px)"}:{top:this.getTopMargin()+h+"px"}}clearCellPosition(h,d){this.gridster.$options.useTransformPositioning?h.setStyle(d,"transform",""):(h.setStyle(d,"top",""),h.setStyle(d,"left",""))}setCellPosition(h,d,m,x){const k=this.gridster.$options.dirType===Et.RTL?-m:m;this.gridster.$options.useTransformPositioning?h.setStyle(d,"transform","translate3d("+k+"px, "+x+"px, 0)"):(h.setStyle(d,"left",this.getLeftMargin()+k+"px"),h.setStyle(d,"top",this.getTopMargin()+x+"px"))}getLeftMargin(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginLeft?this.gridster.$options.outerMarginLeft:this.gridster.$options.margin:0}getTopMargin(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginTop?this.gridster.$options.outerMarginTop:this.gridster.$options.margin:0}}let be,oe,ei=(()=>{class y{constructor(d,m){this.renderer=m,this.el=d.nativeElement}ngOnInit(){this.sub=this.previewStyle$.subscribe(d=>this.previewStyle(d))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}previewStyle(d){d?(this.renderer.setStyle(this.el,"display","block"),this.gridRenderer.updateItem(this.el,d,this.renderer)):this.renderer.setStyle(this.el,"display","")}static#t=this.\u0275fac=function(m){return new(m||y)(v.Y36(v.SBq),v.Y36(v.Qsj))};static#e=this.\u0275cmp=v.Xpm({type:y,selectors:[["gridster-preview"]],inputs:{previewStyle$:"previewStyle$",gridRenderer:"gridRenderer"},standalone:!0,features:[v.jDz],decls:0,vars:0,template:function(m,x){},styles:["gridster-preview{position:absolute;display:none;background:rgba(0,0,0,.15)}\n"],encapsulation:2})}return y})(),ii=(()=>{class y{constructor(d,m,x,k){this.renderer=m,this.cdRef=x,this.zone=k,this.columns=0,this.rows=0,this.gridColumns=[],this.gridRows=[],this.previewStyle$=new v.vpe,this.calculateLayout$=new et.x,this.resize$=new et.x,this.destroy$=new et.x,this.optionsChanged=()=>{this.setOptions();let J,M=this.grid.length-1;for(;M>=0;M--)J=this.grid[M],J.updateOptions();this.calculateLayout()},this.onResize=()=>{this.el.clientWidth&&(this.options.setGridSize&&(this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.setGridSize(),this.calculateLayout())},this.getNextPossiblePosition=(M,J={})=>{-1===M.cols&&(M.cols=this.$options.defaultItemCols),-1===M.rows&&(M.rows=this.$options.defaultItemRows),this.setGridDimensions();let nt,at=J.y||0;for(;at<this.rows;at++)for(M.y=at,nt=J.x||0;nt<this.columns;nt++)if(M.x=nt,!this.checkCollision(M))return!0;const Ct=this.$options.maxRows>=this.rows+M.rows;return this.rows<=this.columns&&Ct||!(this.$options.maxCols>=this.columns+M.cols)?!!Ct&&(M.y=this.rows,M.x=0,!0):(M.x=this.columns,M.y=0,!0)},this.getFirstPossiblePosition=M=>{const J=Object.assign({},M);return this.getNextPossiblePosition(J),J},this.getLastPossiblePosition=M=>{let J={y:0,x:0};J=this.grid.reduce((nt,Ct)=>{const Ht={y:Ct.$item.y+Ct.$item.rows-1,x:Ct.$item.x+Ct.$item.cols-1};return 1===At.compareItems(nt,Ht)?Ht:nt},J);const at=Object.assign({},M);return this.getNextPossiblePosition(at,J),at},this.el=d.nativeElement,this.$options=JSON.parse(JSON.stringify(pi)),this.mobile=!1,this.curWidth=0,this.curHeight=0,this.grid=[],this.curColWidth=0,this.curRowHeight=0,this.dragInProgress=!1,this.emptyCell=new fi(this),this.compact=new Te(this),this.gridRenderer=new ti(this)}static checkCollisionTwoItemsForSwaping(d,m){return d.x+(1===d.cols?0:1)<m.x+m.cols&&d.x+d.cols>m.x+(1===m.cols?0:1)&&d.y+(1===d.rows?0:1)<m.y+m.rows&&d.y+d.rows>m.y+(1===m.rows?0:1)}checkCollisionTwoItems(d,m){if(!(d.x<m.x+m.cols&&d.x+d.cols>m.x&&d.y<m.y+m.rows&&d.y+d.rows>m.y))return!1;if(!this.$options.allowMultiLayer)return!0;const k=this.$options.defaultLayerIndex;return(void 0===d.layerIndex?k:d.layerIndex)===(void 0===m.layerIndex?k:m.layerIndex)}ngOnInit(){this.options.initCallback&&this.options.initCallback(this),this.calculateLayout$.pipe((0,rt.b)(0),(0,ht.R)(this.destroy$)).subscribe(()=>this.calculateLayout()),this.resize$.pipe((0,K.w)(()=>(0,o.H)(100)),(0,ht.R)(this.destroy$)).subscribe(()=>this.resize())}ngOnChanges(d){d.options&&(this.setOptions(),this.options.api={optionsChanged:this.optionsChanged,resize:this.onResize,getNextPossiblePosition:this.getNextPossiblePosition,getFirstPossiblePosition:this.getFirstPossiblePosition,getLastPossiblePosition:this.getLastPossiblePosition,getItemComponent:m=>this.getItemComponent(m)},this.columns=this.$options.minCols,this.rows=this.$options.minRows+this.$options.addEmptyRowsCount,this.setGridSize(),this.calculateLayout())}resize(){let d,m;"fit"!==this.$options.gridType||this.mobile?(m=this.el.clientWidth,d=this.el.clientHeight):(m=this.el.offsetWidth,d=this.el.offsetHeight),(m!==this.curWidth||d!==this.curHeight)&&this.checkIfToResize()&&this.onResize()}setOptions(){this.$options=At.merge(this.$options,this.options,this.$options),this.$options.disableWindowResize||this.windowResize?this.$options.disableWindowResize&&this.windowResize&&(this.windowResize(),this.windowResize=null):this.windowResize=this.renderer.listen("window","resize",this.onResize),this.emptyCell.updateOptions()}ngOnDestroy(){this.destroy$.next(),this.previewStyle$.complete(),this.windowResize&&this.windowResize(),this.options&&this.options.destroyCallback&&this.options.destroyCallback(this),this.options&&this.options.api&&(this.options.api.resize=void 0,this.options.api.optionsChanged=void 0,this.options.api.getNextPossiblePosition=void 0,this.options.api=void 0),this.emptyCell.destroy(),this.emptyCell=null,this.compact.destroy(),this.compact=null}checkIfToResize(){const d=this.el.clientWidth,m=this.el.offsetWidth,x=this.el.scrollWidth,k=this.el.clientHeight,M=this.el.offsetHeight,J=this.el.scrollHeight;return!(d<m&&J>M&&J-M<m-d||k<M&&x>m&&x-m<M-k)}checkIfMobile(){return this.$options.useBodyForBreakpoint?this.$options.mobileBreakpoint>document.body.clientWidth:this.$options.mobileBreakpoint>this.curWidth}setGridSize(){const d=this.el;let m,x;this.$options.setGridSize||this.$options.gridType===ot.Fit&&!this.mobile?(m=d.offsetWidth,x=d.offsetHeight):(m=d.clientWidth,x=d.clientHeight),this.curWidth=m,this.curHeight=x}setGridDimensions(){this.setGridSize(),!this.mobile&&this.checkIfMobile()?(this.mobile=!this.mobile,this.renderer.addClass(this.el,"mobile")):this.mobile&&!this.checkIfMobile()&&(this.mobile=!this.mobile,this.renderer.removeClass(this.el,"mobile"));let k,d=this.$options.minRows,m=this.$options.minCols,x=this.grid.length-1;for(;x>=0;x--)k=this.grid[x],k.notPlaced||(d=Math.max(d,k.$item.y+k.$item.rows),m=Math.max(m,k.$item.x+k.$item.cols));d+=this.$options.addEmptyRowsCount,(this.columns!==m||this.rows!==d)&&(this.columns=m,this.rows=d,this.options.gridSizeChangedCallback&&this.options.gridSizeChangedCallback(this))}calculateLayout(){if(this.compact&&this.compact.checkCompact(),this.setGridDimensions(),this.$options.outerMargin){let x=-this.$options.margin;null!==this.$options.outerMarginLeft?(x+=this.$options.outerMarginLeft,this.renderer.setStyle(this.el,"padding-left",this.$options.outerMarginLeft+"px")):(x+=this.$options.margin,this.renderer.setStyle(this.el,"padding-left",this.$options.margin+"px")),null!==this.$options.outerMarginRight?(x+=this.$options.outerMarginRight,this.renderer.setStyle(this.el,"padding-right",this.$options.outerMarginRight+"px")):(x+=this.$options.margin,this.renderer.setStyle(this.el,"padding-right",this.$options.margin+"px")),this.curColWidth=(this.curWidth-x)/this.columns;let k=-this.$options.margin;null!==this.$options.outerMarginTop?(k+=this.$options.outerMarginTop,this.renderer.setStyle(this.el,"padding-top",this.$options.outerMarginTop+"px")):(k+=this.$options.margin,this.renderer.setStyle(this.el,"padding-top",this.$options.margin+"px")),null!==this.$options.outerMarginBottom?(k+=this.$options.outerMarginBottom,this.renderer.setStyle(this.el,"padding-bottom",this.$options.outerMarginBottom+"px")):(k+=this.$options.margin,this.renderer.setStyle(this.el,"padding-bottom",this.$options.margin+"px")),this.curRowHeight=(this.curHeight-k)/this.rows*this.$options.rowHeightRatio}else this.curColWidth=(this.curWidth+this.$options.margin)/this.columns,this.curRowHeight=(this.curHeight+this.$options.margin)/this.rows*this.$options.rowHeightRatio,this.renderer.setStyle(this.el,"padding-left","0px"),this.renderer.setStyle(this.el,"padding-right","0px"),this.renderer.setStyle(this.el,"padding-top","0px"),this.renderer.setStyle(this.el,"padding-bottom","0px");this.gridRenderer.updateGridster(),this.$options.setGridSize?(this.renderer.addClass(this.el,"gridSize"),this.mobile||(this.renderer.setStyle(this.el,"width",this.columns*this.curColWidth+this.$options.margin+"px"),this.renderer.setStyle(this.el,"height",this.rows*this.curRowHeight+this.$options.margin+"px"))):(this.renderer.removeClass(this.el,"gridSize"),this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.updateGrid();let m,d=this.grid.length-1;for(;d>=0;d--)m=this.grid[d],m.setSize(),m.drag.toggle(),m.resize.toggle();this.resize$.next()}updateGrid(){"always"!==this.$options.displayGrid||this.mobile?"onDrag&Resize"===this.$options.displayGrid&&this.dragInProgress?this.renderer.addClass(this.el,"display-grid"):("none"===this.$options.displayGrid||!this.dragInProgress||this.mobile)&&this.renderer.removeClass(this.el,"display-grid"):this.renderer.addClass(this.el,"display-grid"),this.setGridDimensions(),this.gridColumns.length=y.getNewArrayLength(this.columns,this.curWidth,this.curColWidth),this.gridRows.length=y.getNewArrayLength(this.rows,this.curHeight,this.curRowHeight),this.cdRef.markForCheck()}addItem(d){void 0===d.$item.cols&&(d.$item.cols=this.$options.defaultItemCols,d.item.cols=d.$item.cols,d.itemChanged()),void 0===d.$item.rows&&(d.$item.rows=this.$options.defaultItemRows,d.item.rows=d.$item.rows,d.itemChanged()),-1===d.$item.x||-1===d.$item.y?this.autoPositionItem(d):this.checkCollision(d.$item)&&(this.$options.disableWarnings||(d.notPlaced=!0,console.warn("Can't be placed in the bounds of the dashboard, trying to auto position!/n"+JSON.stringify(d.item,["cols","rows","x","y"]))),this.$options.disableAutoPositionOnConflict?d.notPlaced=!0:this.autoPositionItem(d)),this.grid.push(d),this.calculateLayout$.next()}removeItem(d){this.grid.splice(this.grid.indexOf(d),1),this.calculateLayout$.next(),this.options.itemRemovedCallback&&this.options.itemRemovedCallback(d.item,d)}checkCollision(d){let m=!1;if(this.options.itemValidateCallback&&(m=!this.options.itemValidateCallback(d)),!m&&this.checkGridCollision(d)&&(m=!0),!m){const x=this.findItemWithItem(d);x&&(m=x)}return m}checkGridCollision(d){const Wt=d.cols*d.rows;return!(d.y>-1&&d.x>-1&&d.cols+d.x<=this.$options.maxCols&&d.rows+d.y<=this.$options.maxRows&&d.cols<=(void 0===d.maxItemCols?this.$options.maxItemCols:d.maxItemCols)&&d.cols>=(void 0===d.minItemCols?this.$options.minItemCols:d.minItemCols)&&d.rows<=(void 0===d.maxItemRows?this.$options.maxItemRows:d.maxItemRows)&&d.rows>=(void 0===d.minItemRows?this.$options.minItemRows:d.minItemRows)&&(void 0===d.minItemArea?this.$options.minItemArea:d.minItemArea)<=Wt&&(void 0===d.maxItemArea?this.$options.maxItemArea:d.maxItemArea)>=Wt)}findItemWithItem(d){let x,m=0;for(;m<this.grid.length;m++)if(x=this.grid[m],x.$item!==d&&this.checkCollisionTwoItems(x.$item,d))return x;return!1}findItemsWithItem(d){const m=[];let k,x=0;for(;x<this.grid.length;x++)k=this.grid[x],k.$item!==d&&this.checkCollisionTwoItems(k.$item,d)&&m.push(k);return m}autoPositionItem(d){this.getNextPossiblePosition(d.$item)?(d.notPlaced=!1,d.item.x=d.$item.x,d.item.y=d.$item.y,d.itemChanged()):(d.notPlaced=!0,this.$options.disableWarnings||console.warn("Can't be placed in the bounds of the dashboard!/n"+JSON.stringify(d.item,["cols","rows","x","y"])))}pixelsToPositionX(d,m,x){const k=m(d/this.curColWidth);return x?k:Math.max(k,0)}pixelsToPositionY(d,m,x){const k=m(d/this.curRowHeight);return x?k:Math.max(k,0)}positionXToPixels(d){return d*this.curColWidth}positionYToPixels(d){return d*this.curRowHeight}getItemComponent(d){return this.grid.find(m=>m.item===d)}checkCollisionForSwaping(d){let m=!1;if(this.options.itemValidateCallback&&(m=!this.options.itemValidateCallback(d)),!m&&this.checkGridCollision(d)&&(m=!0),!m){const x=this.findItemWithItemForSwapping(d);x&&(m=x)}return m}findItemWithItemForSwapping(d){let x,m=this.grid.length-1;for(;m>-1;m--)if(x=this.grid[m],x.$item!==d&&y.checkCollisionTwoItemsForSwaping(x.$item,d))return x;return!1}previewStyle(d=!1){this.movingItem?(this.compact&&d&&this.compact.checkCompactItem(this.movingItem),this.previewStyle$.next(this.movingItem)):this.previewStyle$.next(null)}static getNewArrayLength(d,m,x){const k=Math.max(d,Math.floor(m/x));return k<0?0:Number.isFinite(k)?Math.floor(k):0}static#t=this.\u0275fac=function(m){return new(m||y)(v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(v.sBO),v.Y36(v.R0b))};static#e=this.\u0275cmp=v.Xpm({type:y,selectors:[["gridster"]],inputs:{options:"options"},standalone:!0,features:[v.TTD,v.jDz],ngContentSelectors:st,decls:4,vars:4,consts:[["class","gridster-column",3,"ngStyle",4,"ngFor","ngForOf"],["class","gridster-row",3,"ngStyle",4,"ngFor","ngForOf"],[1,"gridster-preview",3,"gridRenderer","previewStyle$"],[1,"gridster-column",3,"ngStyle"],[1,"gridster-row",3,"ngStyle"]],template:function(m,x){1&m&&(v.F$t(),v.YNc(0,N,1,1,"div",0),v.YNc(1,H,1,1,"div",1),v.Hsn(2),v._UZ(3,"gridster-preview",2)),2&m&&(v.Q6J("ngForOf",x.gridColumns),v.xp6(1),v.Q6J("ngForOf",x.gridRows),v.xp6(2),v.Q6J("gridRenderer",x.gridRenderer)("previewStyle$",x.previewStyle$))},dependencies:[n.sg,n.PC,ei],styles:["gridster{position:relative;box-sizing:border-box;background:grey;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:block}gridster.fit{overflow-x:hidden;overflow-y:hidden}gridster.scrollVertical{overflow-x:hidden;overflow-y:auto}gridster.scrollHorizontal{overflow-x:auto;overflow-y:hidden}gridster.fixed{overflow:auto}gridster.mobile{overflow-x:hidden;overflow-y:auto}gridster.mobile gridster-item{position:relative}gridster.gridSize{height:initial;width:initial}gridster.gridSize.fit{height:100%;width:100%}gridster .gridster-column,gridster .gridster-row{position:absolute;display:none;transition:.3s;box-sizing:border-box}gridster.display-grid .gridster-column,gridster.display-grid .gridster-row{display:block}gridster .gridster-column{border-left:1px solid white;border-right:1px solid white}gridster .gridster-row{border-top:1px solid white;border-bottom:1px solid white}\n"],encapsulation:2})}return y})();class ni{constructor(h){this.iteration=0,this.pushedItems=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],this.pushedItemsPath=[],this.gridsterItem=h,this.gridster=h.gridster,this.tryPattern={fromEast:[this.tryWest,this.trySouth,this.tryNorth,this.tryEast],fromWest:[this.tryEast,this.trySouth,this.tryNorth,this.tryWest],fromNorth:[this.trySouth,this.tryEast,this.tryWest,this.tryNorth],fromSouth:[this.tryNorth,this.tryEast,this.tryWest,this.trySouth]},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){this.gridster=this.gridsterItem=null}pushItems(h,d){if(this.gridster.$options.pushItems&&!d){this.pushedItemsOrder=[],this.iteration=0;const m=this.push(this.gridsterItem,h);return m||this.restoreTempItems(),this.pushedItemsOrder=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],m}return!1}restoreTempItems(){let h=this.pushedItemsTemp.length-1;for(;h>-1;h--)this.removeFromTempPushed(this.pushedItemsTemp[h])}restoreItems(){let h=0;const d=this.pushedItems.length;let m;for(;h<d;h++)m=this.pushedItems[h],m.$item.x=m.item.x||0,m.$item.y=m.item.y||0,m.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let h=0;const d=this.pushedItems.length;let m;for(;h<d;h++)m=this.pushedItems[h],m.checkItemChanges(m.$item,m.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let h=this.pushedItems.length-1,d=!1;for(;h>-1;h--)this.checkPushedItem(this.pushedItems[h],h)&&(d=!0);d&&this.checkPushBack()}push(h,d){if(this.iteration>100)return console.warn("max iteration reached"),!1;if(this.gridster.checkGridCollision(h.$item)||""===d)return!1;const m=this.gridster.findItemsWithItem(h.$item),x=d===this.fromNorth||d===this.fromWest;m.sort((nt,Ct)=>x?Ct.$item.y-nt.$item.y||Ct.$item.x-nt.$item.x:nt.$item.y-Ct.$item.y||nt.$item.x-Ct.$item.x);let M,k=0,J=!0;const at=[];for(;k<m.length;k++){if(M=m[k],M===this.gridsterItem)continue;if(!M.canBeDragged()){J=!1;break}const nt=this.pushedItemsTemp.indexOf(M);if(nt>-1&&this.pushedItemsTempPath[nt].length>10){J=!1;break}if(this.tryPattern[d][0].call(this,M,h))this.pushedItemsOrder.push(M),at.push(M);else if(this.tryPattern[d][1].call(this,M,h))this.pushedItemsOrder.push(M),at.push(M);else if(this.tryPattern[d][2].call(this,M,h))this.pushedItemsOrder.push(M),at.push(M);else{if(!this.tryPattern[d][3].call(this,M,h)){J=!1;break}this.pushedItemsOrder.push(M),at.push(M)}}if(!J&&(k=this.pushedItemsOrder.lastIndexOf(at[0]),k>-1)){let nt=this.pushedItemsOrder.length-1;for(;nt>=k;nt--)M=this.pushedItemsOrder[nt],this.pushedItemsOrder.pop(),this.removeFromTempPushed(M),this.removeFromPushedItem(M)}return this.iteration++,J}trySouth(h,d){return!!this.gridster.$options.pushDirections.south&&(this.addToTempPushed(h),h.$item.y=d.$item.y+d.$item.rows,this.push(h,this.fromNorth)?(h.setSize(),this.addToPushed(h),!0):(this.removeFromTempPushed(h),!1))}tryNorth(h,d){return!!this.gridster.$options.pushDirections.north&&(this.addToTempPushed(h),h.$item.y=d.$item.y-h.$item.rows,this.push(h,this.fromSouth)?(h.setSize(),this.addToPushed(h),!0):(this.removeFromTempPushed(h),!1))}tryEast(h,d){return!!this.gridster.$options.pushDirections.east&&(this.addToTempPushed(h),h.$item.x=d.$item.x+d.$item.cols,this.push(h,this.fromWest)?(h.setSize(),this.addToPushed(h),!0):(this.removeFromTempPushed(h),!1))}tryWest(h,d){return!!this.gridster.$options.pushDirections.west&&(this.addToTempPushed(h),h.$item.x=d.$item.x-h.$item.cols,this.push(h,this.fromEast)?(h.setSize(),this.addToPushed(h),!0):(this.removeFromTempPushed(h),!1))}addToTempPushed(h){let d=this.pushedItemsTemp.indexOf(h);-1===d&&(d=this.pushedItemsTemp.push(h)-1,this.pushedItemsTempPath[d]=[]),this.pushedItemsTempPath[d].push({x:h.$item.x,y:h.$item.y})}removeFromTempPushed(h){const d=this.pushedItemsTemp.indexOf(h),m=this.pushedItemsTempPath[d].pop();m&&(h.$item.x=m.x,h.$item.y=m.y,h.setSize(),this.pushedItemsTempPath[d].length||(this.pushedItemsTemp.splice(d,1),this.pushedItemsTempPath.splice(d,1)))}addToPushed(h){if(this.pushedItems.indexOf(h)<0)this.pushedItems.push(h),this.pushedItemsPath.push([{x:h.item.x||0,y:h.item.y||0},{x:h.$item.x,y:h.$item.y}]);else{const d=this.pushedItems.indexOf(h);this.pushedItemsPath[d].push({x:h.$item.x,y:h.$item.y})}}removeFromPushed(h){h>-1&&(this.pushedItems.splice(h,1),this.pushedItemsPath.splice(h,1))}removeFromPushedItem(h){const d=this.pushedItems.indexOf(h);d>-1&&(this.pushedItemsPath[d].pop(),this.pushedItemsPath.length||(this.pushedItems.splice(d,1),this.pushedItemsPath.splice(d,1)))}checkPushedItem(h,d){const m=this.pushedItemsPath[d];let k,M,J,x=m.length-2,at=!1;for(;x>-1;x--)k=m[x],M=h.$item.x,J=h.$item.y,h.$item.x=k.x,h.$item.y=k.y,this.gridster.findItemWithItem(h.$item)?(h.$item.x=M,h.$item.y=J):(h.setSize(),m.splice(x+1,m.length-x-1),at=!0);return m.length<2&&this.removeFromPushed(d),at}}const si=50;let Rt,me,Zt,pe,Ee,Ie,Pe;function Ce(y,h,d,m,x,k,M,J,at,nt){be=y.$options.scrollSensitivity,oe=y.$options.scrollSpeed,Rt=y.el,me=at,Zt=nt;const Ct=Rt.offsetWidth,ne=Rt.scrollLeft,le=Rt.scrollTop,Wt=d-le,ce=Rt.offsetHeight+le-d-x,{clientX:_e,clientY:Ti}=k;if(!y.$options.disableScrollVertical)if(M.clientY<Ti&&ce<be){if(xi(),me&&Zt&&!Zt.south||Pe)return;Pe=fe(1,J,M)}else if(M.clientY>Ti&&le>0&&Wt<be){if(li(),me&&Zt&&!Zt.north||Ie)return;Ie=fe(-1,J,M)}else M.clientY!==Ti&&Oe();const nn=h-ne;if(!y.$options.disableScrollHorizontal)if(M.clientX<_e&&ne+Ct-h-m<=be){if(oi(),me&&Zt&&!Zt.east||pe)return;pe=xe(1,J,M)}else if(M.clientX>_e&&ne>0&&nn<be){if(ri(),me&&Zt&&!Zt.west||Ee)return;Ee=xe(-1,J,M)}else M.clientX!==_e&&Ve()}function fe(y,h,d){let m=d.clientY;return window.setInterval(()=>{(!Rt||-1===y&&Rt.scrollTop-oe<0)&&Oe(),Rt.scrollTop+=y*oe,m+=y*oe,h({clientX:d.clientX,clientY:m})},si)}function xe(y,h,d){let m=d.clientX;return window.setInterval(()=>{(!Rt||-1===y&&Rt.scrollLeft-oe<0)&&Ve(),Rt.scrollLeft+=y*oe,m+=y*oe,h({clientX:m,clientY:d.clientY})},si)}function ai(){Ve(),Oe(),Rt=null}function Ve(){ri(),oi()}function Oe(){xi(),li()}function ri(){pe&&(clearInterval(pe),pe=0)}function oi(){Ee&&(clearInterval(Ee),Ee=0)}function li(){Pe&&(clearInterval(Pe),Pe=0)}function xi(){Ie&&(clearInterval(Ie),Ie=0)}class Pi{constructor(h){this.gridsterItem=h,this.gridster=h.gridster}destroy(){this.gridster=this.gridsterItem=this.swapedItem=null}swapItems(){this.gridster.$options.swap&&(this.checkSwapBack(),this.checkSwap(this.gridsterItem))}checkSwapBack(){if(this.swapedItem){const h=this.swapedItem.$item.x,d=this.swapedItem.$item.y;this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.gridster.checkCollision(this.swapedItem.$item)?(this.swapedItem.$item.x=h,this.swapedItem.$item.y=d):(this.swapedItem.setSize(),this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.swapedItem=void 0)}}restoreSwapItem(){this.swapedItem&&(this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.swapedItem.setSize(),this.swapedItem=void 0)}setSwapItem(){this.swapedItem&&(this.swapedItem.checkItemChanges(this.swapedItem.$item,this.swapedItem.item),this.swapedItem=void 0)}checkSwap(h){let d;if(d=this.gridster.$options.swapWhileDragging?this.gridster.checkCollisionForSwaping(h.$item):this.gridster.checkCollision(h.$item),d&&!0!==d&&d.canBeDragged()){const m=d,x=m.$item.x,k=m.$item.y,M=h.$item.x,J=h.$item.y,at=M-x,nt=J-k;m.$item.x=h.item.x-at,m.$item.y=h.item.y-nt,h.$item.x=m.item.x+at,h.$item.y=m.item.y+nt,this.gridster.checkCollision(m.$item)||this.gridster.checkCollision(h.$item)?(h.$item.x=M,h.$item.y=J,m.$item.x=x,m.$item.y=k):(m.setSize(),this.swapedItem=m,this.gridster.$options.swapWhileDragging&&(this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.setSwapItem()))}}}var Gt=function(y){return y.UP="UP",y.DOWN="DOWN",y.LEFT="LEFT",y.RIGHT="RIGHT",y}(Gt||{});class _i{constructor(h,d,m){this.zone=m,this.collision=!1,this.dragMove=x=>{x.stopPropagation(),x.preventDefault(),At.checkTouchEvent(x);let k=this.getDirections(x);this.gridster.options.enableBoundaryControl&&(k.includes(Gt.UP)&&this.gridsterItem.el.getBoundingClientRect().top<this.gridster.el.getBoundingClientRect().top+(this.outerMarginTop??this.margin)&&(k=k.filter(M=>M!=Gt.UP),x=new MouseEvent(x.type,{clientX:x.clientX,clientY:this.lastMouse.clientY})),k.includes(Gt.LEFT)&&this.gridsterItem.el.getBoundingClientRect().left<this.gridster.el.getBoundingClientRect().left+(this.outerMarginLeft??this.margin)&&(k=k.filter(M=>M!=Gt.LEFT),x=new MouseEvent(x.type,{clientX:this.lastMouse.clientX,clientY:x.clientY})),k.includes(Gt.RIGHT)&&this.gridsterItem.el.getBoundingClientRect().right>this.gridster.el.getBoundingClientRect().right-(this.outerMarginRight??this.margin)&&(k=k.filter(M=>M!=Gt.RIGHT),x=new MouseEvent(x.type,{clientX:this.lastMouse.clientX,clientY:x.clientY})),k.includes(Gt.DOWN)&&this.gridsterItem.el.getBoundingClientRect().bottom>this.gridster.el.getBoundingClientRect().bottom-(this.outerMarginBottom??this.margin)&&(k=k.filter(M=>M!=Gt.DOWN),x=new MouseEvent(x.type,{clientX:x.clientX,clientY:this.lastMouse.clientY}))),k.length&&(this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,Ce(this.gridster,this.left,this.top,this.width,this.height,x,this.lastMouse,this.calculateItemPositionFromMousePosition),this.calculateItemPositionFromMousePosition(x))},this.calculateItemPositionFromMousePosition=x=>{this.gridster.options.scale?this.calculateItemPositionWithScale(x,this.gridster.options.scale):this.calculateItemPositionWithoutScale(x),this.calculateItemPosition(),this.lastMouse.clientX=x.clientX,this.lastMouse.clientY=x.clientY,this.zone.run(()=>{this.gridster.updateGrid()})},this.dragStop=x=>{x.stopPropagation(),x.preventDefault(),ai(),this.cancelOnBlur(),this.mousemove(),this.mouseup(),this.mouseleave(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-moving"),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.path=[],this.gridster.options.draggable&&this.gridster.options.draggable.stop?Promise.resolve(this.gridster.options.draggable.stop(this.gridsterItem.item,this.gridsterItem,x)).then(this.makeDrag,this.cancelDrag):this.makeDrag(),setTimeout(()=>{this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle(!0))})},this.cancelDrag=()=>{this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push&&this.push.restoreItems(),this.swap&&this.swap.restoreSwapItem(),this.push&&(this.push.destroy(),this.push=null),this.swap&&(this.swap.destroy(),this.swap=null)},this.makeDrag=()=>{this.gridster.$options.draggable.dropOverItems&&this.gridster.options.draggable&&this.gridster.options.draggable.dropOverItemsCallback&&this.collision&&!0!==this.collision&&this.collision.$item&&this.gridster.options.draggable.dropOverItemsCallback(this.gridsterItem.item,this.collision.item,this.gridster),this.collision=!1,this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push&&this.push.setPushedItems(),this.swap&&this.swap.setSwapItem(),this.push&&(this.push.destroy(),this.push=null),this.swap&&(this.swap.destroy(),this.swap=null)},this.dragStartDelay=x=>{if(x.target.classList.contains("gridster-item-resizable-handler")||At.checkContentClassForEvent(this.gridster,x))return;if(At.checkTouchEvent(x),!this.gridster.$options.draggable.delayStart)return void this.dragStart(x);const M=setTimeout(()=>{this.dragStart(x),Wt()},this.gridster.$options.draggable.delayStart),J=this.gridsterItem.renderer.listen("document","mouseup",Wt),at=this.gridsterItem.renderer.listen("document","mouseleave",Wt),nt=this.gridsterItem.renderer.listen("window","blur",Wt),Ct=this.gridsterItem.renderer.listen("document","touchmove",function le(ce){At.checkTouchEvent(ce),(Math.abs(ce.clientX-x.clientX)>9||Math.abs(ce.clientY-x.clientY)>9)&&Wt()}),Ht=this.gridsterItem.renderer.listen("document","touchend",Wt),ne=this.gridsterItem.renderer.listen("document","touchcancel",Wt);function Wt(){clearTimeout(M),nt(),J(),at(),Ct(),Ht(),ne()}},this.gridsterItem=h,this.gridster=d,this.lastMouse={clientX:0,clientY:0},this.path=[]}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(!0),this.gridsterItem=this.gridster=this.collision=null,this.mousedown&&(this.mousedown(),this.touchstart())}dragStart(h){h.which&&1!==h.which||(this.gridster.options.draggable&&this.gridster.options.draggable.start&&this.gridster.options.draggable.start(this.gridsterItem.item,this.gridsterItem,h),h.stopPropagation(),h.preventDefault(),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragMove),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-moving"),this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.left=this.gridsterItem.left-this.margin,this.top=this.gridsterItem.top-this.margin,this.originalClientX=h.clientX,this.originalClientY=h.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.diffLeft=this.gridster.$options.dirType===Et.RTL?h.clientX-this.gridster.el.scrollWidth+this.gridsterItem.left:h.clientX+this.offsetLeft-this.margin-this.left,this.diffTop=h.clientY+this.offsetTop-this.margin-this.top,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(!0),this.push=new ni(this.gridsterItem),this.swap=new Pi(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid(),this.path.push({x:this.gridsterItem.item.x||0,y:this.gridsterItem.item.y||0}))}calculateItemPositionWithScale(h,d){this.left=this.gridster.$options.dirType===Et.RTL?this.gridster.el.scrollWidth-this.originalClientX+(h.clientX-this.originalClientX)/d+this.diffLeft:this.originalClientX+(h.clientX-this.originalClientX)/d+this.offsetLeft-this.diffLeft,this.top=this.originalClientY+(h.clientY-this.originalClientY)/d+this.offsetTop-this.diffTop}calculateItemPositionWithoutScale(h){this.left=this.gridster.$options.dirType===Et.RTL?this.gridster.el.scrollWidth-h.clientX+this.diffLeft:h.clientX+this.offsetLeft-this.diffLeft,this.top=h.clientY+this.offsetTop-this.diffTop}calculateItemPosition(){if(this.gridster.movingItem=this.gridsterItem.$item,this.positionX=this.gridster.pixelsToPositionX(this.left,Math.round),this.positionY=this.gridster.pixelsToPositionY(this.top,Math.round),this.positionXBackup=this.gridsterItem.$item.x,this.positionYBackup=this.gridsterItem.$item.y,this.gridsterItem.$item.x=this.positionX,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.x=this.positionXBackup),this.gridsterItem.$item.y=this.positionY,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.y=this.positionYBackup),this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,this.top),this.positionXBackup!==this.gridsterItem.$item.x||this.positionYBackup!==this.gridsterItem.$item.y){const h=this.path[this.path.length-1];let d="";h.x<this.gridsterItem.$item.x?d=this.push.fromWest:h.x>this.gridsterItem.$item.x?d=this.push.fromEast:h.y<this.gridsterItem.$item.y?d=this.push.fromNorth:h.y>this.gridsterItem.$item.y&&(d=this.push.fromSouth),this.push.pushItems(d,this.gridster.$options.disablePushOnDrag),this.swap.swapItems(),this.collision=this.gridster.checkCollision(this.gridsterItem.$item),this.collision?(this.gridsterItem.$item.x=this.positionXBackup,this.gridsterItem.$item.y=this.positionYBackup,this.gridster.$options.draggable.dropOverItems&&!0!==this.collision&&this.collision.$item&&(this.gridster.movingItem=null)):this.path.push({x:this.gridsterItem.$item.x,y:this.gridsterItem.$item.y}),this.push.checkPushBack()}else this.collision=!1;this.gridster.previewStyle(!0)}toggle(){const h=this.gridsterItem.canBeDragged();!this.enabled&&h?(this.enabled=!this.enabled,this.mousedown=this.gridsterItem.renderer.listen(this.gridsterItem.el,"mousedown",this.dragStartDelay),this.touchstart=this.gridsterItem.renderer.listen(this.gridsterItem.el,"touchstart",this.dragStartDelay)):this.enabled&&!h&&(this.enabled=!this.enabled,this.mousedown(),this.touchstart())}getDirections(h){const d=[];return 0===this.lastMouse.clientX&&0===this.lastMouse.clientY&&(this.lastMouse.clientY=h.clientY,this.lastMouse.clientX=h.clientX),this.lastMouse.clientY>h.clientY&&d.push(Gt.UP),this.lastMouse.clientY<h.clientY&&d.push(Gt.DOWN),this.lastMouse.clientX<h.clientX&&d.push(Gt.RIGHT),this.lastMouse.clientX>h.clientX&&d.push(Gt.LEFT),d}}class vi{constructor(h){this.pushedItems=[],this.pushedItemsPath=[],this.gridsterItem=h,this.gridster=h.gridster,this.tryPattern={fromEast:this.tryWest,fromWest:this.tryEast,fromNorth:this.trySouth,fromSouth:this.tryNorth},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){this.gridster=this.gridsterItem=null}pushItems(h){return!!this.gridster.$options.pushResizeItems&&this.push(this.gridsterItem,h)}restoreItems(){let h=0;const d=this.pushedItems.length;let m;for(;h<d;h++)m=this.pushedItems[h],m.$item.x=m.item.x||0,m.$item.y=m.item.y||0,m.$item.cols=m.item.cols||1,m.$item.row=m.item.row||1,m.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let h=0;const d=this.pushedItems.length;let m;for(;h<d;h++)m=this.pushedItems[h],m.checkItemChanges(m.$item,m.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let h=this.pushedItems.length-1,d=!1;for(;h>-1;h--)this.checkPushedItem(this.pushedItems[h],h)&&(d=!0);d&&this.checkPushBack()}push(h,d){const m=this.gridster.checkCollision(h.$item);if(m&&!0!==m&&m!==this.gridsterItem&&m.canBeResized()){if(this.tryPattern[d].call(this,m,h,d))return!0}else if(!1===m)return!0;return!1}trySouth(h,d,m){const x=h.$item.y,k=h.$item.rows;return h.$item.y=d.$item.y+d.$item.rows,h.$item.rows=k+x-h.$item.y,this.gridster.checkCollisionTwoItems(h.$item,d.$item)||this.gridster.checkGridCollision(h.$item)?(h.$item.y=x,h.$item.rows=k,!1):(h.setSize(),this.addToPushed(h),this.push(d,m),!0)}tryNorth(h,d,m){const x=h.$item.rows;return h.$item.rows=d.$item.y-h.$item.y,this.gridster.checkCollisionTwoItems(h.$item,d.$item)||this.gridster.checkGridCollision(h.$item)?(h.$item.rows=x,!1):(h.setSize(),this.addToPushed(h),this.push(d,m),!0)}tryEast(h,d,m){const x=h.$item.x,k=h.$item.cols;return h.$item.x=d.$item.x+d.$item.cols,h.$item.cols=k+x-h.$item.x,this.gridster.checkCollisionTwoItems(h.$item,d.$item)||this.gridster.checkGridCollision(h.$item)?(h.$item.x=x,h.$item.cols=k,!1):(h.setSize(),this.addToPushed(h),this.push(d,m),!0)}tryWest(h,d,m){const x=h.$item.cols;return h.$item.cols=d.$item.x-h.$item.x,this.gridster.checkCollisionTwoItems(h.$item,d.$item)||this.gridster.checkGridCollision(h.$item)?(h.$item.cols=x,!1):(h.setSize(),this.addToPushed(h),this.push(d,m),!0)}addToPushed(h){if(this.pushedItems.indexOf(h)<0)this.pushedItems.push(h),this.pushedItemsPath.push([{x:h.item.x||0,y:h.item.y||0,cols:h.item.cols||0,rows:h.item.rows||0},{x:h.$item.x,y:h.$item.y,cols:h.$item.cols,rows:h.$item.rows}]);else{const d=this.pushedItems.indexOf(h);this.pushedItemsPath[d].push({x:h.$item.x,y:h.$item.y,cols:h.$item.cols,rows:h.$item.rows})}}removeFromPushed(h){h>-1&&(this.pushedItems.splice(h,1),this.pushedItemsPath.splice(h,1))}checkPushedItem(h,d){const m=this.pushedItemsPath[d];let k,M,J,at,nt,x=m.length-2;for(;x>-1;x--)k=m[x],M=h.$item.x,J=h.$item.y,at=h.$item.cols,nt=h.$item.rows,h.$item.x=k.x,h.$item.y=k.y,h.$item.cols=k.cols,h.$item.rows=k.rows,this.gridster.findItemWithItem(h.$item)?(h.$item.x=M,h.$item.y=J,h.$item.cols=at,h.$item.rows=nt):(h.setSize(),m.splice(x+1,m.length-1-x));return m.length<2&&(this.removeFromPushed(d),!0)}}class yi{constructor(h,d,m){this.zone=m,this.directionFunction=null,this.dragMove=x=>{if(null===this.directionFunction)throw new Error("The `directionFunction` has not been set before calling `dragMove`.");x.stopPropagation(),x.preventDefault(),At.checkTouchEvent(x),this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,Ce(this.gridster,this.left,this.top,this.width,this.height,x,this.lastMouse,this.directionFunction,!0,this.resizeEventScrollType);const k=this.gridster.options.scale||1;this.directionFunction({clientX:this.originalClientX+(x.clientX-this.originalClientX)/k,clientY:this.originalClientY+(x.clientY-this.originalClientY)/k}),this.lastMouse.clientX=x.clientX,this.lastMouse.clientY=x.clientY,this.zone.run(()=>{this.gridster.updateGrid()})},this.dragStop=x=>{x.stopPropagation(),x.preventDefault(),ai(),this.mousemove(),this.mouseup(),this.mouseleave(),this.cancelOnBlur(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.gridster.options.resizable&&this.gridster.options.resizable.stop?Promise.resolve(this.gridster.options.resizable.stop(this.gridsterItem.item,this.gridsterItem,x)).then(this.makeResize,this.cancelResize):this.makeResize(),setTimeout(()=>{this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-resizing"),this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())})},this.cancelResize=()=>{this.gridsterItem.$item.cols=this.gridsterItem.item.cols||1,this.gridsterItem.$item.rows=this.gridsterItem.item.rows||1,this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push.restoreItems(),this.pushResize.restoreItems(),this.push.destroy(),this.push=null,this.pushResize.destroy(),this.pushResize=null},this.makeResize=()=>{this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push.setPushedItems(),this.pushResize.setPushedItems(),this.push.destroy(),this.push=null,this.pushResize.destroy(),this.pushResize=null},this.handleNorth=x=>{if(this.top=x.clientY+this.offsetTop-this.diffTop,this.height=this.bottom-this.top,this.minHeight>this.height?(this.height=this.minHeight,this.top=this.bottom-this.minHeight):this.gridster.options.enableBoundaryControl&&(this.top=Math.max(0,this.top),this.height=this.bottom-this.top),this.newPosition=this.gridster.pixelsToPositionY(this.top+(this.gridster.options.pushItems?this.margin:0),Math.floor),this.gridsterItem.$item.y!==this.newPosition){if(this.itemBackup[1]=this.gridsterItem.$item.y,this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows+=this.gridsterItem.$item.y-this.newPosition,this.gridsterItem.$item.y=this.newPosition,this.pushResize.pushItems(this.pushResize.fromSouth),this.push.pushItems(this.push.fromSouth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.y=this.itemBackup[1],this.gridsterItem.$item.rows=this.itemBackup[3],this.top=this.gridster.positionYToPixels(this.gridsterItem.$item.y),this.setItemTop(this.gridster.positionYToPixels(this.gridsterItem.$item.y)),void this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemTop(this.top),this.setItemHeight(this.height)},this.handleWest=x=>{if(this.left=(this.gridster.$options.dirType===Et.RTL?this.originalClientX+(this.originalClientX-x.clientX):x.clientX)+this.offsetLeft-this.diffLeft,this.width=this.right-this.left,this.minWidth>this.width?(this.width=this.minWidth,this.left=this.right-this.minWidth):this.gridster.options.enableBoundaryControl&&(this.left=Math.max(0,this.left),this.width=this.right-this.left),this.newPosition=this.gridster.pixelsToPositionX(this.left+(this.gridster.options.pushItems?this.margin:0),Math.floor),this.gridsterItem.$item.x!==this.newPosition){if(this.itemBackup[0]=this.gridsterItem.$item.x,this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols+=this.gridsterItem.$item.x-this.newPosition,this.gridsterItem.$item.x=this.newPosition,this.pushResize.pushItems(this.pushResize.fromEast),this.push.pushItems(this.push.fromEast,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.x=this.itemBackup[0],this.gridsterItem.$item.cols=this.itemBackup[2],this.left=this.gridster.positionXToPixels(this.gridsterItem.$item.x),this.setItemLeft(this.gridster.positionXToPixels(this.gridsterItem.$item.x)),void this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemLeft(this.left),this.setItemWidth(this.width)},this.handleSouth=x=>{if(this.height=x.clientY+this.offsetTop-this.diffBottom-this.top,this.minHeight>this.height&&(this.height=this.minHeight),this.bottom=this.top+this.height,this.gridster.options.enableBoundaryControl){const M=this.outerMarginBottom??this.margin,J=this.gridster.el.getBoundingClientRect();this.bottom=Math.min(this.bottom,J.bottom-J.top-2*M),this.height=this.bottom-this.top}if(this.newPosition=this.gridster.pixelsToPositionY(this.bottom+(this.gridster.options.pushItems?0:this.margin),Math.ceil),this.gridsterItem.$item.y+this.gridsterItem.$item.rows!==this.newPosition){if(this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows=this.newPosition-this.gridsterItem.$item.y,this.pushResize.pushItems(this.pushResize.fromNorth),this.push.pushItems(this.push.fromNorth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.rows=this.itemBackup[3],void this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemHeight(this.height)},this.handleEast=x=>{if(this.width=(this.gridster.$options.dirType===Et.RTL?this.originalClientX+(this.originalClientX-x.clientX):x.clientX)+this.offsetLeft-this.diffRight-this.left,this.minWidth>this.width&&(this.width=this.minWidth),this.right=this.left+this.width,this.gridster.options.enableBoundaryControl){const J=this.outerMarginRight??this.margin,at=this.gridster.el.getBoundingClientRect();this.right=Math.min(this.right,at.right-at.left-2*J),this.width=this.right-this.left}if(this.newPosition=this.gridster.pixelsToPositionX(this.right+(this.gridster.options.pushItems?0:this.margin),Math.ceil),this.gridsterItem.$item.x+this.gridsterItem.$item.cols!==this.newPosition){if(this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols=this.newPosition-this.gridsterItem.$item.x,this.pushResize.pushItems(this.pushResize.fromWest),this.push.pushItems(this.push.fromWest,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.cols=this.itemBackup[2],void this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemWidth(this.width)},this.handleNorthWest=x=>{this.handleNorth(x),this.handleWest(x)},this.handleNorthEast=x=>{this.handleNorth(x),this.handleEast(x)},this.handleSouthWest=x=>{this.handleSouth(x),this.handleWest(x)},this.handleSouthEast=x=>{this.handleSouth(x),this.handleEast(x)},this.gridsterItem=h,this.gridster=d,this.lastMouse={clientX:0,clientY:0},this.itemBackup=[0,0,0,0],this.resizeEventScrollType={west:!1,east:!1,north:!1,south:!1}}destroy(){this.gridster?.previewStyle(),this.gridster=this.gridsterItem=null}dragStart(h){if(h.which&&1!==h.which)return;this.gridster.options.resizable&&this.gridster.options.resizable.start&&this.gridster.options.resizable.start(this.gridsterItem.item,this.gridsterItem,h),h.stopPropagation(),h.preventDefault(),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragMove),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-resizing"),this.lastMouse.clientX=h.clientX,this.lastMouse.clientY=h.clientY,this.left=this.gridsterItem.left,this.top=this.gridsterItem.top,this.originalClientX=h.clientX,this.originalClientY=h.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.bottom=this.gridsterItem.top+this.gridsterItem.height,this.right=this.gridsterItem.left+this.gridsterItem.width,this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.diffLeft=h.clientX+this.offsetLeft-this.left,this.diffRight=h.clientX+this.offsetLeft-this.right,this.diffTop=h.clientY+this.offsetTop-this.top,this.diffBottom=h.clientY+this.offsetTop-this.bottom,this.minHeight=this.gridster.positionYToPixels(this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows)-this.margin,this.minWidth=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(),this.push=new ni(this.gridsterItem),this.pushResize=new vi(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid();const{classList:d}=h.target;d.contains("handle-n")?(this.resizeEventScrollType.north=!0,this.directionFunction=this.handleNorth):d.contains("handle-w")?this.gridster.$options.dirType===Et.RTL?(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):d.contains("handle-s")?(this.resizeEventScrollType.south=!0,this.directionFunction=this.handleSouth):d.contains("handle-e")?this.gridster.$options.dirType===Et.RTL?(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):d.contains("handle-nw")?this.gridster.$options.dirType===Et.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):d.contains("handle-ne")?this.gridster.$options.dirType===Et.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):d.contains("handle-sw")?this.gridster.$options.dirType===Et.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):d.contains("handle-se")&&(this.gridster.$options.dirType===Et.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast))}toggle(){this.resizeEnabled=this.gridsterItem.canBeResized(),this.resizableHandles=this.gridsterItem.getResizableHandles()}dragStartDelay(h){if(At.checkTouchEvent(h),!this.gridster.$options.resizable.delayStart)return void this.dragStart(h);const d=setTimeout(()=>{this.dragStart(h),Ct()},this.gridster.$options.resizable.delayStart),{cancelMouse:m,cancelMouseLeave:x,cancelOnBlur:k,cancelTouchMove:M,cancelTouchEnd:J,cancelTouchCancel:at}=this.zone.runOutsideAngular(()=>({cancelMouse:this.gridsterItem.renderer.listen("document","mouseup",Ct),cancelMouseLeave:this.gridsterItem.renderer.listen("document","mouseleave",Ct),cancelOnBlur:this.gridsterItem.renderer.listen("window","blur",Ct),cancelTouchMove:this.gridsterItem.renderer.listen("document","touchmove",nt),cancelTouchEnd:this.gridsterItem.renderer.listen("document","touchend",Ct),cancelTouchCancel:this.gridsterItem.renderer.listen("document","touchcancel",Ct)}));function nt(Ht){At.checkTouchEvent(Ht),(Math.abs(Ht.clientX-h.clientX)>9||Math.abs(Ht.clientY-h.clientY)>9)&&Ct()}function Ct(){clearTimeout(d),k(),m(),x(),M(),J(),at()}}setItemTop(h){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,h)}setItemLeft(h){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,h,this.top)}setItemHeight(h){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"height",h+"px")}setItemWidth(h){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"width",h+"px")}}let F=(()=>{class y{get zIndex(){return this.getLayerIndex()+this.gridster.$options.baseLayerIndex}constructor(d,m,x,k){this.renderer=x,this.zone=k,this.itemInit=new v.vpe,this.itemChange=new v.vpe,this.itemResize=new v.vpe,this.el=d.nativeElement,this.$item={cols:-1,rows:-1,x:-1,y:-1},this.gridster=m,this.drag=new _i(this,m,this.zone),this.resize=new yi(this,m,this.zone)}ngOnInit(){this.gridster.addItem(this)}ngOnChanges(d){d.item&&(this.updateOptions(),this.init||this.gridster.calculateLayout$.next()),d.item&&d.item.previousValue&&this.setSize()}updateOptions(){this.$item=At.merge(this.$item,this.item,{cols:void 0,rows:void 0,x:void 0,y:void 0,layerIndex:void 0,dragEnabled:void 0,resizeEnabled:void 0,compactEnabled:void 0,maxItemRows:void 0,minItemRows:void 0,maxItemCols:void 0,minItemCols:void 0,maxItemArea:void 0,minItemArea:void 0,resizableHandles:{s:void 0,e:void 0,n:void 0,w:void 0,se:void 0,ne:void 0,sw:void 0,nw:void 0}})}ngOnDestroy(){this.gridster.removeItem(this),this.drag.destroy(),this.resize.destroy(),this.gridster=this.drag=this.resize=null}setSize(){this.renderer.setStyle(this.el,"display",this.notPlaced?"":"block"),this.gridster.gridRenderer.updateItem(this.el,this.$item,this.renderer),this.updateItemSize()}updateItemSize(){const m=this.$item.x*this.gridster.curColWidth,x=this.$item.cols*this.gridster.curColWidth-this.gridster.$options.margin,k=this.$item.rows*this.gridster.curRowHeight-this.gridster.$options.margin;this.top=this.$item.y*this.gridster.curRowHeight,this.left=m,!this.init&&x>0&&k>0&&(this.init=!0,this.item.initCallback&&this.item.initCallback(this.item,this),this.gridster.options.itemInitCallback&&this.gridster.options.itemInitCallback(this.item,this),this.itemInit.next({item:this.item,itemComponent:this}),this.gridster.$options.scrollToNewItems&&this.el.scrollIntoView(!1)),(x!==this.width||k!==this.height)&&(this.width=x,this.height=k,this.gridster.options.itemResizeCallback&&this.gridster.options.itemResizeCallback(this.item,this),this.itemResize.next({item:this.item,itemComponent:this}))}itemChanged(){this.gridster.options.itemChangeCallback&&this.gridster.options.itemChangeCallback(this.item,this),this.itemChange.next({item:this.item,itemComponent:this})}checkItemChanges(d,m){d.rows===m.rows&&d.cols===m.cols&&d.x===m.x&&d.y===m.y||(this.gridster.checkCollision(this.$item)?(this.$item.x=m.x||0,this.$item.y=m.y||0,this.$item.cols=m.cols||1,this.$item.rows=m.rows||1,this.setSize()):(this.item.cols=this.$item.cols,this.item.rows=this.$item.rows,this.item.x=this.$item.x,this.item.y=this.$item.y,this.gridster.calculateLayout$.next(),this.itemChanged()))}canBeDragged(){const d=this.gridster.$options.draggable.enabled;return!this.gridster.mobile&&d&&(void 0===this.$item.dragEnabled?d:this.$item.dragEnabled)}canBeResized(){const d=this.gridster.$options.resizable.enabled;return!this.gridster.mobile&&d&&(void 0===this.$item.resizeEnabled?d:this.$item.resizeEnabled)}getResizableHandles(){const d=this.gridster.$options.resizable.handles,m=this.$item.resizableHandles;return void 0===m?d:{...d,...m}}bringToFront(d){if(d&&d<=0)return;const m=this.getLayerIndex(),x=this.gridster.$options.maxLayerIndex;if(m<x){const k=d?m+d:x;this.item.layerIndex=this.$item.layerIndex=k>x?x:k}}sendToBack(d){if(d&&d<=0)return;const m=this.getLayerIndex();if(m>0){const x=d?m-d:0;this.item.layerIndex=this.$item.layerIndex=x<0?0:x}}getLayerIndex(){return void 0!==this.item.layerIndex?this.item.layerIndex:void 0!==this.gridster.$options.defaultLayerIndex?this.gridster.$options.defaultLayerIndex:0}static#t=this.\u0275fac=function(m){return new(m||y)(v.Y36(v.SBq),v.Y36(ii),v.Y36(v.Qsj),v.Y36(v.R0b))};static#e=this.\u0275cmp=v.Xpm({type:y,selectors:[["gridster-item"]],hostVars:2,hostBindings:function(m,x){2&m&&v.Udp("z-index",x.zIndex)},inputs:{item:"item"},outputs:{itemInit:"itemInit",itemChange:"itemChange",itemResize:"itemResize"},standalone:!0,features:[v.TTD,v.jDz],ngContentSelectors:st,decls:9,vars:8,consts:[["class","gridster-item-resizable-handler handle-s",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-e",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-n",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-w",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-se",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-ne",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-sw",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-nw",3,"mousedown","touchstart",4,"ngIf"],[1,"gridster-item-resizable-handler","handle-s",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-e",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-n",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-w",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-se",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-ne",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-sw",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-nw",3,"mousedown","touchstart"]],template:function(m,x){1&m&&(v.F$t(),v.Hsn(0),v.YNc(1,q,1,0,"div",0),v.YNc(2,gt,1,0,"div",1),v.YNc(3,Ut,1,0,"div",2),v.YNc(4,$t,1,0,"div",3),v.YNc(5,re,1,0,"div",4),v.YNc(6,ge,1,0,"div",5),v.YNc(7,ue,1,0,"div",6),v.YNc(8,wt,1,0,"div",7)),2&m&&(v.xp6(1),v.Q6J("ngIf",(null==x.resize.resizableHandles?null:x.resize.resizableHandles.s)&&x.resize.resizeEnabled),v.xp6(1),v.Q6J("ngIf",(null==x.resize.resizableHandles?null:x.resize.resizableHandles.e)&&x.resize.resizeEnabled),v.xp6(1),v.Q6J("ngIf",(null==x.resize.resizableHandles?null:x.resize.resizableHandles.n)&&x.resize.resizeEnabled),v.xp6(1),v.Q6J("ngIf",(null==x.resize.resizableHandles?null:x.resize.resizableHandles.w)&&x.resize.resizeEnabled),v.xp6(1),v.Q6J("ngIf",(null==x.resize.resizableHandles?null:x.resize.resizableHandles.se)&&x.resize.resizeEnabled),v.xp6(1),v.Q6J("ngIf",(null==x.resize.resizableHandles?null:x.resize.resizableHandles.ne)&&x.resize.resizeEnabled),v.xp6(1),v.Q6J("ngIf",(null==x.resize.resizableHandles?null:x.resize.resizableHandles.sw)&&x.resize.resizeEnabled),v.xp6(1),v.Q6J("ngIf",(null==x.resize.resizableHandles?null:x.resize.resizableHandles.nw)&&x.resize.resizeEnabled))},dependencies:[n.O5],styles:["gridster-item{box-sizing:border-box;z-index:1;position:absolute;overflow:hidden;transition:.3s;display:none;background:white;-webkit-user-select:text;user-select:text}gridster-item.gridster-item-moving{cursor:move}gridster-item.gridster-item-resizing,gridster-item.gridster-item-moving{transition:0s;z-index:2;box-shadow:0 0 5px 5px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.gridster-item-resizable-handler{position:absolute;z-index:2}.gridster-item-resizable-handler.handle-n{cursor:ns-resize;height:10px;right:0;top:0;left:0}.gridster-item-resizable-handler.handle-e{cursor:ew-resize;width:10px;bottom:0;right:0;top:0}.gridster-item-resizable-handler.handle-s{cursor:ns-resize;height:10px;right:0;bottom:0;left:0}.gridster-item-resizable-handler.handle-w{cursor:ew-resize;width:10px;left:0;top:0;bottom:0}.gridster-item-resizable-handler.handle-ne{cursor:ne-resize;width:10px;height:10px;right:0;top:0}.gridster-item-resizable-handler.handle-nw{cursor:nw-resize;width:10px;height:10px;left:0;top:0}.gridster-item-resizable-handler.handle-se{cursor:se-resize;width:0;height:0;right:0;bottom:0;border-style:solid;border-width:0 0 10px 10px;border-color:transparent}.gridster-item-resizable-handler.handle-sw{cursor:sw-resize;width:10px;height:10px;left:0;bottom:0}gridster-item:hover .gridster-item-resizable-handler.handle-se{border-color:transparent transparent #ccc}\n"],encapsulation:2})}return y})(),I=(()=>{class y{static#t=this.\u0275fac=function(m){return new(m||y)};static#e=this.\u0275mod=v.oAB({type:y});static#i=this.\u0275inj=v.cJS({})}return y})()}}]);