"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[49207],{49207:(E,c,o)=>{o.r(c),o.d(c,{RegisterTenantModule:()=>I});var Z=o(92337),y=o(91860),p=o(70916),v=o(47530),x=o(41840),d=o(44328);class q extends d.KLe{}var T=o(64716),e=o(99468),C=o(97708),_=o(20005),h=o(96814),l=o(56223),M=o(78176),L=o(24276),w=o(45513),R=o(32925),S=o(42152),f=o(41423),b=o(3291);function J(i,m){if(1&i&&(e.TgZ(0,"div",31)(1,"div",32)(2,"span",33),e._uU(3),e.ALo(4,"localize"),e.qZA(),e.TgZ(5,"h3",34),e._uU(6),e.qZA()(),e.TgZ(7,"div",35)(8,"button",36),e._uU(9),e.ALo(10,"localize"),e.qZA()()()),2&i){const r=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,4,"Edition")),e.xp6(3),e.hij(" ",r.model.edition.displayName," "),e.xp6(2),e.Q6J("disabled",r.saving),e.xp6(1),e.hij(" ",e.lcZ(10,6,"Back")," ")}}function P(i,m){1&i&&(e.TgZ(0,"div")(1,"span",37),e._uU(2),e.ALo(3,"localize"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"TenantName_Regex_Description")))}function N(i,m){if(1&i&&(e.TgZ(0,"ul",19)(1,"li",38),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.TgZ(4,"li",38),e._uU(5),e.ALo(6,"localize"),e.qZA(),e.TgZ(7,"li",38),e._uU(8),e.ALo(9,"localize"),e.qZA(),e.TgZ(10,"li",38),e._uU(11),e.ALo(12,"localize"),e.qZA(),e.TgZ(13,"li",38),e._uU(14),e.ALo(15,"localize"),e.qZA()()),2&i){const r=e.oxw(),n=e.MAs(44);e.xp6(1),e.Q6J("hidden",!n.errors.requireDigit),e.xp6(1),e.hij(" ",e.lcZ(3,10,"PasswordComplexity_RequireDigit_Hint")," "),e.xp6(2),e.Q6J("hidden",!n.errors.requireLowercase),e.xp6(1),e.hij(" ",e.lcZ(6,12,"PasswordComplexity_RequireLowercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!n.errors.requireUppercase),e.xp6(1),e.hij(" ",e.lcZ(9,14,"PasswordComplexity_RequireUppercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!n.errors.requireNonAlphanumeric),e.xp6(1),e.hij(" ",e.lcZ(12,16,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.xp6(2),e.Q6J("hidden",!n.errors.requiredLength),e.xp6(1),e.hij(" ",e.xi3(15,18,"PasswordComplexity_RequiredLength_Hint",r.passwordComplexitySetting.requiredLength)," ")}}function U(i,m){if(1&i&&(e.TgZ(0,"ul",19)(1,"li",38),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.TgZ(4,"li",38),e._uU(5),e.ALo(6,"localize"),e.qZA(),e.TgZ(7,"li",38),e._uU(8),e.ALo(9,"localize"),e.qZA(),e.TgZ(10,"li",38),e._uU(11),e.ALo(12,"localize"),e.qZA(),e.TgZ(13,"li",38),e._uU(14),e.ALo(15,"localize"),e.qZA(),e.TgZ(16,"li",38),e._uU(17),e.ALo(18,"localize"),e.qZA()()),2&i){const r=e.oxw(),n=e.MAs(50);e.xp6(1),e.Q6J("hidden",!n.errors.requireDigit),e.xp6(1),e.hij(" ",e.lcZ(3,12,"PasswordComplexity_RequireDigit_Hint")," "),e.xp6(2),e.Q6J("hidden",!n.errors.requireLowercase),e.xp6(1),e.hij(" ",e.lcZ(6,14,"PasswordComplexity_RequireLowercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!n.errors.requireUppercase),e.xp6(1),e.hij(" ",e.lcZ(9,16,"PasswordComplexity_RequireUppercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!n.errors.requireNonAlphanumeric),e.xp6(1),e.hij(" ",e.lcZ(12,18,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.xp6(2),e.Q6J("hidden",!n.errors.requiredLength),e.xp6(1),e.hij(" ",e.xi3(15,20,"PasswordComplexity_RequiredLength_Hint",r.passwordComplexitySetting.requiredLength)," "),e.xp6(2),e.Q6J("hidden",n.valid),e.xp6(1),e.Oqu(e.lcZ(18,23,"PasswordsDontMatch"))}}const A=function(i){return{edited:i}},z=[{path:"",component:(()=>{class i extends x.c{constructor(r,n,t,s,a,u,g){super(r),this._tenantRegistrationService=n,this._router=t,this._profileService=s,this._tenantRegistrationHelper=a,this._activatedRoute=u,this._recaptchaWrapperService=g,this.model=new q,this.passwordComplexitySetting=new d.qSp,this.subscriptionStartType=d.gPM,this.paymentPeriodType=d.dw4,this.selectedPaymentPeriodType=d.dw4.Monthly,this.subscriptionPaymentGateway=d.UWJ,this.paymentId="",this.saving=!1}ngOnInit(){this.model.editionId=this._activatedRoute.snapshot.queryParams.editionId,this.editionPaymentType=this._activatedRoute.snapshot.queryParams.editionPaymentType,this.model.editionId&&(this.model.subscriptionStartType=this._activatedRoute.snapshot.queryParams.subscriptionStartType),null==this.appSession.tenant?this._profileService.getPasswordComplexitySetting().subscribe(r=>{this.passwordComplexitySetting=r.setting}):this._router.navigate(["account/login"])}ngAfterViewInit(){this.model.editionId&&this._tenantRegistrationService.getEdition(this.model.editionId).subscribe(r=>{this.model.edition=r}),this._recaptchaWrapperService.setCaptchaVisibilityOnRegister()}save(){let r=n=>{this.saving=!0,this.model.captchaResponse=n,this._tenantRegistrationService.registerTenant(this.model).pipe((0,T.x)(()=>{this.saving=!1})).subscribe(t=>{this.notify.success(this.l("SuccessfullyRegistered")),this._tenantRegistrationHelper.registrationResult=t,parseInt(this.model.subscriptionStartType.toString())===d.gPM.Paid?this._router.navigate(["account/buy"],{queryParams:{tenantId:t.tenantId,editionId:this.model.editionId,subscriptionStartType:this.model.subscriptionStartType,editionPaymentType:this.editionPaymentType}}):this._router.navigate(["account/register-tenant-result"])})};this._recaptchaWrapperService.useCaptchaOnRegister()?this._recaptchaWrapperService.getService().execute("register_tenant").subscribe(n=>r(n)):r(null)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(e.zs3),e.Y36(d.Zr1),e.Y36(p.F0),e.Y36(d.qAB),e.Y36(C.K),e.Y36(p.gz),e.Y36(_.o))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],features:[e.qOj],decls:59,vars:74,consts:[[1,"login-form"],[1,"pb-13","pt-lg-0","pt-5"],[1,"fw-bolder","text-dark","fs-h4","fs-h1-lg"],["class","row",4,"ngIf"],[1,"separator","separator-border-dashed"],["role","form","novalidate","",1,"login-form","form","mt-2",3,"submit"],["registerForm","ngForm"],[1,"mt-2"],[1,"mb-5"],["autoFocus","","type","text","name","tenancyName","required","","maxlength","64","pattern","^[a-zA-Z][a-zA-Z0-9_-]{1,}$",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","fs-h6",3,"placeholder","ngModel","ngModelChange"],["tenancyName","ngModel"],[4,"ngIf"],["type","text","name","Name","required","","maxlength","128",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","fs-h6",3,"placeholder","ngModel","ngModelChange"],["nameInput","ngModel"],[3,"formCtrl"],["id","AdminName","type","text","name","AdminName","required","","maxlength","64",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","fs-h6",3,"placeholder","ngModel","ngClass","ngModelChange"],["adminNameInput","ngModel"],["id","AdminSurname","type","text","name","AdminSurname","required","","maxlength","64",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","fs-h6",3,"placeholder","ngModel","ngClass","ngModelChange"],["adminSurnameInput","ngModel"],[1,"form-text","text-danger"],["type","email","name","adminEmailAddress","required","","maxlength","256","email","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","fs-h6",3,"placeholder","ngModel","ngModelChange"],["adminEmailAddressInput","ngModel"],["type","password","name","Password","validateEqual","PasswordRepeat","reverse","true","required","","pPassword","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","fs-h6",3,"ngModel","placeholder","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength","promptLabel","weakLabel","mediumLabel","strongLabel","ngModelChange"],["Password","ngModel"],[1,"mb-5",3,"hidden"],["class","form-text text-danger",4,"ngIf"],["type","password","name","PasswordRepeat","validateEqual","Password","reverse","false","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","fs-h6",3,"ngModel","placeholder","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength"],["PasswordRepeat","ngModel"],[1,"pb-lg-0","pb-5"],["type","submit",1,"btn","w-100","btn-primary","fw-bolder","fs-h6","px-8","py-4","mb-5",3,"disabled","buttonBusy","busyText"],[1,"fa","fa-check"],[1,"row"],[1,"col-sm-12","col-md-8"],[1,"d-block","text-muted","pt-2","fs-sm"],[1,"pb-10"],[1,"col-sm-12","col-md-4","text-end"],["routerLink","/account/login","type","button",1,"btn","btn-light-primary","btn-elevate","fw-bolder",3,"disabled"],[1,"form-text","text-danger","text-left"],[3,"hidden"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),e._uU(3),e.ALo(4,"localize"),e.qZA()(),e.YNc(5,J,11,8,"div",3),e._UZ(6,"div",4),e.TgZ(7,"form",5,6),e.NdJ("submit",function(){return t.save()}),e.TgZ(9,"h5",7),e._uU(10),e.ALo(11,"localize"),e.qZA(),e.TgZ(12,"div",8)(13,"input",9,10),e.NdJ("ngModelChange",function(a){return t.model.tenancyName=a}),e.ALo(15,"localize"),e.qZA(),e.YNc(16,P,4,3,"div",11),e.qZA(),e.TgZ(17,"div",8)(18,"input",12,13),e.NdJ("ngModelChange",function(a){return t.model.name=a}),e.ALo(20,"localize"),e.qZA(),e._UZ(21,"validation-messages",14),e.qZA(),e.TgZ(22,"h5",7),e._uU(23),e.ALo(24,"localize"),e.qZA(),e.TgZ(25,"div",8)(26,"input",15,16),e.NdJ("ngModelChange",function(a){return t.model.adminName=a}),e.ALo(28,"localize"),e.qZA(),e._UZ(29,"validation-messages",14),e.qZA(),e.TgZ(30,"div",8)(31,"input",17,18),e.NdJ("ngModelChange",function(a){return t.model.adminSurname=a}),e.ALo(33,"localize"),e.qZA(),e.TgZ(34,"span",19),e._UZ(35,"validation-messages",14),e.qZA()(),e.TgZ(36,"div",8)(37,"input",20,21),e.NdJ("ngModelChange",function(a){return t.model.adminEmailAddress=a}),e.ALo(39,"localize"),e.qZA(),e.TgZ(40,"span",19),e._UZ(41,"validation-messages",14),e.qZA()(),e.TgZ(42,"div",8)(43,"input",22,23),e.NdJ("ngModelChange",function(a){return t.model.adminPassword=a}),e.ALo(45,"localize"),e.qZA(),e.TgZ(46,"div",24),e.YNc(47,N,16,21,"ul",25),e.qZA()(),e.TgZ(48,"div",8),e._UZ(49,"input",26,27),e.ALo(51,"localize"),e.TgZ(52,"div",24),e.YNc(53,U,19,25,"ul",25),e.qZA()(),e.TgZ(54,"div",28)(55,"button",29),e._UZ(56,"i",30),e._uU(57),e.ALo(58,"localize"),e.qZA()()()()),2&n){const s=e.MAs(8),a=e.MAs(14),u=e.MAs(19),g=e.MAs(27),j=e.MAs(32),D=e.MAs(38),H=e.MAs(44),Y=e.MAs(50);e.Q6J("@routerTransition",void 0),e.xp6(3),e.hij(" ",e.lcZ(4,48,"TenantSignUp")," "),e.xp6(2),e.Q6J("ngIf",t.model.edition),e.xp6(5),e.hij(" ",e.lcZ(11,50,"TenantInformations")," "),e.xp6(3),e.MGl("placeholder","",e.lcZ(15,52,"TenancyName")," *"),e.Q6J("ngModel",t.model.tenancyName),e.xp6(3),e.Q6J("ngIf",!a.valid&&!a.pristine),e.xp6(2),e.MGl("placeholder","",e.lcZ(20,54,"TenantName")," *"),e.Q6J("ngModel",t.model.name),e.xp6(3),e.Q6J("formCtrl",u),e.xp6(2),e.hij(" ",e.lcZ(24,56,"AccountSettings")," "),e.xp6(3),e.MGl("placeholder","",e.lcZ(28,58,"AdminName")," *"),e.Q6J("ngModel",t.model.adminName)("ngClass",e.VKq(70,A,t.model.adminName)),e.xp6(3),e.Q6J("formCtrl",g),e.xp6(2),e.MGl("placeholder","",e.lcZ(33,60,"AdminSurname")," *"),e.Q6J("ngModel",t.model.adminSurname)("ngClass",e.VKq(72,A,t.model.adminSurname)),e.xp6(4),e.Q6J("formCtrl",j),e.xp6(2),e.MGl("placeholder","",e.lcZ(39,62,"AdminEmailAddress")," *"),e.Q6J("ngModel",t.model.adminEmailAddress),e.xp6(4),e.Q6J("formCtrl",D),e.xp6(2),e.s9C("placeholder",e.lcZ(45,64,"AdminPassword")),e.Q6J("ngModel",t.model.adminPassword)("requireDigit",t.passwordComplexitySetting.requireDigit)("requireLowercase",t.passwordComplexitySetting.requireLowercase)("requireUppercase",t.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",t.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",t.passwordComplexitySetting.requiredLength)("promptLabel",t.l("PleaseEnterYourNewPassword"))("weakLabel",t.l("weak"))("mediumLabel",t.l("medium"))("strongLabel",t.l("strong")),e.xp6(3),e.Q6J("hidden",s.form.valid||s.form.pristine),e.xp6(1),e.Q6J("ngIf",H.errors),e.xp6(2),e.s9C("placeholder",e.lcZ(51,66,"PasswordRepeat")),e.Q6J("ngModel",t.model.passwordRepeat)("requireDigit",t.passwordComplexitySetting.requireDigit)("requireLowercase",t.passwordComplexitySetting.requireLowercase)("requireUppercase",t.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",t.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",t.passwordComplexitySetting.requiredLength),e.xp6(3),e.Q6J("hidden",s.form.valid||s.form.pristine),e.xp6(1),e.Q6J("ngIf",Y.errors),e.xp6(2),e.Q6J("disabled",!s.form.valid)("buttonBusy",t.saving)("busyText",t.l("SavingWithThreeDot")),e.xp6(2),e.hij(" ",e.lcZ(58,68,"Submit")," ")}},dependencies:[h.mk,h.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.nD,l.c5,l.on,l.On,l.F,p.rH,M.z,L.J,w.L,R.h,S.s,f.QK,b.F],encapsulation:2,data:{animation:[(0,v.RP)()]}})}return i})(),pathMatch:"full"}];let Q=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(z),p.Bz]})}return i})(),I=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[Z.o,y.y,Q,f.gz]})}return i})()}}]);