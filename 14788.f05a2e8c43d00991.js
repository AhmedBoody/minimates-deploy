"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[14788],{14788:(R,a,s)=>{s.r(a),s.d(a,{StripePaymentResultModule:()=>g});var l=s(92337),o=s(70916),c=s(41840),t=s(99468),u=s(44328),m=s(50387),p=s(94901),h=s(3291);const d=[{path:"",component:(()=>{class e extends c.c{constructor(i,n,r,f,P){super(i),this._stripePaymentService=n,this._activatedRoute=r,this._router=f,this._sessionService=P,this.controlTimeout=5e3,this.maxControlCount=5}ngOnInit(){this.sessionId=this._activatedRoute.snapshot.queryParams.sessionId,this._stripePaymentService.getPayment(this.sessionId).subscribe(i=>{this._sessionService.tenantId!==i.tenantId&&this._router.navigate([""]),this.paymentId=i.id,this.getPaymentResult()})}getPaymentResult(){this._stripePaymentService.getPaymentResult(this.paymentId).subscribe(i=>{i.paymentDone?this._router.navigate(["account/payment-completed"]):this.controlAgain()},i=>{this.controlAgain()})}controlAgain(){0!==this.maxControlCount&&(setTimeout(()=>{this.getPaymentResult()},this.controlTimeout),this.controlTimeout*=2,this.maxControlCount--)}static#t=this.\u0275fac=function(n){return new(n||e)(t.Y36(t.zs3),t.Y36(u.YgH),t.Y36(o.gz),t.Y36(o.F0),t.Y36(m.Cr))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["stripe-payment-result"]],features:[t.qOj],decls:12,vars:10,consts:[[1,"d-flex","h-100","align-items-center",2,"padding-bottom","150px !important"],[1,"login-form","align-items-center","w-100","m-0"],[1,"pb-13","pt-lg-0","pt-5"],[1,"fw-bolder","text-dark","text-center","fs-h4","fs-h1-lg"],[1,"text-center"],[2,"position","relative","margin-top","60px !important"],[3,"busyIf"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"localize"),t.qZA(),t.TgZ(6,"p",4),t._uU(7),t.ALo(8,"localize"),t.ALo(9,"localize"),t.qZA()(),t.TgZ(10,"div",5),t._UZ(11,"div",6),t.qZA()()()),2&n&&(t.xp6(4),t.hij(" ",t.lcZ(5,4,"PleaseWait")," "),t.xp6(3),t.AsE("",t.lcZ(8,6,"ReceivingPaymentResult")," ",t.lcZ(9,8,"PleaseWait"),""),t.xp6(4),t.Q6J("busyIf",!0))},dependencies:[p.U,h.F],encapsulation:2})}return e})(),pathMatch:"full"}];let y=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#s=this.\u0275inj=t.cJS({imports:[o.Bz.forChild(d),o.Bz]})}return e})();var v=s(91860);let g=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=t.oAB({type:e});static#s=this.\u0275inj=t.cJS({imports:[l.o,v.y,y]})}return e})()}}]);