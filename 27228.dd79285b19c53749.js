"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[27228],{52134:(F,b,s)=>{s.r(b),s.d(b,{UsersModule:()=>lt});var w=s(71902),M=s(92337),v=s(70916),f=s(15047),P=s(47530),Z=s(41840),g=s(44328),U=s(64716),e=s(99468),y=s(12990),q=s(98547),E=s(69862),S=s(71536),N=s(58399),x=s(96814),c=s(56223),A=s(72500),L=s(32925),J=s(94901),d=s(68027),p=s(85219),_=s(51712),h=s(3291);function m(n,a){if(1&n&&(e.TgZ(0,"option",3),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.displayName)}}let C=(()=>{class n extends Z.c{constructor(t,o){super(o),this._roleService=t,this.roles=[],this.selectedRole=new c.p4(""),this.onTouched=()=>{}}ngOnInit(){this._roleService.getRoles(new g.mik({permissions:[]})).subscribe(t=>{this.roles=t.items})}writeValue(t){this.selectedRole&&this.selectedRole.setValue(t)}registerOnChange(t){this.selectedRole.valueChanges.subscribe(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.selectedRole.disable():this.selectedRole.enable()}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(g.AR1),e.Y36(e.zs3))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["role-combo"]],features:[e._Bn([{provide:c.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}]),e.qOj],decls:5,vars:5,consts:[[1,"form-select",3,"formControl"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,i){1&o&&(e.TgZ(0,"select",0)(1,"option",1),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.YNc(4,m,2,2,"option",2),e.qZA()),2&o&&(e.Q6J("formControl",i.selectedRole),e.xp6(2),e.Oqu(e.lcZ(3,3,"FilterByRole")),e.xp6(2),e.Q6J("ngForOf",i.roles))},dependencies:[x.sg,c.YN,c.Kr,c.EJ,c.JJ,c.oH,h.F],encapsulation:2})}return n})();var T=s(59170),I=s(2268),k=s(57102),j=s(68989),D=s(50387),z=s(24142),G=s(40457);const Y=["dynamicEntityPropertyValueManager"],K=["manageDynamicEntityParameterValuesModal"];function B(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),e._uU(5),e.ALo(6,"localize"),e.qZA(),e._uU(7),e.qZA(),e.TgZ(8,"div",8)(9,"span",7),e._uU(10),e.ALo(11,"localize"),e.qZA(),e._uU(12),e.qZA()(),e.TgZ(13,"div",9)(14,"dynamic-entity-property-value-manager",10,11),e.NdJ("onSaveDone",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.close())}),e.qZA()(),e.TgZ(16,"div",12)(17,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.close())}),e._uU(18),e.ALo(19,"localize"),e.qZA(),e.TgZ(20,"button",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveAll())}),e._uU(21),e.ALo(22,"localize"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.hij("",e.lcZ(6,8,"EntityFullName"),":"),e.xp6(2),e.hij(" ",t.entityFullName," "),e.xp6(3),e.hij("",e.lcZ(11,10,"EntityId"),":"),e.xp6(2),e.hij(" ",t.entityId," "),e.xp6(2),e.Q6J("entityFullName",t.entityFullName)("entityId",t.entityId),e.xp6(4),e.hij(" ",e.lcZ(19,12,"Cancel")," "),e.xp6(3),e.hij(" ",e.lcZ(22,14,"Save")," ")}}const V=function(){return{backdrop:"static"}};let $=(()=>{class n extends Z.c{constructor(t){super(t),this.initialized=!1}saveAll(){this.dynamicEntityPropertyValueManager.saveAll()}close(){this.modal.hide()}show(t,o){this.entityFullName=t,this.entityId=o,this.dynamicEntityPropertyValueManager&&(this.dynamicEntityPropertyValueManager.entityFullName=t,this.dynamicEntityPropertyValueManager.entityId=o,this.dynamicEntityPropertyValueManager.initialize()),this.initialized=!0,this.modal.show()}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(e.zs3))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["manage-dynamic-entity-property-values-modal"]],viewQuery:function(o,i){if(1&o&&(e.Gf(Y,5),e.Gf(K,5)),2&o){let r;e.iGM(r=e.CRH())&&(i.dynamicEntityPropertyValueManager=r.first),e.iGM(r=e.CRH())&&(i.modal=r.first)}},features:[e.qOj],decls:3,vars:3,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","manageDynamicEntityParameterValuesModal","aria-hidden","true",1,"modal","fade",3,"config"],["manageDynamicEntityParameterValuesModal","bs-modal"],["class","modal-dialog modal-lg",4,"ngIf"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"float-left"],[1,"fw-bold"],[1,"float-end"],[1,"modal-body"],[3,"entityFullName","entityId","onSaveDone"],["dynamicEntityPropertyValueManager",""],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"click"],["type","button",1,"btn","btn-primary","fw-bold",3,"click"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0,1),e.YNc(2,B,23,16,"div",2),e.qZA()),2&o&&(e.Q6J("config",e.DdM(2,V)),e.xp6(2),e.Q6J("ngIf",i.initialized))},dependencies:[x.O5,z.Z,G.J,h.F],encapsulation:2})}return n})();const W=["dynamicPropertiesModal"];let X=(()=>{class n{constructor(t,o){this._dynamicEntityProperty=t,this._permissionCheckerService=o}ngOnInit(){this.hasPermission()&&this._dynamicEntityProperty.getAllEntitiesHasDynamicProperty().subscribe(t=>{t&&t.items&&(this.entityNamesHasDynamicProperty=t.items.map(o=>o.entityFullName))})}hasPermission(){return this._permissionCheckerService.isGranted("Pages.Administration.DynamicEntityProperties")&&this._permissionCheckerService.isGranted("Pages.Administration.DynamicEntityPropertyValue.Edit")}hasEntity(t){return this.entityNamesHasDynamicProperty.indexOf(t)>-1}canShow(t){return this.hasPermission()&&this.hasEntity(t)}getModal(){return this.dynamicPropertiesModal}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(g.kvd),e.Y36(D.qT))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["dynamic-entity-property-manager"]],viewQuery:function(o,i){if(1&o&&e.Gf(W,7),2&o){let r;e.iGM(r=e.CRH())&&(i.dynamicPropertiesModal=r.first)}},decls:2,vars:0,consts:[["dynamicPropertiesModal",""]],template:function(o,i){1&o&&e._UZ(0,"manage-dynamic-entity-property-values-modal",null,0)},dependencies:[$],encapsulation:2})}return n})();var O=s(45513),ee=s(99824);const te=["editModal"],oe=["permissionTree"];function ie(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("- ",t.userName,"")}}const ne=function(n){return{backdrop:"static",keyboard:n}};let re=(()=>{class n extends Z.c{constructor(t,o){super(t),this._userService=o,this.saving=!1,this.resettingPermissions=!1}show(t,o){this.userId=t,this.userName=o,this._userService.getUserPermissionsForEdit(t).subscribe(i=>{this.permissionTree.editData=i,this.modal.show()})}save(){let t=new g.Ble;t.id=this.userId,t.grantedPermissionNames=this.permissionTree.getGrantedPermissionNames(),this.saving=!0,this._userService.updateUserPermissions(t).pipe((0,U.x)(()=>{this.saving=!1})).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close()})}resetPermissions(){let t=new g.QJI;t.id=this.userId,this.resettingPermissions=!0,this._userService.resetUserSpecificPermissions(t).subscribe({next:()=>{this.notify.info(this.l("ResetSuccessfully")),this._userService.getUserPermissionsForEdit(this.userId).subscribe(o=>{this.permissionTree.editData=o})},complete:()=>{this.resettingPermissions=!1}})}close(){this.modal.hide()}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(e.zs3),e.Y36(g.wKd))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["editUserPermissionsModal"]],viewQuery:function(o,i){if(1&o&&(e.Gf(te,7),e.Gf(oe,5)),2&o){let r;e.iGM(r=e.CRH())&&(i.modal=r.first),e.iGM(r=e.CRH())&&(i.permissionTree=r.first)}},features:[e.qOj],decls:34,vars:31,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","editModal","aria-hidden","true",1,"modal","fade",3,"config"],["editModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["novalidate","",3,"ngSubmit"],["userForm","ngForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],["permissionTree",""],[1,"alert","alert-warning",2,"margin-bottom","0","margin-top","15px"],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold","pull-left",3,"disabled","buttonBusy","busyText","tooltip","click"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"disabled","buttonBusy","busyText"],[1,"fa","fa-save"]],template:function(o,i){if(1&o&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"form",4,5),e.NdJ("ngSubmit",function(){return i.save()}),e.TgZ(6,"div",6)(7,"h4",7)(8,"span"),e._uU(9),e.ALo(10,"localize"),e.YNc(11,ie,2,1,"span",8),e.qZA()(),e.TgZ(12,"button",9),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.TgZ(13,"div",10),e._UZ(14,"permission-tree",null,11),e.TgZ(16,"div",12)(17,"em"),e._uU(18),e.ALo(19,"localize"),e.qZA()()(),e.TgZ(20,"div",13)(21,"button",14),e.NdJ("click",function(){return i.resetPermissions()}),e.ALo(22,"localize"),e.TgZ(23,"span"),e._uU(24),e.ALo(25,"localize"),e.qZA()(),e.TgZ(26,"button",15),e.NdJ("click",function(){return i.close()}),e._uU(27),e.ALo(28,"localize"),e.qZA(),e.TgZ(29,"button",16),e._UZ(30,"i",17),e.TgZ(31,"span"),e._uU(32),e.ALo(33,"localize"),e.qZA()()()()()()()),2&o){const r=e.MAs(5);e.Q6J("config",e.VKq(29,ne,!i.saving)),e.xp6(9),e.hij(" ",e.lcZ(10,17,"Permissions")," "),e.xp6(2),e.Q6J("ngIf",i.userName),e.xp6(1),e.Q6J("disabled",i.saving),e.uIk("aria-label",i.l("Close")),e.xp6(6),e.Oqu(e.lcZ(19,19,"Note_RefreshPageForPermissionChanges")),e.xp6(3),e.s9C("tooltip",e.lcZ(22,21,"ResetPermissionsTooltip")),e.Q6J("disabled",i.saving)("buttonBusy",i.resettingPermissions)("busyText",i.l("SavingWithThreeDot")),e.xp6(3),e.Oqu(e.lcZ(25,23,"ResetSpecialPermissions")),e.xp6(2),e.Q6J("disabled",i.saving||i.resettingPermissions),e.xp6(1),e.hij(" ",e.lcZ(28,25,"Cancel")," "),e.xp6(2),e.Q6J("disabled",!r.form.valid||i.resettingPermissions)("buttonBusy",i.saving)("busyText",i.l("SavingWithThreeDot")),e.xp6(3),e.Oqu(e.lcZ(33,27,"Save"))}},dependencies:[x.O5,c._Y,c.JL,c.F,O.L,z.Z,ee.I,I.i9,h.F],encapsulation:2})}return n})();var se=s(74550),Q=s(66232),ae=s(78176),le=s(24276),de=s(42152),ce=s(77327);const pe=["createOrEditModal"];function me(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.AsE("",e.lcZ(2,2,"EditUser"),": ",t.user.userName,"")}}function ue(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"CreateNewUser")))}function ge(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",52)(1,"label",45)(2,"input",53),e.NdJ("ngModelChange",function(i){const u=e.CHM(t).$implicit;return e.KtG(u.isAssigned=i)})("click",function(){const r=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.unSelectOtherRoles(r))}),e.qZA(),e.TgZ(3,"span",47),e._uU(4),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.MGl("id","EditUser_",t.roleName,""),e.s9C("name",t.roleName),e.Q6J("ngModel",t.isAssigned),e.xp6(2),e.hij(" ",t.roleDisplayName," ")}}function _e(n,a){1&n&&(e.TgZ(0,"div",54),e._uU(1,"Please enter a valid email address."),e.qZA())}function he(n,a){1&n&&(e.TgZ(0,"span",55),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CanNotChangeAdminUserName")," "))}function fe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",56)(2,"label",57),e._uU(3),e.ALo(4,"localize"),e.qZA(),e.TgZ(5,"input",58,59),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw(2);return e.KtG(r.user.password=i)}),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,8,"Password")),e.xp6(2),e.Q6J("ngModel",t.user.password)("required",!t.user.id&&!t.setRandomPassword)("requireDigit",t.passwordComplexitySetting.requireDigit)("requireLowercase",t.passwordComplexitySetting.requireLowercase)("requireUppercase",t.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",t.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",t.passwordComplexitySetting.requiredLength)}}function xe(n,a){if(1&n&&(e.TgZ(0,"ul",60)(1,"li",43),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.TgZ(4,"li",43),e._uU(5),e.ALo(6,"localize"),e.qZA(),e.TgZ(7,"li",43),e._uU(8),e.ALo(9,"localize"),e.qZA(),e.TgZ(10,"li",43),e._uU(11),e.ALo(12,"localize"),e.qZA(),e.TgZ(13,"li",43),e._uU(14),e.ALo(15,"localize"),e.qZA()()),2&n){e.oxw();const t=e.MAs(1),o=e.oxw();e.xp6(1),e.Q6J("hidden",!t.controls.Password.errors.requireDigit),e.xp6(1),e.hij(" ",e.lcZ(3,10,"PasswordComplexity_RequireDigit_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.controls.Password.errors.requireLowercase),e.xp6(1),e.hij(" ",e.lcZ(6,12,"PasswordComplexity_RequireLowercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.controls.Password.errors.requireUppercase),e.xp6(1),e.hij(" ",e.lcZ(9,14,"PasswordComplexity_RequireUppercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.controls.Password.errors.requireNonAlphanumeric),e.xp6(1),e.hij(" ",e.lcZ(12,16,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.controls.Password.errors.requiredLength),e.xp6(1),e.hij(" ",e.xi3(15,18,"PasswordComplexity_RequiredLength_Hint",o.passwordComplexitySetting.requiredLength)," ")}}function Ce(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",56)(2,"label",61),e._uU(3),e.ALo(4,"localize"),e.qZA(),e.TgZ(5,"input",62,63),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw(2);return e.KtG(r.userPasswordRepeat=i)}),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,8,"PasswordRepeat")," "),e.xp6(2),e.Q6J("ngModel",t.userPasswordRepeat)("required",!t.user.id&&!t.setRandomPassword)("requireDigit",t.passwordComplexitySetting.requireDigit)("requireLowercase",t.passwordComplexitySetting.requireLowercase)("requireUppercase",t.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",t.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",t.passwordComplexitySetting.requiredLength)}}function Ze(n,a){if(1&n&&(e.TgZ(0,"ul",60)(1,"li",43),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.TgZ(4,"li",43),e._uU(5),e.ALo(6,"localize"),e.qZA(),e.TgZ(7,"li",43),e._uU(8),e.ALo(9,"localize"),e.qZA(),e.TgZ(10,"li",43),e._uU(11),e.ALo(12,"localize"),e.qZA(),e.TgZ(13,"li",43),e._uU(14),e.ALo(15,"localize"),e.qZA(),e.TgZ(16,"li",43),e._uU(17),e.ALo(18,"localize"),e.qZA()()),2&n){e.oxw();const t=e.MAs(1),o=e.oxw();e.xp6(1),e.Q6J("hidden",!t.controls.PasswordRepeat.errors.requireDigit),e.xp6(1),e.hij(" ",e.lcZ(3,12,"PasswordComplexity_RequireDigit_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.controls.PasswordRepeat.errors.requireLowercase),e.xp6(1),e.hij(" ",e.lcZ(6,14,"PasswordComplexity_RequireLowercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.controls.PasswordRepeat.errors.requireUppercase),e.xp6(1),e.hij(" ",e.lcZ(9,16,"PasswordComplexity_RequireUppercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.controls.PasswordRepeat.errors.requireNonAlphanumeric),e.xp6(1),e.hij(" ",e.lcZ(12,18,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.controls.PasswordRepeat.errors.requiredLength),e.xp6(1),e.hij(" ",e.xi3(15,20,"PasswordComplexity_RequiredLength_Hint",o.passwordComplexitySetting.requiredLength)," "),e.xp6(2),e.Q6J("hidden",t.controls.PasswordRepeat.valid),e.xp6(1),e.hij(" ",e.lcZ(18,23,"PasswordsDontMatch")," ")}}function Ue(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save())}),e.TgZ(2,"div",7)(3,"h4",8),e.YNc(4,me,3,4,"span",9),e.YNc(5,ue,3,3,"span",9),e.qZA(),e.TgZ(6,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.close())}),e.qZA()(),e.TgZ(7,"div",11)(8,"div",12)(9,"div",13)(10,"div",14)(11,"label",15),e._uU(12),e.ALo(13,"localize"),e.qZA(),e.YNc(14,ge,5,4,"div",16),e.qZA(),e.TgZ(15,"div",17)(16,"label",15),e._uU(17),e.ALo(18,"localize"),e.qZA(),e.TgZ(19,"input",18,19),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.user.name=i)}),e.qZA(),e._UZ(21,"validation-messages",20),e.qZA(),e.TgZ(22,"div",17)(23,"label",21),e._uU(24),e.ALo(25,"localize"),e.qZA(),e.TgZ(26,"input",22,23),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.user.surname=i)}),e.qZA(),e._UZ(28,"validation-messages",20),e.qZA()()(),e.TgZ(29,"div",17)(30,"label",24),e._uU(31),e.ALo(32,"localize"),e.qZA(),e.TgZ(33,"input",25,26),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.user.emailAddress=i)}),e.qZA(),e.YNc(35,_e,2,0,"div",27),e._UZ(36,"validation-messages",20),e.qZA(),e.TgZ(37,"div",17)(38,"label",28),e._uU(39),e.ALo(40,"localize"),e.qZA(),e.TgZ(41,"input",29),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.user.phoneNumber=i)}),e.qZA()(),e.TgZ(42,"div",17)(43,"label",30),e._uU(44),e.ALo(45,"localize"),e.qZA(),e.TgZ(46,"div",31)(47,"input",32,33),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.user.userName=i)}),e.qZA(),e.TgZ(49,"span",34),e.ALo(50,"localize"),e._UZ(51,"i",35),e.qZA()(),e.YNc(52,he,3,3,"span",36),e._UZ(53,"validation-messages",20),e.qZA(),e.TgZ(54,"div",17)(55,"label",37),e._uU(56," Country"),e.qZA(),e.TgZ(57,"div",38)(58,"p-autoComplete",39),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.country=i)})("completeMethod",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.filterCountries(i))}),e.qZA()()(),e.TgZ(59,"div",17)(60,"label",40),e._uU(61,"Interest"),e.qZA(),e.TgZ(62,"div",38)(63,"p-autoComplete",41),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.interests=i)})("completeMethod",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.filterInterests(i))}),e.qZA()()(),e.YNc(64,fe,7,10,"div",42),e.TgZ(65,"div",43),e.YNc(66,xe,16,21,"ul",44),e.qZA(),e.YNc(67,Ce,7,10,"div",42),e.TgZ(68,"div",43),e.YNc(69,Ze,19,25,"ul",44),e.qZA(),e.TgZ(70,"label",45)(71,"input",46),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.user.isActive=i)}),e.qZA(),e.TgZ(72,"span",47),e._uU(73),e.ALo(74,"localize"),e.qZA()()(),e.TgZ(75,"div",48)(76,"button",49),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.close())}),e._uU(77),e.ALo(78,"localize"),e.qZA(),e.TgZ(79,"button",50),e._UZ(80,"i",51),e.TgZ(81,"span"),e._uU(82),e.ALo(83,"localize"),e.qZA()()()()}if(2&n){const t=e.MAs(1),o=e.MAs(20),i=e.MAs(27),r=e.MAs(34),u=e.MAs(48),l=e.oxw();e.xp6(4),e.Q6J("ngIf",l.user.id),e.xp6(1),e.Q6J("ngIf",!l.user.id),e.xp6(1),e.Q6J("disabled",l.saving),e.uIk("aria-label",l.l("Close")),e.xp6(6),e.Oqu(e.lcZ(13,45,"Role")),e.xp6(2),e.Q6J("ngForOf",l.roles),e.xp6(3),e.Oqu(e.lcZ(18,47,"FirstName")),e.xp6(2),e.Q6J("ngModel",l.user.name),e.xp6(2),e.Q6J("formCtrl",o),e.xp6(3),e.Oqu(e.lcZ(25,49,"Surname")),e.xp6(2),e.Q6J("ngModel",l.user.surname),e.xp6(2),e.Q6J("formCtrl",i),e.xp6(3),e.Oqu(e.lcZ(32,51,"EmailAddress")),e.xp6(2),e.Q6J("ngModel",l.user.emailAddress),e.xp6(2),e.Q6J("ngIf",null==r.errors?null:r.errors.pattern),e.xp6(1),e.Q6J("formCtrl",r),e.xp6(3),e.Oqu(e.lcZ(40,53,"PhoneNumber")),e.xp6(2),e.Q6J("ngModel",l.user.phoneNumber),e.xp6(3),e.Oqu(e.lcZ(45,55,"UserName")),e.xp6(3),e.Q6J("disabled",!l.canChangeUserName)("ngModel",l.user.userName),e.xp6(2),e.s9C("tooltip",e.xi3(50,57,"AllowedUserNameCharactersInfoText",l.allowedUserNameCharacters)),e.xp6(3),e.Q6J("ngIf",!l.canChangeUserName),e.xp6(1),e.Q6J("formCtrl",u),e.xp6(5),e.Q6J("ngModel",l.country)("suggestions",l.filteredCountries)("minLength",1),e.xp6(5),e.Q6J("ngModel",l.interests)("suggestions",l.filteredInterests)("minLength",1)("multiple",!0),e.xp6(1),e.Q6J("ngIf",!l.setRandomPassword),e.xp6(1),e.Q6J("hidden",l.setRandomPassword||t.form.valid||t.form.pristine),e.xp6(1),e.Q6J("ngIf",t.controls.Password&&t.controls.Password.errors),e.xp6(1),e.Q6J("ngIf",!l.setRandomPassword),e.xp6(1),e.Q6J("hidden",l.setRandomPassword||t.form.valid||t.form.pristine),e.xp6(1),e.Q6J("ngIf",t.controls.PasswordRepeat&&t.controls.PasswordRepeat.errors),e.xp6(2),e.Q6J("ngModel",l.user.isActive),e.xp6(2),e.hij(" ",e.lcZ(74,60,"Active")," "),e.xp6(3),e.Q6J("disabled",l.saving),e.xp6(1),e.hij(" ",e.lcZ(78,62,"Cancel")," "),e.xp6(2),e.Q6J("disabled",!t.form.valid||0==l.getAssignedRoleCount()||0==(null==l.interests?null:l.interests.length))("buttonBusy",l.saving)("busyText",l.l("SavingWithThreeDot")),e.xp6(3),e.Oqu(e.lcZ(83,64,"Save"))}}const ve=function(n){return{backdrop:"static",keyboard:n}};let Ae=(()=>{class n extends Z.c{constructor(t,o,i,r,u){super(t),this._userService=o,this._profileService=i,this._interestsService=r,this._countryService=u,this.modalSave=new e.vpe,this.isRoleSelected=!1,this.active=!1,this.saving=!1,this.canChangeUserName=!0,this.canChangeProfilePicture=!1,this.isTwoFactorEnabled=this.setting.getBoolean("Abp.Zero.UserManagement.TwoFactorLogin.IsEnabled"),this.isLockoutEnabled=this.setting.getBoolean("Abp.Zero.UserManagement.UserLockOut.IsEnabled"),this.passwordComplexitySetting=new g.qSp,this.user=new g.rO3,this.sendActivationEmail=!1,this.setRandomPassword=!1,this.passwordComplexityInfo="",this.allowedUserNameCharacters="",this.isSMTPSettingsProvided=!1,this.userPasswordRepeat="",this.interests=new Array}filterInterests(t){this._interestsService.getInterestsList(t.query).subscribe(o=>{this.filteredInterests=o})}filterCountries(t){this._countryService.getCountriesList(t.query).subscribe(o=>{this.filteredCountries=o})}show(t){t?this.canChangeProfilePicture=this.permission.isGranted("Pages.Administration.Users.ChangeProfilePicture"):(this.active=!0,this.setRandomPassword=!1,this.sendActivationEmail=!1,this.canChangeProfilePicture=!1),this._userService.getUserForEdit(t).subscribe(o=>{this.user=o.user,this.country=o.user.country,this.roles=o.roles,this.canChangeUserName=this.user.userName!==f.g.userManagement.defaultAdminUserName,this.allowedUserNameCharacters=o.allowedUserNameCharacters,this.isSMTPSettingsProvided=o.isSMTPSettingsProvided,this.sendActivationEmail=o.isSMTPSettingsProvided,this.filterInterests(""),this.interests=o.interests,this.allOrganizationUnits=o.allOrganizationUnits,this.memberedOrganizationUnits=o.memberedOrganizationUnits,this.getProfilePicture(t),t&&(this.active=!0,setTimeout(()=>{this.setRandomPassword=!1},0),this.sendActivationEmail=!1),this._profileService.getPasswordComplexitySetting().subscribe(i=>{this.passwordComplexitySetting=i.setting,this.setPasswordComplexityInfo(),this.modal.show()})})}setPasswordComplexityInfo(){this.passwordComplexityInfo="<ul>",this.passwordComplexitySetting.requireDigit&&(this.passwordComplexityInfo+="<li>"+this.l("PasswordComplexity_RequireDigit_Hint")+"</li>"),this.passwordComplexitySetting.requireLowercase&&(this.passwordComplexityInfo+="<li>"+this.l("PasswordComplexity_RequireLowercase_Hint")+"</li>"),this.passwordComplexitySetting.requireUppercase&&(this.passwordComplexityInfo+="<li>"+this.l("PasswordComplexity_RequireUppercase_Hint")+"</li>"),this.passwordComplexitySetting.requireNonAlphanumeric&&(this.passwordComplexityInfo+="<li>"+this.l("PasswordComplexity_RequireNonAlphanumeric_Hint")+"</li>"),this.passwordComplexitySetting.requiredLength&&(this.passwordComplexityInfo+="<li>"+this.l("PasswordComplexity_RequiredLength_Hint",this.passwordComplexitySetting.requiredLength)+"</li>"),this.passwordComplexityInfo+="</ul>"}getProfilePicture(t){t?this._profileService.getProfilePictureByUser(t).subscribe(o=>{this.profilePicture=o&&o.profilePicture?"data:image/jpeg;base64,"+o.profilePicture:this.appRootUrl()+"assets/common/images/default-profile-picture.png"}):this.profilePicture=this.appRootUrl()+"assets/common/images/default-profile-picture.png"}onShown(){}save(){let t=new g.thj;t.user=this.user,t.setRandomPassword=this.setRandomPassword,t.sendActivationEmail=this.sendActivationEmail,t.assignedRoleNames=(0,se.Z)((0,Q.Z)(this.roles,{isAssigned:!0,inheritedFromOrganizationUnit:!1}),o=>o.roleName),t.interests=[],this.interests.forEach(o=>t.interests.push(parseInt(o.value))),this.country&&(t.countryId=parseInt(this.country.value)),this.saving=!0,this._userService.createOrUpdateUser(t).pipe((0,U.x)(()=>{this.saving=!1})).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.modalSave.emit(null)})}close(){this.active=!1,this.userPasswordRepeat="",this.modal.hide()}getAssignedRoleCount(){return(0,Q.Z)(this.roles,{isAssigned:!0}).length}unSelectOtherRoles(t){this.roles.forEach(o=>{t.roleId!=o.roleId&&(o.isAssigned=!1)})}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(e.zs3),e.Y36(g.wKd),e.Y36(g.qAB),e.Y36(g.n31),e.Y36(g.Q7h))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["createOrEditUserModal"]],viewQuery:function(o,i){if(1&o&&e.Gf(pe,7),2&o){let r;e.iGM(r=e.CRH())&&(i.modal=r.first)}},outputs:{modalSave:"modalSave"},features:[e.qOj],decls:5,vars:4,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","createOrEditModal","aria-hidden","true",1,"modal","fade","create-or-edit-user-modal",3,"config","onShown"],["createOrEditModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["novalidate","",3,"ngSubmit",4,"ngIf"],["novalidate","",3,"ngSubmit"],["userForm","ngForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],[1,"row"],[1,"col-sm-12"],[1,"mb-5","row"],["for","Name",1,"form-label","required"],["class","col-4","style","float: left;",4,"ngFor","ngForOf"],[1,"mb-5"],["id","Name","type","text","name","Name","required","","maxlength","64",1,"form-control",3,"ngModel","ngModelChange"],["nameInput","ngModel"],[3,"formCtrl"],["for","Surname",1,"form-label","required"],["id","Surname","type","text","name","Surname","required","","maxlength","64",1,"form-control",3,"ngModel","ngModelChange"],["surnameInput","ngModel"],["for","EmailAddress",1,"form-label","required"],["id","EmailAddress","type","email","name","EmailAddress","required","","maxlength","256","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$",1,"form-control",3,"ngModel","ngModelChange"],["emailAddressInput","ngModel"],["class","form-control-feedback",4,"ngIf"],["for","PhoneNumber",1,"form-label"],["id","PhoneNumber","type","text","name","PhoneNumber","maxlength","32",1,"form-control",3,"ngModel","ngModelChange"],["for","UserName",1,"form-label","required"],[1,"input-group"],["id","UserName","type","text","name","UserName","required","","maxlength","256",1,"form-control",3,"disabled","ngModel","ngModelChange"],["userNameInput","ngModel"],[1,"input-group-text",3,"tooltip"],[1,"fas","fa-info-circle"],["class","form-text text-muted",4,"ngIf"],["for","SingleSelectInput",1,"form-label"],[1,"col-lg-12","col-md-12","col-sm-12"],["id","SingleSelectInput","field","name","placeholder","search for a country","name","SingleSelectInput","inputStyleClass","form-control","styleClass","w-100",3,"ngModel","suggestions","minLength","ngModelChange","completeMethod"],["for","MultiSelectInput",1,"form-label","required"],["field","name","placeholder","search for Interests","name","MultiSelectInput","id","MultiSelectInput","panelStyleClass","form-control","styleClass","w-100",3,"ngModel","suggestions","minLength","multiple","ngModelChange","completeMethod"],["class","mb-5",4,"ngIf"],[3,"hidden"],["class","help-block text-danger",4,"ngIf"],[1,"form-check","form-check-custom","form-check-solid","py-1"],["id","EditUser_IsActive","type","checkbox","name","IsActive",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"disabled","buttonBusy","busyText"],[1,"fa","fa-save"],[1,"col-4",2,"float","left"],["type","checkbox",1,"form-check-input",3,"id","name","ngModel","ngModelChange","click"],[1,"form-control-feedback"],[1,"form-text","text-muted"],[1,"right"],["for","Password",1,"form-label"],["id","Password","type","password","name","Password","id","Password","maxlength","32","validateEqual","PasswordRepeat","reverse","true","autocomplete","new-password",1,"form-control",3,"ngModel","required","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength","ngModelChange"],["Password","ngModel"],[1,"help-block","text-danger"],["for","PasswordRepeat",1,"form-label"],["id","PasswordRepeat","type","password","name","PasswordRepeat","maxlength","32","validateEqual","Password","reverse","false","autocomplete","new-password",1,"form-control",3,"ngModel","required","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength","ngModelChange"],["PasswordRepeat","ngModel"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0,1),e.NdJ("onShown",function(){return i.onShown()}),e.TgZ(2,"div",2)(3,"div",3),e.YNc(4,Ue,84,66,"form",4),e.qZA()()()),2&o&&(e.Q6J("config",e.VKq(2,ve,!i.saving)),e.xp6(4),e.Q6J("ngIf",i.active))},dependencies:[x.sg,x.O5,c._Y,c.Fj,c.Wl,c.JJ,c.JL,c.Q7,c.nD,c.c5,c.On,c.F,ae.z,le.J,O.L,de.s,ce.Qc,z.Z,I.i9,h.F],styles:[".user-edit-dialog-profile-image{margin-bottom:20px}.create-or-edit-user-modal ul.nav-tabs li.nav-item a{min-height:38px!important}\n"],encapsulation:2})}return n})();var be=s(88922),ye=s(83410),Te=s(98155);const we=["createOrEditUserModal"],Me=["editUserPermissionsModal"],Pe=["dataTable"],qe=["paginator"],Ee=["ExcelFileUpload"],Se=["permissionFilterTreeModal"],Ne=["dynamicEntityPropertyManager"];function Le(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"li",47)(1,"a",52)(2,"span",53)(3,"p-fileUpload",54,55),e.NdJ("uploadHandler",function(i){e.CHM(t);const r=e.oxw(2);return e.KtG(r.uploadExcel(i))})("onError",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onUploadExcelError())}),e.ALo(5,"localize"),e.qZA()()()()}2&n&&(e.xp6(3),e.s9C("chooseLabel",e.lcZ(5,1,"ImportFromExcel")))}function Je(n,a){1&n&&e._UZ(0,"li",56)}function Ie(n,a){if(1&n&&(e.TgZ(0,"li",47)(1,"span",57),e._UZ(2,"small",58),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("innerHTML",t.l("ImportToExcelSampleFileDownloadInfo","<a href=/assets/sampleFiles/ImportUsersSampleFile.xlsx>"+t.l("ClickHere")+"</a>"),e.oJD)}}function ze(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"ul",46)(1,"li",47)(2,"a",48),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.exportToExcel())}),e._UZ(3,"i",49),e._uU(4),e.ALo(5,"localize"),e.qZA()(),e.YNc(6,Le,6,3,"li",50),e.ALo(7,"permission"),e.YNc(8,Je,1,0,"li",51),e.ALo(9,"permission"),e.YNc(10,Ie,3,1,"li",50),e.ALo(11,"permission"),e.qZA()}2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,4,"ExportToExcel")," "),e.xp6(2),e.Q6J("ngIf",e.lcZ(7,6,"Pages.Administration.Users.Create")),e.xp6(2),e.Q6J("ngIf",e.lcZ(9,8,"Pages.Administration.Users.Create")),e.xp6(2),e.Q6J("ngIf",e.lcZ(11,10,"Pages.Administration.Users.Create")))}function Oe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.createUser())}),e._UZ(1,"i",60),e.TgZ(2,"span",5),e._uU(3),e.ALo(4,"localize"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"CreateNewUser")," "))}function Qe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"div",20)(2,"role-combo",61),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.role=i)}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.role)}}function Re(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",62)(2,"button",63),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.getUsers())}),e._UZ(3,"i",64),e.TgZ(4,"span",5),e._uU(5),e.ALo(6,"localize"),e.qZA()()()()}2&n&&(e.xp6(5),e.hij(" ",e.lcZ(6,1,"Refresh")," "))}function He(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"span",65),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.advancedFiltersAreShown=!i.advancedFiltersAreShown)}),e._UZ(1,"i",66),e._uU(2),e.ALo(3,"localize"),e.qZA()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"ShowAdvancedFilters")," "))}function Fe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"span",65),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.advancedFiltersAreShown=!i.advancedFiltersAreShown)}),e._UZ(1,"i",67),e._uU(2),e.ALo(3,"localize"),e.qZA()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"HideAdvancedFilters")," "))}const R=function(){return["Pages.Administration.Users.Impersonation","Pages.Administration.Users.Edit","Pages.Administration.Users.ChangePermissions","Pages.Administration.Users.Delete"]};function ke(n,a){1&n&&(e.TgZ(0,"tr")(1,"th",68),e.ALo(2,"permissionAny"),e._uU(3),e.ALo(4,"localize"),e.qZA(),e.TgZ(5,"th",69),e._uU(6),e.ALo(7,"localize"),e._UZ(8,"p-sortIcon",70),e.qZA(),e.TgZ(9,"th",71),e._uU(10),e.ALo(11,"localize"),e._UZ(12,"p-sortIcon",72),e.qZA(),e.TgZ(13,"th",73),e._uU(14),e.ALo(15,"localize"),e._UZ(16,"p-sortIcon",74),e.qZA(),e.TgZ(17,"th",75),e._uU(18),e.ALo(19,"localize"),e.qZA(),e.TgZ(20,"th",76),e._uU(21),e.ALo(22,"localize"),e._UZ(23,"p-sortIcon",77),e.qZA(),e.TgZ(24,"th",78),e._uU(25),e.ALo(26,"localize"),e._UZ(27,"p-sortIcon",79),e.qZA(),e.TgZ(28,"th",80),e._uU(29),e.ALo(30,"localize"),e._UZ(31,"p-sortIcon",81),e.qZA(),e.TgZ(32,"th",82),e._uU(33),e.ALo(34,"localize"),e._UZ(35,"p-sortIcon",83),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("hidden",!e.lcZ(2,10,e.DdM(30,R))),e.xp6(2),e.hij(" ",e.lcZ(4,12,"Actions")," "),e.xp6(3),e.hij(" ",e.lcZ(7,14,"UserName")," "),e.xp6(4),e.hij(" ",e.lcZ(11,16,"Name")," "),e.xp6(4),e.hij(" ",e.lcZ(15,18,"Surname")," "),e.xp6(4),e.hij(" ",e.lcZ(19,20,"Roles")," "),e.xp6(3),e.hij(" ",e.lcZ(22,22,"EmailAddress")," "),e.xp6(4),e.hij(" ",e.lcZ(26,24,"EmailConfirm")," "),e.xp6(4),e.hij(" ",e.lcZ(30,26,"Active")," "),e.xp6(4),e.hij(" ",e.lcZ(34,28,"CreationTime")," "))}function je(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"li",47)(1,"a",101),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit;e.oxw();const r=e.MAs(58);return e.KtG(r.show(i.id))}),e._uU(2),e.ALo(3,"localize"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Edit")," "))}function De(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"li",47)(1,"a",101),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,r=e.oxw();return e.KtG(r.unlockUser(i))}),e._uU(2),e.ALo(3,"localize"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Unlock")," "))}function Ge(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"li",47)(1,"a",101),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,r=e.oxw();return e.KtG(r.showDynamicProperties(i))}),e._uU(2),e.ALo(3,"localize"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"DynamicProperties")," "))}function Ye(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"li",47)(1,"a",101),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,r=e.oxw();return e.KtG(r.deleteUser(i))}),e._uU(2),e.ALo(3,"localize"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Delete")," "))}function Ke(n,a){if(1&n&&(e.TgZ(0,"ul",100),e.YNc(1,je,4,3,"li",50),e.ALo(2,"permission"),e.YNc(3,De,4,3,"li",50),e.ALo(4,"permission"),e.YNc(5,Ge,4,3,"li",50),e.YNc(6,Ye,4,3,"li",50),e.ALo(7,"permission"),e.qZA()),2&n){const t=e.oxw().$implicit;e.oxw();const o=e.MAs(62);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,4,"Pages.Administration.Users.Edit")),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,6,t.lockoutEndDateUtc&&"Pages.Administration.Users.Unlock")),e.xp6(2),e.Q6J("ngIf",o.canShow("Minimates.Authorization.Users.User")),e.xp6(1),e.Q6J("ngIf",e.lcZ(7,8,"Pages.Administration.Users.Delete"))}}function Be(n,a){1&n&&e._UZ(0,"i",102)}function Ve(n,a){1&n&&(e.TgZ(0,"span",103),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Yes")," "))}function $e(n,a){1&n&&(e.TgZ(0,"span",104),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No")," "))}function We(n,a){1&n&&(e.TgZ(0,"span",103),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Yes")," "))}function Xe(n,a){1&n&&(e.TgZ(0,"span",104),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No")," "))}function et(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",68),e.ALo(2,"permissionAny"),e.TgZ(3,"div",84)(4,"button",85),e._UZ(5,"i",86)(6,"span",87),e._uU(7),e.ALo(8,"localize"),e.qZA(),e.YNc(9,Ke,8,10,"ul",88),e.qZA()(),e.TgZ(10,"td",75)(11,"span",89),e._uU(12),e.ALo(13,"localize"),e.qZA(),e.TgZ(14,"div",90)(15,"a",91),e._UZ(16,"img",92),e.qZA(),e.TgZ(17,"span",93),e._uU(18),e.YNc(19,Be,1,0,"i",94),e.qZA()()(),e.TgZ(20,"td",75)(21,"span",89),e._uU(22),e.ALo(23,"localize"),e.qZA(),e._uU(24),e.qZA(),e.TgZ(25,"td",75)(26,"span",89),e._uU(27),e.ALo(28,"localize"),e.qZA(),e._uU(29),e.qZA(),e.TgZ(30,"td",75)(31,"span",89),e._uU(32),e.ALo(33,"localize"),e.qZA(),e._uU(34),e.qZA(),e.TgZ(35,"td",95)(36,"span",89),e._uU(37),e.ALo(38,"localize"),e.qZA(),e._uU(39),e.qZA(),e.TgZ(40,"td",96)(41,"span",89),e._uU(42),e.ALo(43,"localize"),e.qZA(),e.YNc(44,Ve,3,3,"span",97),e.YNc(45,$e,3,3,"span",98),e.qZA(),e.TgZ(46,"td",99)(47,"span",89),e._uU(48),e.ALo(49,"localize"),e.qZA(),e.YNc(50,We,3,3,"span",97),e.YNc(51,Xe,3,3,"span",98),e.qZA(),e.TgZ(52,"td",96)(53,"span",89),e._uU(54),e.ALo(55,"localize"),e.qZA(),e._uU(56),e.ALo(57,"luxonFormat"),e.qZA()()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(1),e.Q6J("hidden",!e.lcZ(2,24,e.DdM(47,R))),e.xp6(6),e.hij(" ",e.lcZ(8,26,"Actions")," "),e.xp6(5),e.Oqu(e.lcZ(13,28,"UserName")),e.xp6(3),e.Q6J("href",t.profilePictureUrl,e.LSH),e.xp6(1),e.Q6J("src",t.profilePictureUrl,e.LSH),e.xp6(1),e.s9C("tooltip",t.userName),e.xp6(1),e.hij(" ",t.userName," "),e.xp6(1),e.Q6J("ngIf",o.isUserLocked(t)),e.xp6(3),e.Oqu(e.lcZ(23,30,"FirstName")),e.xp6(2),e.hij(" ",t.name," "),e.xp6(3),e.Oqu(e.lcZ(28,32,"Surname")),e.xp6(2),e.hij(" ",t.surname," "),e.xp6(3),e.Oqu(e.lcZ(33,34,"Roles")),e.xp6(2),e.hij(" ",o.getRolesAsString(t.roles)," "),e.xp6(3),e.Oqu(e.lcZ(38,36,"EmailAddress")),e.xp6(2),e.hij(" ",t.emailAddress," "),e.xp6(3),e.Oqu(e.lcZ(43,38,"EmailConfirm")),e.xp6(2),e.Q6J("ngIf",t.isEmailConfirmed),e.xp6(1),e.Q6J("ngIf",!t.isEmailConfirmed),e.xp6(3),e.Oqu(e.lcZ(49,40,"Active")),e.xp6(2),e.Q6J("ngIf",t.isActive),e.xp6(1),e.Q6J("ngIf",!t.isActive),e.xp6(3),e.Oqu(e.lcZ(55,42,"CreationTime")),e.xp6(2),e.hij(" ",e.xi3(57,44,t.creationTime,"F")," ")}}function tt(n,a){1&n&&(e.TgZ(0,"div",105),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"NoData")," "))}const ot=function(n,a){return{"col-md-6":n,"col-md-12":a}},it=function(){return{"min-width":"50rem"}},nt=[{path:"",component:(()=>{class n extends Z.c{constructor(t,o,i,r,u,l,dt,ct){super(t),this._impersonationService=o,this._userServiceProxy=i,this._fileDownloadService=r,this._activatedRoute=u,this._httpClient=l,this._localStorageService=dt,this._dateTimeService=ct,this.advancedFiltersAreShown=!1,this.filterText="",this.role="",this.onlyLockedUsers=!1,this.filterText=this._activatedRoute.snapshot.queryParams.filterText||"",this.uploadUrl=f.g.remoteServiceBaseUrl+"/Users/ImportFromExcel"}ngAfterViewInit(){this.primengTableHelper.adjustScroll(this.dataTable)}getUsers(t){this.primengTableHelper.shouldResetPaging(t)&&(this.paginator.changePage(0),this.primengTableHelper.records&&this.primengTableHelper.records.length>0)||(this.primengTableHelper.showLoadingIndicator(),this._userServiceProxy.getUsers(new g.Yod({filter:this.filterText,permissions:this.permissionFilterTreeModal.getSelectedPermissions(),role:""!==this.role?parseInt(this.role):void 0,onlyLockedUsers:this.onlyLockedUsers,sorting:this.primengTableHelper.getSorting(this.dataTable),maxResultCount:this.primengTableHelper.getMaxResultCount(this.paginator,t),skipCount:this.primengTableHelper.getSkipCount(this.paginator,t)})).pipe((0,U.x)(()=>this.primengTableHelper.hideLoadingIndicator())).subscribe(o=>{this.primengTableHelper.totalRecordsCount=o.totalCount,this.primengTableHelper.records=o.items,this.setUsersProfilePictureUrl(this.primengTableHelper.records),this.primengTableHelper.hideLoadingIndicator()}))}unlockUser(t){this._userServiceProxy.unlockUser(new g.QJI({id:t.id})).subscribe(()=>{this.notify.success(this.l("UnlockedTheUser",t.userName)),this.reloadPage()})}getRolesAsString(t){let o="";for(let i=0;i<t.length;i++)o.length&&(o+=", "),o+=t[i].roleName;return o}reloadPage(){this.paginator.changePage(this.paginator.getPage())}exportToExcel(){this._userServiceProxy.getUsersToExcel(this.filterText,this.permissionFilterTreeModal.getSelectedPermissions(),""!==this.role?parseInt(this.role):void 0,this.onlyLockedUsers,this.primengTableHelper.getSorting(this.dataTable)).subscribe(t=>{this._fileDownloadService.downloadTempFile(t)})}createUser(){this.createOrEditUserModal.show()}uploadExcel(t){const o=new FormData,i=t.files[0];o.append("file",i,i.name),this._httpClient.post(this.uploadUrl,o).pipe((0,U.x)(()=>this.excelFileUpload.clear())).subscribe(r=>{r.success?this.notify.success(this.l("ImportUsersProcessStart")):null!=r.error&&this.notify.error(this.l("ImportUsersUploadFailed"))})}onUploadExcelError(){this.notify.error(this.l("ImportUsersUploadFailed"))}deleteUser(t){t.userName!==f.g.userManagement.defaultAdminUserName?this.message.confirm(this.l("UserDeleteWarningMessage",t.userName),this.l("AreYouSure"),o=>{o&&this._userServiceProxy.deleteUser(t.id).subscribe(()=>{this.reloadPage(),this.notify.success(this.l("SuccessfullyDeleted"))})}):this.message.warn(this.l("{0}UserCannotBeDeleted",f.g.userManagement.defaultAdminUserName))}showDynamicProperties(t){this.dynamicEntityPropertyManager.getModal().show("Minimates.Authorization.Users.User",t.id.toString())}setUsersProfilePictureUrl(t){for(let o=0;o<t.length;o++){let i=t[o];this._localStorageService.getItem(f.g.authorization.encrptedAuthTokenName,function(r,u){let l=f.g.remoteServiceBaseUrl+"/Profile/GetProfilePictureByUser?userId="+i.id+"&"+f.g.authorization.encrptedAuthTokenName+"="+encodeURIComponent(u.token);i.profilePictureUrl=l})}}isUserLocked(t){return!!t.lockoutEndDateUtc&&this._dateTimeService.changeDateTimeZone(t.lockoutEndDateUtc,"UTC")>this._dateTimeService.getUTCDate()}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(e.zs3),e.Y36(y.h),e.Y36(g.wKd),e.Y36(q._),e.Y36(v.gz),e.Y36(E.eN),e.Y36(S.n),e.Y36(N.C))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(o,i){if(1&o&&(e.Gf(we,7),e.Gf(Me,7),e.Gf(Pe,7),e.Gf(qe,7),e.Gf(Ee,5),e.Gf(Se,7),e.Gf(Ne,7)),2&o){let r;e.iGM(r=e.CRH())&&(i.createOrEditUserModal=r.first),e.iGM(r=e.CRH())&&(i.editUserPermissionsModal=r.first),e.iGM(r=e.CRH())&&(i.dataTable=r.first),e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.excelFileUpload=r.first),e.iGM(r=e.CRH())&&(i.permissionFilterTreeModal=r.first),e.iGM(r=e.CRH())&&(i.dynamicEntityPropertyManager=r.first)}},features:[e.qOj],decls:63,vars:56,consts:[[3,"title","description"],["role","actions"],["dropdown","","placement","button right",1,"btn-group"],["id","dropdownButtonExcelOperations","dropdownToggle","","type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false","aria-controls","dropdownMenuExcelOperations",1,"btn","btn-outline","btn-outline-success","btn-active-light-success","dropdown-toggle","me-1"],[1,"far","fa-file-excel","btn-md-icon"],[1,"d-none","d-md-inline-block"],["id","dropdownMenuExcelOperations","class","dropdown-menu dropdown-menu-right dropdown-excel-operations","role","menu","aria-labelledby","dropdownButtonExcelOperations",4,"dropdownMenu"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","card-custom","gutter-b"],[1,"card-body"],["autocomplete","new-password",1,"form"],[1,"row","align-items-center","mb-4"],[1,"col-xl-12"],[1,"mb-5","m-form__group","align-items-center"],[1,"input-group"],["name","filterText","autoFocus","","type","text",1,"form-control","m-input",3,"ngModel","placeholder","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"flaticon-search-1"],[1,"row","mb-4",3,"hidden"],[3,"ngClass"],[1,"mb-5"],[3,"disableCascade","onModalclose"],["permissionFilterTreeModal",""],["class","col-md-6",4,"ngIf"],[1,"col-md-6"],[1,"form-check","form-check-custom","form-check-solid","form-switch","py-1"],["id","UsersTable_OnlyLockedUsers","type","checkbox","name","OnlyLockedUsers",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],["class","row mb-4",4,"ngIf"],[1,"row","mb-4"],[1,"col-sm-12"],["class","clickable-item text-muted",3,"click",4,"ngIf"],[1,"row","align-items-center"],[1,"primeng-datatable-container",3,"busyIf"],["sortMode","multiple","ScrollWidth","100%","scrollDirection","horizontal",3,"value","rows","paginator","lazy","scrollable","tableStyle","resizableColumns","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"primeng-paging-container"],[3,"rows","totalRecords","rowsPerPageOptions","showCurrentPageReport","currentPageReportTemplate","onPageChange"],["paginator",""],[3,"modalSave"],["createOrEditUserModal",""],["editUserPermissionsModal",""],["dynamicEntityPropertyManager",""],["id","dropdownMenuExcelOperations","role","menu","aria-labelledby","dropdownButtonExcelOperations",1,"dropdown-menu","dropdown-menu-right","dropdown-excel-operations"],["role","menuitem"],["id","ExportUsersToExcelButton","href","javascript:;",1,"dropdown-item","text-dark",3,"click"],[1,"fa","fa-download","me-2","mt-1","text-dark",2,"font-size","1rem"],["role","menuitem",4,"ngIf"],["class","divider dropdown-divider",4,"ngIf"],["href","javascript:;",1,"no-padding"],[1,"fileinput-button"],["customUpload","true","name","ExcelFileUpload","maxFileSize","10000000","auto","auto","accept",".csv,.xls,.xlsx",3,"chooseLabel","uploadHandler","onError"],["ExcelFileUpload",""],[1,"divider","dropdown-divider"],["href","#",1,"dropdown-item-text","text-muted","pl-3"],[3,"innerHTML"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus","btn-md-icon"],["name","roleFilter",3,"ngModel","ngModelChange"],[1,"col-sm-12","text-end"],[1,"btn","btn-primary","float-end",3,"click"],[1,"fa","fa-sync","btn-md-icon"],[1,"clickable-item","text-muted",3,"click"],[1,"fa","fa-angle-down"],[1,"fa","fa-angle-up"],[2,"min-width","130px",3,"hidden"],["pSortableColumn","username",2,"min-width","150px"],["field","username"],["pSortableColumn","name",2,"min-width","150px"],["field","name"],["pSortableColumn","surname",2,"min-width","150px"],["field","surname"],[2,"min-width","150px"],["pSortableColumn","emailAddress",2,"min-width","250px"],["field","emailAddress"],["pSortableColumn","isEmailConfirmed",2,"min-width","200px"],["field","isEmailConfirmed"],["pSortableColumn","isActive",2,"min-width","100px"],["field","isActive"],["pSortableColumn","creationTime",2,"min-width","200px"],["field","creationTime"],["dropdown","","placement","bottom left","container","body",1,"btn-group"],["id","dropdownButton","type","button","dropdownToggle","","aria-controls","dropdownMenu",1,"btn","btn-primary","btn-sm","dropdown-toggle"],[1,"fa","fa-cog"],[1,"caret"],["id","dropdownMenu","class","dropdown-menu","role","menu","aria-labelledby","dropdownButton",4,"dropdownMenu"],[1,"p-column-title"],[1,"w-100"],["target","_blank",1,"float-left",3,"href"],[1,"img-circle",3,"src"],[1,"hide-overflown",3,"tooltip"],["class","fas fa-lock ms-2",4,"ngIf"],[2,"min-width","250px"],[2,"min-width","200px"],["class","badge badge-success",4,"ngIf"],["class","badge badge-dark",4,"ngIf"],[2,"min-width","100px"],["id","dropdownMenu","role","menu","aria-labelledby","dropdownButton",1,"dropdown-menu"],["href","javascript:;",1,"dropdown-item",3,"click"],[1,"fas","fa-lock","ms-2"],[1,"badge","badge-success"],[1,"badge","badge-dark"],[1,"primeng-no-data"]],template:function(o,i){1&o&&(e.TgZ(0,"div")(1,"sub-header",0),e.ALo(2,"localize"),e.ALo(3,"localize"),e.TgZ(4,"div",1)(5,"div",2)(6,"button",3),e._UZ(7,"i",4),e.TgZ(8,"span",5),e._uU(9),e.ALo(10,"localize"),e.qZA()(),e.YNc(11,ze,12,12,"ul",6),e.qZA(),e.YNc(12,Oe,5,3,"button",7),e.ALo(13,"permission"),e.qZA()(),e.TgZ(14,"div")(15,"div",8)(16,"div",9)(17,"form",10)(18,"div")(19,"div",11)(20,"div",12)(21,"div",13)(22,"div",14)(23,"input",15),e.NdJ("ngModelChange",function(u){return i.filterText=u}),e.qZA(),e.TgZ(24,"button",16),e.NdJ("click",function(){return i.getUsers()}),e._UZ(25,"i",17),e.qZA()()()()(),e.TgZ(26,"div",18)(27,"div",19),e.ALo(28,"permission"),e.ALo(29,"permission"),e.TgZ(30,"div",20)(31,"permission-tree-modal",21,22),e.NdJ("onModalclose",function(){return i.getUsers()}),e.qZA()()(),e.YNc(33,Qe,3,1,"div",23),e.ALo(34,"permission"),e.TgZ(35,"div",24)(36,"label",25)(37,"input",26),e.NdJ("ngModelChange",function(u){return i.onlyLockedUsers=u}),e.qZA(),e.TgZ(38,"span",27),e._uU(39),e.ALo(40,"localize"),e.qZA()()()(),e.YNc(41,Re,7,3,"div",28),e.TgZ(42,"div",29)(43,"div",30),e.YNc(44,He,4,3,"span",31),e.YNc(45,Fe,4,3,"span",31),e.qZA()()()(),e.TgZ(46,"div",32)(47,"div",33)(48,"p-table",34,35),e.NdJ("onLazyLoad",function(u){return i.getUsers(u)}),e.YNc(50,ke,36,31,"ng-template",36),e.YNc(51,et,58,48,"ng-template",37),e.qZA(),e.YNc(52,tt,3,3,"div",38),e.TgZ(53,"div",39)(54,"p-paginator",40,41),e.NdJ("onPageChange",function(u){return i.getUsers(u)}),e.ALo(56,"localize"),e.qZA()()()()()()(),e.TgZ(57,"createOrEditUserModal",42,43),e.NdJ("modalSave",function(){return i.getUsers()}),e.qZA(),e._UZ(59,"editUserPermissionsModal",null,44)(61,"dynamic-entity-property-manager",null,45),e.qZA()),2&o&&(e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("title",e.lcZ(2,33,"Users"))("description",e.lcZ(3,35,"UsersHeaderInfo")),e.xp6(8),e.hij(" ",e.lcZ(10,37,"ExcelOperations")," "),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,39,"Pages.Administration.Users.Create")),e.xp6(2),e.Tol(i.containerClass),e.xp6(9),e.Q6J("ngModel",i.filterText)("placeholder",i.l("SearchWithThreeDot")),e.xp6(2),e.uIk("aria-label",i.l("Search")),e.xp6(1),e.Q6J("hidden",!i.advancedFiltersAreShown),e.xp6(1),e.Q6J("ngClass",e.WLB(52,ot,e.lcZ(28,41,"Pages.Administration.Roles"),!e.lcZ(29,43,"Pages.Administration.Roles"))),e.xp6(4),e.Q6J("disableCascade",!0),e.xp6(2),e.Q6J("ngIf",e.lcZ(34,45,"Pages.Administration.Roles")),e.xp6(4),e.Q6J("ngModel",i.onlyLockedUsers),e.xp6(2),e.hij(" ",e.lcZ(40,47,"OnlyLockedUsers")," "),e.xp6(2),e.Q6J("ngIf",i.advancedFiltersAreShown),e.xp6(3),e.Q6J("ngIf",!i.advancedFiltersAreShown),e.xp6(1),e.Q6J("ngIf",i.advancedFiltersAreShown),e.xp6(2),e.Q6J("busyIf",i.primengTableHelper.isLoading),e.xp6(1),e.s9C("rows",i.primengTableHelper.defaultRecordsCountPerPage),e.Q6J("value",i.primengTableHelper.records)("paginator",!1)("lazy",!0)("scrollable",!0)("tableStyle",e.DdM(55,it))("resizableColumns",i.primengTableHelper.resizableColumns),e.xp6(4),e.Q6J("ngIf",0==i.primengTableHelper.totalRecordsCount),e.xp6(2),e.Q6J("rows",i.primengTableHelper.defaultRecordsCountPerPage)("totalRecords",i.primengTableHelper.totalRecordsCount)("rowsPerPageOptions",i.primengTableHelper.predefinedRecordsCountPerPage)("showCurrentPageReport",!0)("currentPageReportTemplate",e.xi3(56,49,"TotalRecordsCount",i.primengTableHelper.totalRecordsCount)))},dependencies:[x.mk,x.O5,c._Y,c.Fj,c.Wl,c.JJ,c.JL,c.On,c.F,A.Hz,A.Mq,A.TO,L.h,J.U,d.iA,p.jx,d.lQ,d.fz,_.D,C,T.Z,I.i9,k.p,j.$,X,re,Ae,be.n,h.F,ye.a,Te.G],styles:[".dropdown-excel-operations .p-button{display:block;text-align:left;border-radius:0;transition:none!important;background-color:#fff;color:#181c32!important;font-size:13px!important;font-weight:400!important;margin:0;margin-right:0!important}.dropdown-excel-operations .p-fileupload-choose.p-button.p-state-hover,.p-fileupload-choose.p-button.p-state-focus,.p-fileupload-choose.p-button.p-state-active{background-color:#eee}.dropdown-excel-operations a:hover span.p-button,.dropdown-excel-operations a:hover div.p-fileupload-buttonbar.p-widget-header.p-corner-top{background-color:#f4f5f8!important}.dropdown-excel-operations a.no-padding{padding:0!important}.dropdown-excel-operations a .p-button-text{margin-left:5px!important}.dropdown-excel-operations .p-button-label{font-weight:inherit!important}.dropdown-excel-operations .p-fileupload-choose:not(.p-state-disabled){border:none}.dropdown-excel-operations .p-fileupload-choose:not(.p-state-disabled):hover,.dropdown-excel-operations .p-fileupload-choose:not(.p-state-disabled):focus,.dropdown-excel-operations .p-fileupload-choose:not(.p-state-disabled):active{background-color:#f4f5f8!important;color:#b2b1c5;box-shadow:none!important;border:none}.dropdown-excel-operations div.p-fileupload-buttonbar.p-widget-header.p-corner-top{border:none;background:#fff;padding-bottom:3px!important;padding-top:3px!important}.dropdown-excel-operations div.p-fileupload-content,.dropdown-excel-operations div.p-fileupload-content.p-widget-content.p-corner-bottom{display:none}.dropdown-excel-operations div.p-fileupload-buttonbar{border:none;padding:0}.dropdown-excel-operations div.p-fileupload-buttonbar.p-widget-header.p-corner-top:hover{background-color:#f4f5f8!important}.p-datatable img.img-circle{height:24px;margin-right:5px}#ExportUsersToExcelButton{padding-left:12px!important}.hide-overflown{display:inline-block;width:140px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;vertical-align:middle}\n"],encapsulation:2,data:{animation:[(0,P.MH)()]}})}return n})(),pathMatch:"full"}];let rt=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[v.Bz.forChild(nt),v.Bz]})}return n})();var H=s(77213);let st=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[H.DynamicEntityPropertyValueModule,H.DynamicEntityPropertyValueModule]})}return n})();var at=s(27355);let lt=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({providers:[y.h],imports:[M.o,w.g,rt,st,at.o]})}return n})()},43136:(F,b,s)=>{s.d(b,{Z:()=>J});var w=s(94138),M=s(45920);var P=s(14818);const e=function U(d,p){return p.length<2?d:(0,P.Z)(d,function Z(d,p,_){var h=-1,m=d.length;p<0&&(p=-p>m?0:m+p),(_=_>m?m:_)<0&&(_+=m),m=p>_?0:_-p>>>0,p>>>=0;for(var C=Array(m);++h<m;)C[h]=d[h+p];return C}(p,0,-1))};var y=s(77801);const E=function q(d,p){return p=(0,M.Z)(p,d),null==(d=e(d,p))||delete d[(0,y.Z)(function v(d){var p=null==d?0:d.length;return p?d[p-1]:void 0}(p))]};var S=s(19229),x=Array.prototype.splice;const J=function L(d,p){var _=[];if(!d||!d.length)return _;var h=-1,m=[],C=d.length;for(p=(0,w.Z)(p,3);++h<C;){var T=d[h];p(T,h,d)&&(_.push(T),m.push(h))}return function c(d,p){for(var _=d?p.length:0,h=_-1;_--;){var m=p[_];if(_==h||m!==C){var C=m;(0,S.Z)(m)?x.call(d,m,1):E(d,m)}}}(d,m),_}}}]);