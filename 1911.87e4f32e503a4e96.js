"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[1911],{55507:(pi,Gt,z)=>{z.d(Gt,{t:()=>n});let n=(()=>{class v{static#t=this.widgets={tenant:{profitShare:"Widgets_Tenant_ProfitShare",memberActivity:"Widgets_Tenant_MemberActivity",regionalStats:"Widgets_Tenant_RegionalStats",salesSummary:"Widgets_Tenant_SalesSummary",topStats:"Widgets_Tenant_TopStats",generalStats:"Widgets_Tenant_GeneralStats",dailySales:"Widgets_Tenant_DailySales"},host:{topStats:"Widgets_Host_TopStats",incomeStatistics:"Widgets_Host_IncomeStatistics",editionStatistics:"Widgets_Host_EditionStatistics",subscriptionExpiringTenants:"Widgets_Host_SubscriptionExpiringTenants",recentTenants:"Widgets_Host_RecentTenants"}};static#e=this.filters={filterDateRangePicker:"Filters_DateRangePicker"};static#i=this.dashboardNames={defaultTenantDashboard:"TenantDashboard",defaultHostDashboard:"HostDashboard"};static#n=this.Applications={Angular:"Angular"}}return v})()},84448:(pi,Gt,z)=>{z.d(Gt,{OE:()=>yi,Lb:()=>ci});var n=z(99468),v=z(41840),st=z(47530),rt=z(44328),gt=z(55507),tt=z(15673),r=z(78645),Z=z(9315),H=z(82296),et=z(81666),X=z(96814),ht=z(56223),qt=z(35024),Bt=z(72500),me=z(612),Pe=z(80890),Ce=z(24142),Lt=z(68989),ct=z(32925),Ve=z(3291);const _t=["addWidgetModal"];function It(R,Tt){if(1&R&&(n.TgZ(0,"option",18),n._uU(1),n.ALo(2,"localize"),n.qZA()),2&R){const A=Tt.$implicit;n.Q6J("value",A.id),n.xp6(1),n.hij(" ",n.lcZ(2,2,A.name)," ")}}function $i(R,Tt){if(1&R){const A=n.EpF();n.TgZ(0,"div",15)(1,"select",16),n.NdJ("ngModelChange",function(y){n.CHM(A);const h=n.oxw();return n.KtG(h.selectedWidgetId=y)}),n.YNc(2,It,3,4,"option",17),n.qZA()()}if(2&R){const A=n.oxw();n.xp6(1),n.Q6J("ngModel",A.selectedWidgetId),n.xp6(1),n.Q6J("ngForOf",A.widgets)}}function fi(R,Tt){1&R&&(n.TgZ(0,"div",15),n._uU(1),n.ALo(2,"localize"),n.qZA()),2&R&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"NoWidgetAvailableMessage")," "))}const At=function(){return{backdrop:"static"}};let ft=(()=>{class R extends v.c{constructor(A,F){super(A),this._dashboardCustomizationServiceProxy=F,this.onClose=new n.vpe,this.saving=!1}close(){this.onClose.emit(),this.hide()}save(){this.onClose.emit(this.selectedWidgetId),this.hide()}show(A,F){this._dashboardCustomizationServiceProxy.getAllAvailableWidgetDefinitionsForPage(A,gt.t.Applications.Angular,F).subscribe(y=>{this.widgets=y,this.selectedWidgetId=this.widgets&&this.widgets.length?this.widgets[0].id:null,this.modal.show()})}hide(){this.modal.hide()}static#t=this.\u0275fac=function(F){return new(F||R)(n.Y36(n.zs3),n.Y36(rt.hTT))};static#e=this.\u0275cmp=n.Xpm({type:R,selectors:[["add-widget-modal"]],viewQuery:function(F,y){if(1&F&&n.Gf(_t,7),2&F){let h;n.iGM(h=n.CRH())&&(y.modal=h.first)}},outputs:{onClose:"onClose"},features:[n.qOj],decls:24,vars:16,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade",3,"config"],["addWidgetModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[3,"ngSubmit"],["addWidgetModalForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["class","mb-5",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"disabled"],[1,"fa","fa-save"],[1,"mb-5"],["autoFocus","","size","1","name","selectedWidget",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(F,y){1&F&&(n.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"form",4,5),n.NdJ("ngSubmit",function(){return y.save()}),n.TgZ(6,"div",6)(7,"h5",7)(8,"span"),n._uU(9),n.ALo(10,"localize"),n.qZA()(),n.TgZ(11,"button",8),n.NdJ("click",function(){return y.close()}),n.qZA()(),n.TgZ(12,"div",9),n.YNc(13,$i,3,2,"div",10),n.YNc(14,fi,3,3,"div",10),n.qZA(),n.TgZ(15,"div",11)(16,"button",12),n.NdJ("click",function(){return y.close()}),n._uU(17),n.ALo(18,"localize"),n.qZA(),n.TgZ(19,"button",13),n._UZ(20,"i",14),n.TgZ(21,"span"),n._uU(22),n.ALo(23,"localize"),n.qZA()()()()()()()),2&F&&(n.Q6J("config",n.DdM(15,At)),n.xp6(9),n.Oqu(n.lcZ(10,9,"AddWidget")),n.xp6(2),n.uIk("aria-label",y.l("Close")),n.xp6(2),n.Q6J("ngIf",y.widgets&&y.widgets.length>0),n.xp6(1),n.Q6J("ngIf",!y.widgets||0==y.widgets.length),n.xp6(2),n.Q6J("disabled",y.saving),n.xp6(1),n.hij(" ",n.lcZ(18,11,"Cancel")," "),n.xp6(2),n.Q6J("disabled",y.saving),n.xp6(3),n.Oqu(n.lcZ(23,13,"Save")))},dependencies:[X.sg,X.O5,ht._Y,ht.YN,ht.Kr,ht.EJ,ht.JJ,ht.JL,ht.On,ht.F,ct.h,Ce.Z,Ve.F]})}return R})();const ii=["addWidgetModal"],Oe=["dashboardTabs"],ni=["filterModal"],si=["dropdownRenamePage"],be=["dropdownAddPage"];function se(R,Tt){if(1&R){const A=n.EpF();n.TgZ(0,"button",18),n.NdJ("click",function(){n.CHM(A),n.oxw();const y=n.MAs(14);return n.KtG(y.show())}),n._UZ(1,"i",19),n._uU(2),n.ALo(3,"localize"),n.qZA()}2&R&&(n.xp6(2),n.hij(" ",n.lcZ(3,1,"Filter")," "))}function ai(R,Tt){1&R&&(n.TgZ(0,"div",21)(1,"div",27)(2,"div",28),n._uU(3),n.ALo(4,"localize"),n.qZA()()()),2&R&&(n.xp6(3),n.hij(" ",n.lcZ(4,1,"Dashboard_NoPageDefined_Warning")," "))}function zt(R,Tt){1&R&&n.GkF(0)}function ae(R,Tt){if(1&R){const A=n.EpF();n.TgZ(0,"button",35),n.NdJ("click",function(){n.CHM(A);const y=n.oxw().$implicit,h=n.oxw(3);return n.KtG(h.removeItem(y.gridInformation))}),n._UZ(1,"i",36),n.qZA()}}function Rt(R,Tt){if(1&R){const A=n.EpF();n.TgZ(0,"gridster-item",32),n.NdJ("itemResize",function(){const h=n.CHM(A).$implicit,d=n.oxw(3);return n.KtG(d.onGridSterItemResize(h))}),n.YNc(1,zt,1,0,"ng-container",33),n.YNc(2,ae,2,0,"button",34),n.qZA()}if(2&R){const A=Tt.$implicit,F=n.oxw(3);n.Q6J("item",A.gridInformation),n.xp6(1),n.Q6J("ngComponentOutlet",A.component)("ngComponentOutletInjector",F.widgetSubjects[A.guid].injector),n.xp6(1),n.Q6J("ngIf",F.editModeEnabled)}}const ce=function(){return{wheelPropagation:!1}},we=function(R){return{"no-tab":R}};function Se(R,Tt){if(1&R){const A=n.EpF();n.TgZ(0,"tab",29),n.NdJ("selectTab",function(){const h=n.CHM(A).$implicit,d=n.oxw(2);return n.KtG(d.selectPageTab(h.id))}),n.TgZ(1,"gridster",30),n.YNc(2,Rt,3,4,"gridster-item",31),n.qZA()()}if(2&R){const A=Tt.$implicit,F=Tt.index,y=n.oxw(2);n.s9C("heading",A.name),n.xp6(1),n.Q6J("options",y.options[F])("perfectScrollOptions",n.DdM(5,ce))("ngClass",n.VKq(6,we,!y.moreThanOnePage())),n.xp6(1),n.Q6J("ngForOf",A.widgets)}}function ke(R,Tt){if(1&R){const A=n.EpF();n.TgZ(0,"ul",58)(1,"li",59)(2,"div",60)(3,"label",61),n._uU(4),n.ALo(5,"localize"),n.qZA(),n.TgZ(6,"input",62),n.NdJ("ngModelChange",function(y){n.CHM(A);const h=n.oxw(3);return n.KtG(h.addPageInput=y)}),n.qZA()(),n.TgZ(7,"button",63),n.NdJ("click",function(){n.CHM(A);const y=n.oxw(3);return n.KtG(y.addNewPage(y.addPageInput))}),n._uU(8),n.ALo(9,"localize"),n.qZA()()()}if(2&R){const A=n.oxw(3);n.xp6(4),n.Oqu(n.lcZ(5,3,"NewPageName")),n.xp6(2),n.Q6J("ngModel",A.addPageInput),n.xp6(2),n.hij(" ",n.lcZ(9,5,"Save")," ")}}function Ye(R,Tt){if(1&R){const A=n.EpF();n.TgZ(0,"ul",64)(1,"li",59)(2,"div",60)(3,"label",61),n._uU(4),n.ALo(5,"localize"),n.qZA(),n.TgZ(6,"input",65),n.NdJ("ngModelChange",function(y){n.CHM(A);const h=n.oxw(3);return n.KtG(h.renamePageInput=y)}),n.qZA()(),n.TgZ(7,"button",63),n.NdJ("click",function(){n.CHM(A);const y=n.oxw(3);return n.KtG(y.renamePage(y.renamePageInput))}),n._uU(8),n.ALo(9,"localize"),n.qZA()()()}if(2&R){const A=n.oxw(3);n.xp6(4),n.Oqu(n.lcZ(5,4,"PageNewName")),n.xp6(2),n.s9C("placeholder",A.selectedPage.name),n.Q6J("ngModel",A.renamePageInput),n.xp6(2),n.hij(" ",n.lcZ(9,6,"Save")," ")}}function Ae(R,Tt){1&R&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"localize"),n.qZA()),2&R&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"DeletePage")," "))}function pe(R,Tt){1&R&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"localize"),n.qZA()),2&R&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"BackToDefaultPage")," "))}function oi(R,Tt){1&R&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"localize"),n.qZA()),2&R&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"BackToDefaultPage")," "))}function We(R,Tt){if(1&R){const A=n.EpF();n.TgZ(0,"div",37)(1,"div",38)(2,"button",39),n.NdJ("click",function(){n.CHM(A);const y=n.oxw(2);return n.KtG(y.openAddWidgetModal())}),n._UZ(3,"i",40),n._uU(4),n.ALo(5,"localize"),n.qZA(),n._uU(6," \xa0 "),n.qZA(),n.TgZ(7,"div",41)(8,"div",42,43),n.NdJ("onShown",function(){n.CHM(A);const y=n.oxw(2);return n.KtG(y.addPageDropdownShown())}),n.TgZ(10,"button",44),n._UZ(11,"i",40),n._uU(12),n.ALo(13,"localize"),n._UZ(14,"span",45),n.qZA(),n.YNc(15,ke,10,7,"ul",46),n.qZA(),n.TgZ(16,"div",47,48),n.NdJ("onShown",function(){n.CHM(A);const y=n.oxw(2);return n.KtG(y.renamePageDropdownShown())}),n.TgZ(18,"button",49),n._UZ(19,"i",50),n._uU(20),n.ALo(21,"localize"),n._UZ(22,"span",45),n.qZA(),n.YNc(23,Ye,10,8,"ul",51),n.qZA(),n.TgZ(24,"button",52),n.NdJ("click",function(){n.CHM(A);const y=n.oxw(2);return n.KtG(y.deletePage())}),n._UZ(25,"i",53),n.YNc(26,Ae,3,3,"span",54),n.YNc(27,pe,3,3,"span",54),n.YNc(28,oi,3,3,"span",54),n.qZA(),n._uU(29," \xa0 "),n.qZA(),n.TgZ(30,"div",55)(31,"button",56),n.NdJ("click",function(){n.CHM(A);const y=n.oxw(2);return n.KtG(y.savePage())}),n._UZ(32,"i",57),n._uU(33),n.ALo(34,"localize"),n.qZA()()()}if(2&R){const A=n.oxw(2);n.xp6(2),n.Q6J("disabled",""===A.selectedPage.id),n.xp6(2),n.hij(" ",n.lcZ(5,14,"AddWidget")," "),n.xp6(4),n.Q6J("dropup",!0)("insideClick",!0),n.xp6(4),n.hij(" ",n.lcZ(13,16,"AddPage")," "),n.xp6(4),n.Q6J("dropup",!0)("insideClick",!0)("isDisabled",""===A.selectedPage.id),n.xp6(4),n.hij(" ",n.lcZ(21,18,"RenamePage")," "),n.xp6(4),n.Q6J("disabled",""===A.selectedPage.id),n.xp6(2),n.Q6J("ngIf",A.userDashboard&&A.userDashboard.pages.length>1),n.xp6(1),n.Q6J("ngIf",A.userDashboard&&1==A.userDashboard.pages.length),n.xp6(1),n.Q6J("ngIf",!A.userDashboard||0==A.userDashboard.pages.length),n.xp6(5),n.hij(" ",n.lcZ(34,20,"Save")," ")}}const fe=function(R){return{"nav-hidden":R}},ri=function(){return[]};function xe(R,Tt){if(1&R&&(n.TgZ(0,"div"),n.YNc(1,ai,5,3,"div",20),n.TgZ(2,"div",21)(3,"div",22)(4,"tabset",23,24),n.YNc(6,Se,3,8,"tab",25),n.qZA()(),n.YNc(7,We,35,22,"div",26),n.qZA()()),2&R){const A=n.oxw();n.Tol(A.containerClass),n.xp6(1),n.Q6J("ngIf",!(null!=A.userDashboard&&null!=A.userDashboard.pages&&A.userDashboard.pages.length)),n.xp6(3),n.Q6J("justified",!1)("ngClass",n.VKq(7,fe,!A.moreThanOnePage())),n.xp6(2),n.Q6J("ngForOf",(null==A.userDashboard?null:A.userDashboard.pages)||n.DdM(9,ri)),n.xp6(1),n.Q6J("ngIf",A.editModeEnabled)}}function Ge(R,Tt){if(1&R){const A=n.EpF();n.TgZ(0,"add-widget-modal",66,67),n.NdJ("onClose",function(y){n.CHM(A);const h=n.oxw();return n.KtG(h.addWidget(y))}),n.qZA()}}function li(R,Tt){1&R&&n.GkF(0)}function xi(R,Tt){1&R&&n._UZ(0,"hr")}function _i(R,Tt){if(1&R&&(n.TgZ(0,"div")(1,"div",21)(2,"h6",70),n._uU(3),n.ALo(4,"localize"),n.qZA(),n.TgZ(5,"div",27),n.YNc(6,li,1,0,"ng-container",71),n.qZA()(),n.YNc(7,xi,1,0,"hr",54),n.qZA()),2&R){const A=Tt.$implicit,F=Tt.index,y=n.oxw(2);n.xp6(3),n.Oqu(n.lcZ(4,3,A.name)),n.xp6(3),n.Q6J("ngComponentOutlet",A.component),n.xp6(1),n.Q6J("ngIf",F!=y.userDashboard.filters.length-1)}}function Yt(R,Tt){if(1&R&&(n.TgZ(0,"div",68),n.YNc(1,_i,8,5,"div",69),n.qZA()),2&R){const A=n.oxw();n.xp6(1),n.Q6J("ngForOf",A.userDashboard.filters)}}const ci=new n.OlP("WidgetOnResizeEventHandlerToken");let vi=(()=>{class R{constructor(){this.onResize=new r.x}static#t=this.\u0275fac=function(F){return new(F||R)};static#e=this.\u0275prov=n.Yz7({token:R,factory:R.\u0275fac})}return R})(),yi=(()=>{class R extends v.c{constructor(A,F,y,h){super(A),this._injector=A,this._dashboardViewConfiguration=F,this._dashboardCustomizationServiceProxy=y,this._guidGenerator=h,this.loading=!0,this.busy=!0,this.editModeEnabled=!1,this.options=[],this.selectedPage={id:"",name:""},this.renamePageInput="",this.addPageInput="",this.widgetSubjects={},this.onMenuToggle=()=>{this.refreshAllGrids()}}ngOnInit(){this.loading=!0,(0,Z.D)([this._dashboardCustomizationServiceProxy.getUserDashboard(this.dashboardName,gt.t.Applications.Angular),this._dashboardCustomizationServiceProxy.getDashboardDefinition(this.dashboardName,gt.t.Applications.Angular)]).subscribe(([A,F])=>(this.dashboardDefinition=F,this.dashboardDefinition.widgets&&0!==this.dashboardDefinition.widgets.length&&A.pages&&0!==A.pages.length?(this.initializeUserDashboardDefinition(A,F),this.initializeUserDashboardFilters(),this.userDashboard.pages?.length&&(this.selectedPage={id:this.userDashboard.pages[0].id,name:this.userDashboard.pages[0].name}),this.loading=!1,void(this.busy=!1)):(this.loading=!1,void(this.busy=!1)))),this.subscribeToEvent("app.kt_aside_toggler.onClick",this.onMenuToggle)}initializeUserDashboardDefinition(A,F){this.userDashboard={dashboardName:this.dashboardName,filters:[],pages:A.pages.map(y=>(this.options.push(this.getGridsterConfig()),y.widgets?(y.widgets=y.widgets.filter(h=>F.widgets.find(d=>d.id===h.widgetId)&&this.getWidgetViewDefinition(h.widgetId)),{id:y.id,name:y.name,widgets:y.widgets.map(h=>({id:h.widgetId,guid:this._guidGenerator.guid(),component:this.getWidgetViewDefinition(h.widgetId).component,gridInformation:{id:h.widgetId,cols:h.width,rows:h.height,x:h.positionX,y:h.positionY}}))}):{id:y.id,name:y.name,widgets:[]}))},this.createWidgetSubjects()}removeItem(A){let F=this.userDashboard.pages.find(d=>d.id===this.selectedPage.id),y=F.widgets.find(d=>d.id===A.id),h=this.dashboardDefinition.widgets.find(d=>d.id===A.id);!y||!h||this.message.confirm(this.l("WidgetDeleteWarningMessage",this.l(h.name),this.selectedPage.name),this.l("AreYouSure"),d=>{d&&F.widgets.splice(F.widgets.indexOf(y),1)})}addWidget(A){if(!A)return;let F=this._dashboardViewConfiguration.WidgetViewDefinitions.find(y=>y.id===A);F?(this.busy=!0,this._dashboardCustomizationServiceProxy.addWidget(new rt.z8o({widgetId:A,pageId:this.selectedPage.id,dashboardName:this.dashboardName,width:F.defaultWidth,height:F.defaultHeight,application:gt.t.Applications.Angular})).subscribe(y=>{const h={id:A,guid:this._guidGenerator.guid(),component:F.component,gridInformation:{id:A,cols:y.width,rows:y.height,x:y.positionX,y:y.positionY}};this.userDashboard.pages.find(d=>d.id===this.selectedPage.id).widgets.push(h),this.createWidgetSubject(h.guid),this.initializeUserDashboardFilters(),this.busy=!1,this.notify.success(this.l("SavedSuccessfully"))})):abp.notify.error(this.l("ThereIsNoViewConfigurationForX",A))}changeEditMode(){this.editModeEnabled=!this.editModeEnabled,this.refreshAllGrids()}refreshAllGrids(){this.options&&this.options.forEach(A=>{A.draggable.enabled=this.editModeEnabled,A.resizable.enabled=this.editModeEnabled,A.api.optionsChanged()})}openAddWidgetModal(){this.userDashboard.pages.find(F=>F.id===this.selectedPage.id)&&this.addWidgetModal.show(this.dashboardName,this.selectedPage.id)}addNewPage(A){A&&""!==A.trim()?(A=A.trim(),this.busy=!0,this._dashboardCustomizationServiceProxy.addNewPage(new rt.Zqn({dashboardName:this.dashboardName,name:A,application:gt.t.Applications.Angular})).subscribe(F=>{this.options.push(this.getGridsterConfig()),this.userDashboard.pages.push({id:F.pageId,name:A,widgets:[]}),this.busy=!1,this.notify.success(this.l("SavedSuccessfully")),""===this.selectedPage.id&&this.selectPageTab(F.pageId)}),this.dropdownAddPage.hide()):this.notify.warn(this.l("PageNameCanNotBeEmpty"))}selectPageTab(A){A?(this.selectedPage={id:A,name:this.userDashboard.pages.find(F=>F.id===A).name},this.options.forEach(F=>{F.api&&F.api.optionsChanged()})):this.selectedPage={id:"",name:""}}renamePage(A){if(!A||""===A)return void this.notify.warn(this.l("PageNameCanNotBeEmpty"));A=A.trim(),this.busy=!0;let F=this.selectedPage.id;this._dashboardCustomizationServiceProxy.renamePage(new rt.A6Z({dashboardName:this.dashboardName,id:F,name:A,application:gt.t.Applications.Angular})).subscribe(()=>{this.userDashboard.pages.find(h=>h.id===F).name=A,this.notify.success(this.l("Renamed")),this.busy=!1}),this.dropdownRenamePage.hide()}deletePage(){let A=this.l(this.userDashboard.pages.length>1?"PageDeleteWarningMessage":"BackToDefaultPageWarningMessage",this.selectedPage.name);this.message.confirm(A,this.l("AreYouSure"),F=>{F&&(this.busy=!0,this._dashboardCustomizationServiceProxy.deletePage(this.selectedPage.id,this.dashboardName,gt.t.Applications.Angular).subscribe(()=>{let y=this.userDashboard.pages.find(h=>h.id===this.selectedPage.id);this.options.pop(),this.userDashboard.pages.splice(this.userDashboard.pages.indexOf(y),1),this.activateFirstPage(),this.busy=!1,this.notify.success(this.l("SuccessfullyRemoved")),0===this.userDashboard.pages.length&&window.location.reload()}))})}activateFirstPage(){this.userDashboard.pages[0]?(setTimeout(()=>{this.dashboardTabs.tabs[0].active=!0},0),this.selectPageTab(this.userDashboard.pages[0].id),this.initializeUserDashboardFilters()):this.selectPageTab(null)}savePage(){this.busy=!0;let A=new rt.RDD({dashboardName:this.dashboardName,pages:this.userDashboard.pages.map(F=>new rt.T3C({id:F.id,name:F.name,widgets:F.widgets.map(y=>new rt.$LY({widgetId:y.gridInformation.id,height:y.gridInformation.rows,width:y.gridInformation.cols,positionX:y.gridInformation.x,positionY:y.gridInformation.y}))})),application:gt.t.Applications.Angular});this._dashboardCustomizationServiceProxy.savePage(A).subscribe(()=>{this.changeEditMode(),this.initializeUserDashboardFilters(),this.busy=!1,this.notify.success(this.l("SavedSuccessfully")),window.location.reload()})}moreThanOnePage(){return this.userDashboard&&this.userDashboard.pages&&this.userDashboard.pages.length>1}close(){this.modal.hide()}addPageDropdownShown(){this.addPageInput=""}renamePageDropdownShown(){this.renamePageInput=""}getWidgetViewDefinition(A){return this._dashboardViewConfiguration.WidgetViewDefinitions.find(F=>F.id===A)}getWidgetFilterViewDefinition(A){return this._dashboardViewConfiguration.widgetFilterDefinitions.find(F=>F.id===A)}initializeUserDashboardFilters(){let A=[];this.dashboardDefinition.widgets.filter(F=>null!=F.filters&&F.filters.length>0).forEach(F=>{this.userDashboard.pages&&this.userDashboard.pages.forEach(y=>{0!==y.widgets.filter(h=>h.id===F.id).length&&F.filters.forEach(h=>{A.find(d=>d.id===h.id)||A.push(h)})})}),this.userDashboard.filters=A.map(F=>{let y=this.getWidgetFilterViewDefinition(F.id);return y.name=F.name,y})}getGridsterConfig(){const A=tt.isRtlLang(abp.localization.currentLanguage.name);return{pushItems:!0,draggable:{enabled:this.editModeEnabled},resizable:{enabled:this.editModeEnabled},fixedRowHeight:30,fixedColWidth:30,gridType:"verticalFixed",dirType:A?"rtl":"ltr"}}onGridSterItemResize(A){this.editModeEnabled&&this.widgetSubjects[A.guid]&&this.widgetSubjects[A.guid].handler.onResize.next(null)}createWidgetSubjects(){for(let F=0;F<this.userDashboard.pages.length;F++){var A=this.userDashboard.pages[F];for(let y=0;y<A.widgets.length;y++)this.createWidgetSubject(A.widgets[y].guid)}}createWidgetSubject(A){var F=new vi;this.widgetSubjects[A]={handler:F,injector:n.zs3.create({providers:[{provide:ci,useValue:F}],parent:this._injector})}}static#t=this.\u0275fac=function(F){return new(F||R)(n.Y36(n.zs3),n.Y36(H.p),n.Y36(rt.hTT),n.Y36(et.d))};static#e=this.\u0275cmp=n.Xpm({type:R,selectors:[["customizable-dashboard"]],viewQuery:function(F,y){if(1&F&&(n.Gf(ii,5),n.Gf(Oe,5),n.Gf(ni,7),n.Gf(si,5),n.Gf(be,5)),2&F){let h;n.iGM(h=n.CRH())&&(y.addWidgetModal=h.first),n.iGM(h=n.CRH())&&(y.dashboardTabs=h.first),n.iGM(h=n.CRH())&&(y.modal=h.first),n.iGM(h=n.CRH())&&(y.dropdownRenamePage=h.first),n.iGM(h=n.CRH())&&(y.dropdownAddPage=h.first)}},inputs:{dashboardName:"dashboardName"},features:[n.qOj],decls:28,vars:22,consts:[[3,"title","description"],["role","actions",1,"d-flex","align-items-center"],["type","button","class","btn btn-light-primary btn-filter",3,"click",4,"ngIf"],[1,"form-check","form-check-custom","form-check-solid","form-switch"],["type","checkbox",1,"form-check-input",3,"checked","change"],[1,"form-check-label"],[3,"class",4,"ngIf"],[3,"onClose",4,"ngIf"],["appBsModal","","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade","filterModal"],["filterModal","bs-modal"],[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"click"],["type","button",1,"btn","btn-light-primary","btn-filter",3,"click"],[1,"fa","fa-filter"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-12",2,"z-index","0"],[3,"justified","ngClass"],["dashboardTabs",""],[3,"heading","selectTab",4,"ngFor","ngForOf"],["class","div-dashboard-customization d-flex w-auto shadow-lg",4,"ngIf"],[1,"col-md-12"],["role","alert",1,"alert","alert-warning"],[3,"heading","selectTab"],["perfectScrollbar","",3,"options","perfectScrollOptions","ngClass"],[3,"item","itemResize",4,"ngFor","ngForOf"],[3,"item","itemResize"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["class","btn btn-sm bg-danger deleteWidgetButton",3,"click",4,"ngIf"],[1,"btn","btn-sm","bg-danger","deleteWidgetButton",3,"click"],[1,"la","la-times","text-white"],[1,"div-dashboard-customization","d-flex","w-auto","shadow-lg"],[1,"me-1","border-right"],["type","button","id","AddWidgetButton",1,"btn","btn-sm","btn-warning","btn-elevate-hover","btn-pill",3,"disabled","click"],[1,"fa","fa-plus"],[1,"ms-1","me-1","border-right"],["dropdown","",1,"btn-group",3,"dropup","insideClick","onShown"],["dropdownAddPage","bs-dropdown"],["id","dropdownButtonAddPage","dropdownToggle","","type","button","aria-controls","dropdownMenuAddPage",1,"btn","btn-sm","btn-primary","dropdown-toggle","btn-elevate-hover","btn-pill"],[1,"caret"],["id","dropdownMenuAddPage","class","dropdown-menu p-10","role","menu","aria-labelledby","dropdownButtonAddPage",4,"dropdownMenu"],["dropdown","",1,"btn-group",3,"dropup","insideClick","isDisabled","onShown"],["dropdownRenamePage","bs-dropdown"],["id","dropdownButtonRenamePage","dropdownToggle","","type","button","aria-controls","dropdownMenuRenamePage",1,"btn","btn-sm","btn-info","btn-elevate-hover","btn-pill","dropdown-toggle"],[1,"fa","fa-edit"],["id","dropdownMenuRenamePage","class","dropdown-menu p-10","role","menu","aria-labelledby","dropdownButtonRenamePage",4,"dropdownMenu"],["id","DeletePageButton",1,"btn","btn-sm","btn-danger","btn-elevate-hover","btn-pill",3,"disabled","click"],[1,"fa","fa-trash"],[4,"ngIf"],[1,"ms-1"],["type","button",1,"btn","btn-sm","btn-success","btn-elevate-hover","btn-pill",3,"click"],[1,"fa","fa-save"],["id","dropdownMenuAddPage","role","menu","aria-labelledby","dropdownButtonAddPage",1,"dropdown-menu","p-10"],["role","menuitem"],[1,"mb-5"],[1,"form-label"],["type","text","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-sm","w-100","btn-info",3,"click"],["id","dropdownMenuRenamePage","role","menu","aria-labelledby","dropdownButtonRenamePage",1,"dropdown-menu","p-10"],["type","text",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[3,"onClose"],["addWidgetModal",""],[1,"modal-body"],[4,"ngFor","ngForOf"],[2,"margin-left","10px"],[4,"ngComponentOutlet"]],template:function(F,y){1&F&&(n.TgZ(0,"div")(1,"sub-header",0),n.ALo(2,"localize"),n.ALo(3,"localize"),n.TgZ(4,"div",1),n.YNc(5,se,4,3,"button",2),n.TgZ(6,"label",3)(7,"input",4),n.NdJ("change",function(){return y.changeEditMode()}),n.qZA(),n.TgZ(8,"span",5),n._uU(9),n.ALo(10,"localize"),n.qZA()()()(),n.YNc(11,xe,8,10,"div",6),n.YNc(12,Ge,2,0,"add-widget-modal",7),n.TgZ(13,"div",8,9)(15,"div",10)(16,"div",11)(17,"div",12)(18,"h5",13)(19,"span"),n._uU(20),n.ALo(21,"localize"),n.qZA()(),n.TgZ(22,"button",14),n.NdJ("click",function(){return y.close()}),n.qZA()(),n.YNc(23,Yt,2,1,"div",15),n.TgZ(24,"div",16)(25,"button",17),n.NdJ("click",function(){return y.close()}),n._uU(26),n.ALo(27,"localize"),n.qZA()()()()()()),2&F&&(n.Q6J("@routerTransition",void 0),n.xp6(1),n.Q6J("title",n.lcZ(2,12,"Dashboard"))("description",n.lcZ(3,14,"DashboardHeaderInfo")),n.xp6(4),n.Q6J("ngIf",!y.loading&&y.userDashboard&&y.userDashboard.filters&&y.userDashboard.filters.length>0),n.xp6(2),n.Q6J("checked",y.editModeEnabled),n.xp6(2),n.hij(" ",n.lcZ(10,16,"EditMode")," "),n.xp6(2),n.Q6J("ngIf",!y.loading),n.xp6(1),n.Q6J("ngIf",y.dashboardName),n.xp6(8),n.Oqu(n.lcZ(21,18,"DashboardFilters")),n.xp6(2),n.uIk("aria-label",y.l("Close")),n.xp6(1),n.Q6J("ngIf",y.userDashboard),n.xp6(3),n.hij(" ",n.lcZ(27,20,"Close")," "))},dependencies:[X.mk,X.$G,X.sg,X.O5,ht.Fj,ht.JJ,ht.On,qt.sm,qt.IM,Bt.Hz,Bt.Mq,Bt.TO,me.wW,me.AH,Pe.$,Ce.Z,Lt.$,ft,Ve.F],styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:24px;margin:0;top:0}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.deleteWidgetButton[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:22px;padding:0 7px!important;height:22px;border-radius:0 0 0 10px;box-shadow:none;outline:none;text-align:center;border:0!important;z-index:1002}gridster[_ngcontent-%COMP%]{height:calc(100vh - 300px);background:none}gridster.no-tab[_ngcontent-%COMP%]{height:calc(100vh - 230px)}[_nghost-%COMP%]     gridster .gridster-row{border-top:1px dotted #c1c1c1!important;border-bottom:1px dotted #c1c1c1!important}[_nghost-%COMP%]     gridster .gridster-column{border-left:1px dotted #c1c1c1!important;border-right:1px dotted #c1c1c1!important}.div-dashboard-customization[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:120;background-color:#cecece;border-radius:10px;padding:15px}.div-dashboard-customization[_ngcontent-%COMP%]   .vr[_ngcontent-%COMP%]{border-right:1px solid white;float:left;margin-right:8px}[_nghost-%COMP%]     tabset.nav-hidden .nav-tabs{display:none}[_nghost-%COMP%]     tabset .nav-tabs{padding-bottom:1px!important}.btn-filter[_ngcontent-%COMP%]{margin-right:8px}[_nghost-%COMP%]     gridster .kt-portlet{margin:0;height:100%}[_nghost-%COMP%]     gridster .kt-portlet__body{overflow:auto}.div-dashboard-customization[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 3px}.filterModal[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:10px}gridster-item[_ngcontent-%COMP%]{background:none}#dropdownMenuAddPage[_ngcontent-%COMP%], #dropdownMenuRenamePage[_ngcontent-%COMP%]{min-width:250px}.div-dashboard-customization[_ngcontent-%COMP%]   .border-right[_ngcontent-%COMP%]{border-right:1px solid white}#PagesDiv[_ngcontent-%COMP%]{margin-left:-20px}'],data:{animation:[(0,st.MH)()]}})}return R})()},1911:(pi,Gt,z)=>{z.d(Gt,{u:()=>Ce});var n=z(96814),v=z(82296),st=z(35024),rt=z(60357),gt=z(35732),tt=z(72500),r=z(12051),Z=z(56223),H=z(612),et=z(80890),X=z(60016),ht=z(32297),qt=z(68027),Bt=z(53279),me=z(58489),Pe=z(99468);let Ce=(()=>{class Lt{static#t=this.\u0275fac=function(_t){return new(_t||Lt)};static#e=this.\u0275mod=Pe.oAB({type:Lt});static#i=this.\u0275inj=Pe.cJS({providers:[v.p],imports:[n.ez,Z.u5,gt.A,st.IX,rt.NA,rt.vP,rt.Zk,rt.pT,tt.mr,r.zk,H.P4,et.X,X._,ht.k,qt.U$,Bt.kn,me.Q]})}return Lt})()},82296:(pi,Gt,z)=>{z.d(Gt,{p:()=>xs});class n{constructor(E,T,L=6,w=10){this.id=E,this.component=T,this.defaultWidth=L,this.defaultHeight=w}}class v{constructor(E,T){this.id=E,this.component=T}}var st=z(55507);class rt{constructor(){this.loading=!0}showLoading(){setTimeout(()=>{this.loading=!0})}hideLoading(){setTimeout(()=>{this.loading=!1})}}var gt=z(41840),tt=z(99080),r=z(99468);let Z=(()=>{class C extends gt.c{constructor(T){super(T),this.delay=300}runDelayed(T){this.timer&&!this.timer.closed&&this.timer.unsubscribe(),this.timer=(0,tt.H)(this.delay).subscribe(()=>{T()})}ngOnDestroy(){this.timer&&!this.timer.closed&&this.timer.unsubscribe(),super.ngOnDestroy()}static#t=this.\u0275fac=function(L){return new(L||C)(r.Y36(r.zs3))};static#e=this.\u0275cmp=r.Xpm({type:C,selectors:[["ng-component"]],features:[r.qOj],decls:0,vars:0,template:function(L,w){},encapsulation:2})}return C})();var H=z(44328),et=z(60357),X=z(80890);class ht extends rt{constructor(E){super(),this._dashboardService=E,this.data=[]}init(E,T,L){this.data=[{name:"Operations",value:E},{name:"New Visits",value:T},{name:"Bounce",value:L}],this.hideLoading()}reload(){this.showLoading(),this._dashboardService.getGeneralStats().subscribe(E=>{this.init(E.transactionPercent,E.newVisitPercent,E.bouncePercent)})}}let qt=(()=>{class C extends Z{constructor(T,L){super(T),this._dashboardService=L,this.generalStatsPieChart=new ht(this._dashboardService)}ngOnInit(){this.generalStatsPieChart.reload()}static#t=this.\u0275fac=function(L){return new(L||C)(r.Y36(r.zs3),r.Y36(H.AdH))};static#e=this.\u0275cmp=r.Xpm({type:C,selectors:[["app-widget-general-stats"]],features:[r.qOj],decls:12,vars:1,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title","align-items-start","flex-column"],[1,"fw-bolder","text-dark"],[1,"card-toolbar"],["href","javascript:;",1,"btn","btn-primary",3,"click"],[1,"fa","fa-redo"],["perfectScrollbar","",1,"card-body"],[1,"row",2,"max-height","200px"],[3,"results"]],template:function(L,w){1&L&&(r.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),r._uU(4,"General Stats"),r.qZA()(),r.TgZ(5,"div",4)(6,"a",5),r.NdJ("click",function(){return w.generalStatsPieChart.reload()}),r._UZ(7,"i",6),r._uU(8," Refresh "),r.qZA()()(),r.TgZ(9,"div",7)(10,"div",8),r._UZ(11,"ngx-charts-pie-grid",9),r.qZA()()()),2&L&&(r.xp6(11),r.Q6J("results",w.generalStatsPieChart.data))},dependencies:[et.Nm,X.$]})}return C})();function Bt(C,E){if(1&C&&(r.TgZ(0,"span"),r._uU(1),r.qZA(),r._UZ(2,"br"),r.TgZ(3,"span"),r._uU(4),r.qZA()),2&C){const T=E.model;r.xp6(1),r.hij("Day ",T.name,""),r.xp6(3),r.Oqu(T.value)}}class me extends rt{constructor(E){super(),this._dashboardService=E,this.scheme={name:"green",selectable:!0,group:"Ordinal",domain:["#34bfa3"]}}init(E){this.chartData=[];for(let T=0;T<E.length;T++)this.chartData.push({name:T+1,value:E[T]})}reload(){this.showLoading(),this._dashboardService.getDailySales().subscribe(E=>{this.init(E.dailySales),this.hideLoading()})}}let Pe=(()=>{class C extends Z{constructor(T,L){super(T),this._tenantdashboardService=L,this.dailySalesLineChart=new me(this._tenantdashboardService)}ngOnInit(){this.dailySalesLineChart.reload()}static#t=this.\u0275fac=function(L){return new(L||C)(r.Y36(r.zs3),r.Y36(H.AdH))};static#e=this.\u0275cmp=r.Xpm({type:C,selectors:[["app-widget-daily-sales"]],features:[r.qOj],decls:11,vars:2,consts:[[1,"card","card-custom"],[1,"card-header","align-items-center","border-0"],[1,"card-title","align-items-start","flex-column"],[1,"fw-bolder","text-dark"],["perfectScrollbar","",1,"card-body"],[1,"row"],[1,"col",2,"max-height","200px"],[3,"results","scheme"],["tooltipTemplate",""]],template:function(L,w){1&L&&(r.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),r._uU(4,"Daily Sales"),r.qZA()()(),r.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"ngx-charts-bar-vertical",7),r.YNc(9,Bt,5,2,"ng-template",null,8,r.W1O),r.qZA()()()()()),2&L&&(r.xp6(8),r.Q6J("results",w.dailySalesLineChart.chartData)("scheme",w.dailySalesLineChart.scheme))},dependencies:[et.K$,X.$]})}return C})();var Ce=z(84448),Lt=z(96814);const ct=function(C){return{backgroundColor:C}};function Ve(C,E){if(1&C&&(r.TgZ(0,"div"),r._UZ(1,"span",12),r.TgZ(2,"span"),r._uU(3),r.qZA()()),2&C){const T=E.$implicit;r.xp6(1),r.Q6J("ngStyle",r.VKq(3,ct,T.color)),r.xp6(2),r.AsE("%",T.value," ",T.name,"")}}function _t(C,E){if(1&C&&(r.TgZ(0,"div",10)(1,"div"),r.YNc(2,Ve,4,5,"div",11),r.qZA()()),2&C){const T=r.oxw();r.xp6(2),r.Q6J("ngForOf",T.profitSharePieChart.chartData)}}class It extends rt{constructor(E){super(),this._dashboardService=E,this.chartData=[],this.scheme={name:"custom",selectable:!0,group:"Ordinal",domain:["#00c5dc","#ffb822","#716aca"]}}init(E){let T=[];for(let L=0;L<E.length;L++)T.push({name:this.getChartItemName(L),value:E[L],color:this.scheme.domain[L]});this.chartData=T}getChartItemName(E){return 0===E?"Product Sales":1===E?"Online Courses":2===E?"Custom Development":"Other"}reload(){this.showLoading(),this._dashboardService.getProfitShare().subscribe(E=>{this.init(E.profitShares),this.hideLoading()})}}let $i=(()=>{class C extends Z{constructor(T,L,w){super(T),this._dashboardService=L,this._widgetOnResizeEventHandler=w,this.profitSharePieChart=new It(this._dashboardService),w.onResize.subscribe(()=>{this.profitSharePieChart.reload()})}ngOnInit(){this.profitSharePieChart.reload()}static#t=this.\u0275fac=function(L){return new(L||C)(r.Y36(r.zs3),r.Y36(H.AdH),r.Y36(Ce.Lb))};static#e=this.\u0275cmp=r.Xpm({type:C,selectors:[["app-widget-profit-share"]],features:[r.qOj],decls:13,vars:8,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title"],[1,"card-label","text-dark"],[1,"text-muted"],[1,"card-body"],[1,"row"],[1,"col-lg-6","col-md-12",2,"max-height","300px"],[3,"results","doughnut","legend","labels","scheme","animations","tooltipDisabled"],["class","col-lg-6 col-md-12 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"col-lg-6","col-md-12","d-flex","justify-content-center","align-items-center"],[4,"ngFor","ngForOf"],[1,"pieChart-color",3,"ngStyle"]],template:function(L,w){1&L&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),r._uU(4," Profit Share "),r.TgZ(5,"small",4),r._uU(6,"Profit Share between customers"),r.qZA()()()(),r.TgZ(7,"div",5)(8,"div")(9,"div",6)(10,"div",7),r._UZ(11,"ngx-charts-pie-chart",8),r.qZA(),r.YNc(12,_t,3,1,"div",9),r.qZA()()()()),2&L&&(r.xp6(11),r.Q6J("results",w.profitSharePieChart.chartData)("doughnut",!0)("legend",!1)("labels",!1)("scheme",w.profitSharePieChart.scheme)("animations",!1)("tooltipDisabled",!0),r.xp6(1),r.Q6J("ngIf",w.profitSharePieChart.chartData.length))},dependencies:[Lt.sg,Lt.O5,Lt.PC,et.JU],styles:[".kt-widget14[_ngcontent-%COMP%]{padding:0}.pieChart-color[_ngcontent-%COMP%]{width:12px;height:12px;margin-right:12px;display:inline-block;background-color:red}"]})}return C})();function fi(C,E){if(1&C&&(r.TgZ(0,"tr")(1,"td",13)(2,"div",14)(3,"div",15),r._UZ(4,"img",16),r.qZA()()(),r.TgZ(5,"td",13)(6,"span",17),r._uU(7),r.qZA()(),r.TgZ(8,"td"),r._uU(9),r.qZA(),r.TgZ(10,"td"),r._uU(11),r.qZA(),r.TgZ(12,"td"),r._uU(13),r.qZA(),r.TgZ(14,"td")(15,"span",18),r._uU(16),r.qZA()()()),2&C){const T=E.$implicit;r.xp6(4),r.MGl("src","/assets/metronic/assets/media/svg/avatars/",T.profilePictureName,"",r.LSH),r.xp6(3),r.hij(" ",T.name," "),r.xp6(2),r.hij(" ",T.earnings," "),r.xp6(2),r.hij(" ",T.cases," "),r.xp6(2),r.hij(" ",T.closed," "),r.xp6(3),r.Oqu(T.rate)}}class At extends rt{constructor(E){super(),this._dashboardService=E}init(){this.reload()}reload(){this.showLoading(),this._dashboardService.getMemberActivity().subscribe(E=>{this.memberActivities=E.memberActivities,this.hideLoading()})}}let ft=(()=>{class C extends Z{constructor(T,L){super(T),this._dashboardService=L,this.memberActivityTable=new At(this._dashboardService)}ngOnInit(){this.memberActivityTable.init()}static#t=this.\u0275fac=function(L){return new(L||C)(r.Y36(r.zs3),r.Y36(H.AdH))};static#e=this.\u0275cmp=r.Xpm({type:C,selectors:[["app-widget-member-activity"]],features:[r.qOj],decls:25,vars:1,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title","align-items-start","flex-column"],[1,"fw-bolder","text-dark"],[1,"card-toolbar"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-sync"],["perfectScrollbar","",1,"card-body"],[1,"table-scrollable","table-scrollable-borderless"],[1,"table","table-hover","table-light"],[1,"uppercase"],["colspan","2"],[4,"ngFor","ngForOf"],[1,"pl-0"],[1,"symbol","symbol-50","symbol-light","mt-2","me-2"],[1,"symbol-label"],["alt","photo",1,"h-75","align-self-end",3,"src"],["href","javascript:;",1,"text-dark","fw-bolder","mb-1","fs-lg"],[1,"bold","font-green-haze"]],template:function(L,w){1&L&&(r.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),r._uU(4,"Member Activity"),r.qZA()(),r.TgZ(5,"div",4)(6,"button",5),r.NdJ("click",function(){return w.memberActivityTable.reload()}),r._UZ(7,"i",6),r._uU(8," Refresh "),r.qZA()()(),r.TgZ(9,"div",7)(10,"div",8)(11,"table",9)(12,"thead")(13,"tr",10)(14,"th",11),r._uU(15,"MEMBER"),r.qZA(),r.TgZ(16,"th"),r._uU(17,"Earnings"),r.qZA(),r.TgZ(18,"th"),r._uU(19,"CASES"),r.qZA(),r.TgZ(20,"th"),r._uU(21,"CLOSED"),r.qZA(),r.TgZ(22,"th"),r._uU(23,"RATE"),r.qZA()()(),r.YNc(24,fi,17,6,"tr",12),r.qZA()()()()),2&L&&(r.xp6(24),r.Q6J("ngForOf",w.memberActivityTable.memberActivities))},dependencies:[Lt.sg,X.$]})}return C})();function ii(C,E,T){C._context.bezierCurveTo((2*C._x0+C._x1)/3,(2*C._y0+C._y1)/3,(C._x0+2*C._x1)/3,(C._y0+2*C._y1)/3,(C._x0+4*C._x1+E)/6,(C._y0+4*C._y1+T)/6)}function Oe(C){this._context=C}function ni(C){return new Oe(C)}function si(C,E){if(1&C&&(r.TgZ(0,"tr")(1,"td")(2,"label",14),r._UZ(3,"input",15)(4,"span",16),r.qZA()(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.ALo(9,"currency"),r.qZA(),r.TgZ(10,"td")(11,"div",17),r._UZ(12,"ngx-charts-line-chart",18),r.qZA()(),r.TgZ(13,"td"),r._uU(14),r.ALo(15,"currency"),r.qZA(),r.TgZ(16,"td"),r._uU(17),r.ALo(18,"currency"),r.qZA()()),2&C){const T=E.$implicit,L=r.oxw();r.xp6(6),r.Oqu(T.countryName),r.xp6(2),r.Oqu(r.lcZ(9,10,T.sales)),r.xp6(4),r.Q6J("results",T.changeData)("showGridLines",!1)("animations",!1)("tooltipDisabled",!0)("customColors",L.regionalStatsTable.customColors)("curve",L.regionalStatsTable.curve),r.xp6(2),r.Oqu(r.lcZ(15,12,T.averagePrice)),r.xp6(3),r.Oqu(r.lcZ(18,14,T.totalPrice))}}Oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ii(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(C,E){switch(C=+C,E=+E,this._point){case 0:this._point=1,this._line?this._context.lineTo(C,E):this._context.moveTo(C,E);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ii(this,C,E)}this._x0=this._x1,this._x1=C,this._y0=this._y1,this._y1=E}};class be extends rt{constructor(E){super(),this._dashboardService=E,this.colors=["#00c5dc","#f4516c","#34bfa3","#ffb822"],this.customColors=[{name:"1",value:"#00c5dc"},{name:"2",value:"#f4516c"},{name:"3",value:"#34bfa3"},{name:"4",value:"#ffb822"},{name:"5",value:"#00c5dc"}],this.curve=ni}init(){this.reload()}formatData(){for(let E=0;E<this.stats.length;E++){let T=this.stats[E],L=[];for(let w=0;w<T.change.length;w++)L.push({name:w+1,value:T.change[w]});T.changeData=[{name:E+1,series:L}]}}reload(){this.showLoading(),this._dashboardService.getRegionalStats().subscribe(E=>{this.stats=E.stats,this.formatData(),this.hideLoading()})}}let se=(()=>{class C extends Z{constructor(T,L){super(T),this._dashboardService=L,this.regionalStatsTable=new be(this._dashboardService)}ngOnInit(){this.regionalStatsTable.init()}static#t=this.\u0275fac=function(L){return new(L||C)(r.Y36(r.zs3),r.Y36(H.AdH))};static#e=this.\u0275cmp=r.Xpm({type:C,selectors:[["app-widget-regional-stats"]],features:[r.qOj],decls:24,vars:1,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title","align-items-start","flex-column"],[1,"fw-bolder","text-dark"],["perfectScrollbar","",1,"card-body"],[1,"table-responsive"],[1,"table"],[1,"m-widget11__label"],[1,"m-widget11__app"],[1,"m-widget11__sales"],[1,"m-widget11__change"],[1,"m-widget11__price"],[1,"m-widget11__total"],[4,"ngFor","ngForOf"],[1,"form-check","form-check-custom","form-check-solid","py-1"],["type","checkbox",1,"form-check-input"],[1,"form-check-label"],[1,"m-widget11__chart",2,"height","50px","width","100px"],[3,"results","showGridLines","animations","tooltipDisabled","customColors","curve"]],template:function(L,w){1&L&&(r.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),r._uU(4,"Regional Stats"),r.qZA()()(),r.TgZ(5,"div",4)(6,"div",5)(7,"table",6)(8,"thead")(9,"tr")(10,"td",7),r._uU(11,"#"),r.qZA(),r.TgZ(12,"td",8),r._uU(13,"Country"),r.qZA(),r.TgZ(14,"td",9),r._uU(15,"Sales"),r.qZA(),r.TgZ(16,"td",10),r._uU(17,"Change"),r.qZA(),r.TgZ(18,"td",11),r._uU(19,"Avg Price"),r.qZA(),r.TgZ(20,"td",12),r._uU(21,"Total"),r.qZA()()(),r.TgZ(22,"tbody"),r.YNc(23,si,19,16,"tr",13),r.qZA()()()()()),2&L&&(r.xp6(23),r.Q6J("ngForOf",w.regionalStatsTable.stats))},dependencies:[Lt.sg,et.Dw,X.$,Lt.H9]})}return C})();var ai=z(75857),zt=z(94901),ae=z(32297),Rt=z(3291);const ce=function(C){return{active:C}};function we(C,E){if(1&C){const T=r.EpF();r.TgZ(0,"div",20)(1,"div",21)(2,"label",22),r.NdJ("click",function(){r.CHM(T);const w=r.oxw();return r.KtG(w.salesSummaryChart.reload(w.appSalesSummaryDateInterval.Daily))}),r._UZ(3,"input",23),r._uU(4),r.ALo(5,"localize"),r.qZA(),r.TgZ(6,"label",24),r.NdJ("click",function(){r.CHM(T);const w=r.oxw();return r.KtG(w.salesSummaryChart.reload(w.appSalesSummaryDateInterval.Weekly))}),r._UZ(7,"input",23),r._uU(8),r.ALo(9,"localize"),r.qZA(),r.TgZ(10,"label",24),r.NdJ("click",function(){r.CHM(T);const w=r.oxw();return r.KtG(w.salesSummaryChart.reload(w.appSalesSummaryDateInterval.Monthly))}),r._UZ(11,"input",23),r._uU(12),r.ALo(13,"localize"),r.qZA()()()}if(2&C){const T=r.oxw();r.xp6(2),r.Q6J("ngClass",r.VKq(15,ce,T.salesSummaryChart.selectedDatePeriod==T.appSalesSummaryDateInterval.Daily)),r.xp6(1),r.Q6J("value",T.appSalesSummaryDateInterval.Daily),r.xp6(1),r.hij(" ",r.lcZ(5,9,"Daily")," "),r.xp6(2),r.Q6J("ngClass",r.VKq(17,ce,T.salesSummaryChart.selectedDatePeriod==T.appSalesSummaryDateInterval.Weekly)),r.xp6(1),r.Q6J("value",T.appSalesSummaryDateInterval.Weekly),r.xp6(1),r.hij(" ",r.lcZ(9,11,"Weekly")," "),r.xp6(2),r.Q6J("ngClass",r.VKq(19,ce,T.salesSummaryChart.selectedDatePeriod==T.appSalesSummaryDateInterval.Monthly)),r.xp6(1),r.Q6J("value",T.appSalesSummaryDateInterval.Monthly),r.xp6(1),r.hij(" ",r.lcZ(13,13,"Monthly")," ")}}class Se extends rt{constructor(E){super(),this._dashboardService=E,this.totalSales=0,this.totalSalesCounter=0,this.revenue=0,this.revenuesCounter=0,this.expenses=0,this.expensesCounter=0,this.growth=0,this.growthCounter=0,this.data=[]}init(E,T,L,w,j){this.totalSales=T,this.totalSalesCounter=T,this.revenue=L,this.expenses=w,this.growth=j,this.setChartData(E),this.hideLoading()}setChartData(E){let T=[],L=[];(0,ai.Z)(E,w=>{T.push({name:w.period,value:w.sales}),L.push({name:w.period,value:w.profit})}),this.data=[{name:"Sales",series:T},{name:"Profit",series:L}]}reload(E){this.selectedDatePeriod!==E?(this.selectedDatePeriod=E,this.showLoading(),this._dashboardService.getSalesSummary(E).subscribe(T=>{this.setChartData(T.salesSummary),this.hideLoading()})):this.hideLoading()}}let ke=(()=>{class C extends Z{constructor(T,L){super(T),this._tenantDashboardServiceProxy=L,this.appSalesSummaryDateInterval=H.mJY,this.onDateRangeFilterChange=w=>{this.runDelayed(()=>{this.salesSummaryChart.reload(H.mJY.Daily)})},this.salesSummaryChart=new Se(this._tenantDashboardServiceProxy)}ngOnInit(){this.subDateRangeFilter(),this.runDelayed(()=>{this.salesSummaryChart.reload(H.mJY.Daily)})}subDateRangeFilter(){this.subscribeToEvent("app.dashboardFilters.dateRangePicker.onDateChange",this.onDateRangeFilterChange)}static#t=this.\u0275fac=function(L){return new(L||C)(r.Y36(r.zs3),r.Y36(H.AdH))};static#e=this.\u0275cmp=r.Xpm({type:C,selectors:[["app-widget-sales-summary"]],features:[r.qOj],decls:42,vars:28,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title","align-items-start","flex-column"],[1,"fw-bolder","text-dark"],["class","card-toolbar",4,"ngIf"],["perfectScrollbar","",1,"card-body",3,"busyIf"],[1,"row","list-separated","text-center"],[1,"col-md-3","col-sm-3","col-xs-6"],["counto","",1,"text-danger","fw-bolder",3,"step","duration","countFrom","countTo","countoChange"],[1,"text-danger","fw-bolder"],[1,"uppercase","font-hg","font-green-haze"],["counto","",1,"text-warning","fw-bolder",3,"step","duration","countFrom","countTo","countoChange"],[1,"text-warning","fw-bolder"],[1,"uppercase","font-hg","font-purple"],["counto","",1,"text-info","fw-bolder",3,"step","duration","countFrom","countTo","countoChange"],[1,"text-success","fw-bolder"],[1,"uppercase","font-hg","font-blue-sharp"],[1,"text-info","fw-bolder"],[2,"height","260px","min-height","260px"],["showYAxisLabel","true",3,"results","showXAxisLabel","xAxis","yAxis","showGridLines","tooltipDisabled"],[1,"card-toolbar"],["data-toggle","buttons",1,"btn-group"],[1,"btn","btn-secondary","active",3,"ngClass","click"],["type","radio","name","SalesSummaryDateInterval",3,"value"],[1,"btn","btn-secondary",3,"ngClass","click"]],template:function(L,w){1&L&&(r.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),r._uU(4,"Sales Summary"),r.qZA()(),r.YNc(5,we,14,21,"div",4),r.qZA(),r.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"h6"),r._uU(10,"Total Sales"),r.qZA(),r.TgZ(11,"div")(12,"span",8),r.NdJ("countoChange",function(ot){return w.salesSummaryChart.totalSalesCounter=ot}),r._uU(13),r.qZA(),r.TgZ(14,"span",9),r._uU(15,"$"),r.qZA()()(),r.TgZ(16,"div",7)(17,"h6"),r._uU(18,"Revenue"),r.qZA(),r.TgZ(19,"div",10)(20,"span",11),r.NdJ("countoChange",function(ot){return w.salesSummaryChart.revenuesCounter=ot}),r._uU(21),r.qZA(),r.TgZ(22,"span",12),r._uU(23,"$"),r.qZA()()(),r.TgZ(24,"div",7)(25,"h6"),r._uU(26,"Expenses"),r.qZA(),r.TgZ(27,"div",13)(28,"span",14),r.NdJ("countoChange",function(ot){return w.salesSummaryChart.expensesCounter=ot}),r._uU(29),r.qZA(),r.TgZ(30,"span",15),r._uU(31,"$"),r.qZA()()(),r.TgZ(32,"div",7)(33,"h6"),r._uU(34,"Growth"),r.qZA(),r.TgZ(35,"div",16)(36,"span",14),r.NdJ("countoChange",function(ot){return w.salesSummaryChart.growthCounter=ot}),r._uU(37),r.qZA(),r.TgZ(38,"span",17),r._uU(39,"$"),r.qZA()()()(),r.TgZ(40,"div",18),r._UZ(41,"ngx-charts-area-chart-stacked",19),r.qZA()()()),2&L&&(r.xp6(5),r.Q6J("ngIf",w.salesSummaryChart&&!w.salesSummaryChart.loading),r.xp6(1),r.Q6J("busyIf",w.salesSummaryChart.loading),r.xp6(6),r.Q6J("step",30)("duration",1)("countFrom",0)("countTo",w.salesSummaryChart.totalSales),r.xp6(1),r.hij(" ",w.salesSummaryChart.totalSalesCounter.toFixed(0)," "),r.xp6(7),r.Q6J("step",30)("duration",1)("countFrom",0)("countTo",w.salesSummaryChart.revenue),r.xp6(1),r.hij(" ",w.salesSummaryChart.revenuesCounter.toFixed(0)," "),r.xp6(7),r.Q6J("step",30)("duration",1)("countFrom",0)("countTo",w.salesSummaryChart.expenses),r.xp6(1),r.hij(" ",w.salesSummaryChart.expensesCounter.toFixed(0)," "),r.xp6(7),r.Q6J("step",30)("duration",1)("countFrom",0)("countTo",w.salesSummaryChart.growth),r.xp6(1),r.hij(" ",w.salesSummaryChart.growthCounter.toFixed(0)," "),r.xp6(4),r.Q6J("results",w.salesSummaryChart.data)("showXAxisLabel",!0)("xAxis",!0)("yAxis",!0)("showGridLines",!1)("tooltipDisabled",!1))},dependencies:[Lt.mk,Lt.O5,zt.U,et.vz,X.$,ae.T,Rt.F],styles:["input[type=radio][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]     .sales-summary-chart svg.ngx-charts{margin-left:-35px;margin-top:35px}"]})}return C})();var Ye=z(66232),Ae=z(58399),pe=z(88922);function oi(C,E){if(1&C&&(r.TgZ(0,"span"),r._uU(1),r.qZA(),r._UZ(2,"br"),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"localize"),r.qZA()),2&C){const T=E.model,L=r.oxw(2);r.xp6(1),r.Oqu(T.name),r.xp6(3),r.AsE(" ",r.lcZ(5,3,"IncomeWithAmount")," ",T.value+" "+L.appSession.application.currencySign," ")}}function We(C,E){if(1&C&&(r.TgZ(0,"ngx-charts-area-chart",14),r.YNc(1,oi,6,5,"ng-template",null,15,r.W1O),r.qZA()),2&C){const T=r.oxw();r.Q6J("busyIf",T.loadingIncomeStatistics)("results",T.incomeStatisticsData)("showXAxisLabel",!0)("xAxis",!0)("yAxis",!0)("showGridLines",!0)}}const fe=function(C){return{active:C}};let ri=(()=>{class C extends Z{constructor(T,L,w,j){super(T),this._hostDashboardServiceProxy=L,this._dateTimeService=w,this._widgetOnResizeEventHandler=j,this.selectedIncomeStatisticsDateInterval=H.wo_.Daily,this.loadingIncomeStatistics=!0,this.selectedDateRange=[this._dateTimeService.getStartOfDayMinusDays(7),this._dateTimeService.getEndOfDay()],this.incomeStatisticsData=[],this.incomeStatisticsHasData=!1,this.appIncomeStatisticsDateInterval=H.wo_,this.loadIncomeStatisticsData=()=>{this.loadingIncomeStatistics=!0,this._hostDashboardServiceProxy.getIncomeStatistics(this.selectedIncomeStatisticsDateInterval,this.selectedDateRange[0],this.selectedDateRange[1]).subscribe(ot=>{this.incomeStatisticsData=this.normalizeIncomeStatisticsData(ot.incomeStatistics),this.incomeStatisticsHasData=(0,Ye.Z)(this.incomeStatisticsData[0].series,ve=>ve.value>0).length>0,this.loadingIncomeStatistics=!1})},this.onDateRangeFilterChange=ot=>{!ot||2!==ot.length||this.selectedDateRange[0]===ot[0]&&this.selectedDateRange[1]===ot[1]||(this.selectedDateRange[0]=ot[0],this.selectedDateRange[1]=ot[1],this.runDelayed(this.loadIncomeStatisticsData))},j.onResize.subscribe(()=>{this.runDelayed(this.loadIncomeStatisticsData)})}ngOnInit(){this.subDateRangeFilter(),this.runDelayed(this.loadIncomeStatisticsData)}incomeStatisticsDateIntervalChange(T){this.selectedIncomeStatisticsDateInterval!==T&&(this.selectedIncomeStatisticsDateInterval=T,this.loadIncomeStatisticsData())}normalizeIncomeStatisticsData(T){const L=[];for(let w=0;w<T.length;w++)L.push({name:this._dateTimeService.formatISODateString(T[w].date,"D"),value:T[w].amount});return[{name:"",series:L}]}subDateRangeFilter(){this.subscribeToEvent("app.dashboardFilters.dateRangePicker.onDateChange",this.onDateRangeFilterChange)}static#t=this.\u0275fac=function(L){return new(L||C)(r.Y36(r.zs3),r.Y36(H.EFb),r.Y36(Ae.C),r.Y36(Ce.Lb))};static#e=this.\u0275cmp=r.Xpm({type:C,selectors:[["app-widget-income-statistics"]],features:[r.qOj],decls:32,vars:37,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title"],[1,"card-icon"],[1,"la","la-pie-chart","text-primary"],[1,"card-label","text-success"],[1,"text-muted"],[1,"card-toolbar"],["data-toggle","buttons",1,"btn-group","btn-group-devided"],[1,"btn","m-btn--pill","btn-secondary",3,"ngClass","click"],["type","radio","name","IncomeStatisticsDatePeriod",1,"toggle",3,"value"],["perfectScrollbar","",1,"card-body"],["showYAxisLabel","true",3,"busyIf","results","showXAxisLabel","xAxis","yAxis","showGridLines",4,"ngIf"],[1,"note","note-info","text-center","chart",3,"hidden"],["showYAxisLabel","true",3,"busyIf","results","showXAxisLabel","xAxis","yAxis","showGridLines"],["tooltipTemplate",""]],template:function(L,w){1&L&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),r._UZ(4,"i",4),r.qZA(),r.TgZ(5,"h3",5),r._uU(6),r.ALo(7,"localize"),r.TgZ(8,"small",6),r._uU(9),r.ALo(10,"luxonFormat"),r.ALo(11,"luxonFormat"),r.qZA()()(),r.TgZ(12,"div",7)(13,"div",8)(14,"label",9),r.NdJ("click",function(){return w.incomeStatisticsDateIntervalChange(w.appIncomeStatisticsDateInterval.Daily)}),r._UZ(15,"input",10),r._uU(16),r.ALo(17,"localize"),r.qZA(),r.TgZ(18,"label",9),r.NdJ("click",function(){return w.incomeStatisticsDateIntervalChange(w.appIncomeStatisticsDateInterval.Weekly)}),r._UZ(19,"input",10),r._uU(20),r.ALo(21,"localize"),r.qZA(),r.TgZ(22,"label",9),r.NdJ("click",function(){return w.incomeStatisticsDateIntervalChange(w.appIncomeStatisticsDateInterval.Monthly)}),r._UZ(23,"input",10),r._uU(24),r.ALo(25,"localize"),r.qZA()()()(),r.TgZ(26,"div",11),r.YNc(27,We,3,6,"ngx-charts-area-chart",12),r.TgZ(28,"div",13)(29,"small",6),r._uU(30),r.ALo(31,"localize"),r.qZA()()()()),2&L&&(r.xp6(6),r.hij(" ",r.lcZ(7,15,"IncomeStatistics")," "),r.xp6(3),r.AsE(" ",r.xi3(10,17,w.selectedDateRange[0],"D")," - ",r.xi3(11,20,w.selectedDateRange[1],"D")," "),r.xp6(5),r.Q6J("ngClass",r.VKq(31,fe,w.selectedIncomeStatisticsDateInterval==w.appIncomeStatisticsDateInterval.Daily)),r.xp6(1),r.Q6J("value",w.appIncomeStatisticsDateInterval.Daily),r.xp6(1),r.hij(" ",r.lcZ(17,23,"Daily")," "),r.xp6(2),r.Q6J("ngClass",r.VKq(33,fe,w.selectedIncomeStatisticsDateInterval==w.appIncomeStatisticsDateInterval.Weekly)),r.xp6(1),r.Q6J("value",w.appIncomeStatisticsDateInterval.Weekly),r.xp6(1),r.hij(" ",r.lcZ(21,25,"Weekly")," "),r.xp6(2),r.Q6J("ngClass",r.VKq(35,fe,w.selectedIncomeStatisticsDateInterval==w.appIncomeStatisticsDateInterval.Monthly)),r.xp6(1),r.Q6J("value",w.appIncomeStatisticsDateInterval.Monthly),r.xp6(1),r.hij(" ",r.lcZ(25,27,"Monthly")," "),r.xp6(3),r.Q6J("ngIf",w.incomeStatisticsHasData),r.xp6(1),r.Q6J("hidden",w.incomeStatisticsHasData),r.xp6(2),r.Oqu(r.lcZ(31,29,"NoData")))},dependencies:[Lt.mk,Lt.O5,zt.U,et.rt,X.$,pe.n,Rt.F],styles:["input[type=radio][_ngcontent-%COMP%]{display:none}"]})}return C})();var xe=z(68027),Ge=z(85219);const li=["RecentTenantsTable"];function xi(C,E){if(1&C&&(r.TgZ(0,"small",14),r._uU(1),r.ALo(2,"localize"),r.qZA()),2&C){const T=r.oxw();r.xp6(1),r.hij(" ",r.Dn7(2,1,"RecentTenantsHelpText",T.recentTenantsData.recentTenantsDayCount,T.recentTenantsData.maxRecentTenantsShownCount)," ")}}function _i(C,E){1&C&&(r.TgZ(0,"tr")(1,"th"),r._uU(2),r.ALo(3,"localize"),r.qZA(),r.TgZ(4,"th"),r._uU(5),r.ALo(6,"localize"),r.qZA()()),2&C&&(r.xp6(2),r.Oqu(r.lcZ(3,2,"TenantName")),r.xp6(3),r.Oqu(r.lcZ(6,4,"CreationTime")))}function Yt(C,E){if(1&C&&(r.TgZ(0,"tr")(1,"td")(2,"span",21),r._uU(3),r.ALo(4,"localize"),r.qZA(),r._uU(5),r.qZA(),r.TgZ(6,"td")(7,"span",21),r._uU(8),r.ALo(9,"localize"),r.qZA(),r._uU(10),r.ALo(11,"luxonFormat"),r.qZA()()),2&C){const T=E.$implicit;r.xp6(3),r.Oqu(r.lcZ(4,4,"TenantName")),r.xp6(2),r.hij(" ",T.name," "),r.xp6(3),r.Oqu(r.lcZ(9,6,"CreationTime")),r.xp6(2),r.hij(" ",r.xi3(11,8,T.creationTime,"F")," ")}}function ci(C,E){1&C&&(r.TgZ(0,"div",22),r._uU(1),r.ALo(2,"localize"),r.qZA()),2&C&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NoData")," "))}const vi=function(){return{"min-width":"25rem"}};function yi(C,E){if(1&C&&(r.TgZ(0,"div",15)(1,"p-table",16,17),r.YNc(3,_i,7,6,"ng-template",18),r.YNc(4,Yt,12,11,"ng-template",19),r.qZA(),r.YNc(5,ci,3,3,"div",20),r.qZA()),2&C){const T=r.oxw();r.Q6J("busyIf",T.primengTableHelper.isLoading),r.xp6(1),r.s9C("rows",T.primengTableHelper.defaultRecordsCountPerPage),r.Q6J("value",T.recentTenantsData.recentTenants)("paginator",!1)("lazy",!1)("tableStyle",r.DdM(7,vi)),r.xp6(4),r.Q6J("ngIf",0==(null==T.recentTenantsData||null==T.recentTenantsData.recentTenants?null:T.recentTenantsData.recentTenants.length))}}let R=(()=>{class C extends Z{constructor(T,L){super(T),this._hostDashboardServiceProxy=L,this.loading=!0,this.loadRecentTenantsData()}loadRecentTenantsData(){this._hostDashboardServiceProxy.getRecentTenantsData().subscribe(T=>{this.recentTenantsData=T,this.loading=!1})}gotoAllRecentTenants(){window.open(abp.appPath+"app/admin/tenants?creationDateStart="+encodeURIComponent(this.recentTenantsData.tenantCreationStartDate.toString()))}static#t=this.\u0275fac=function(L){return new(L||C)(r.Y36(r.zs3),r.Y36(H.EFb))};static#e=this.\u0275cmp=r.Xpm({type:C,selectors:[["app-widget-recent-tenants"]],viewQuery:function(L,w){if(1&L&&r.Gf(li,7),2&L){let j;r.iGM(j=r.CRH())&&(w.recentTenantsTable=j.first)}},features:[r.qOj],decls:18,vars:8,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title"],[1,"card-icon"],[1,"fas","fa-user-plus","text-primary"],[1,"card-label","text-primary"],["class","text-muted",4,"ngIf"],["perfectScrollbar","",1,"card-body"],["perfectScrollbar","",1,"scroller","chart"],["class","primeng-datatable-container recent-tenants-table",3,"busyIf",4,"ngIf"],[1,"scroller-footer"],[1,"btn-arrow-link","pull-right"],["href","javascript:;",1,"see-all-recent-tenants",3,"click"],[1,"icon-arrow-right"],[1,"text-muted"],[1,"primeng-datatable-container","recent-tenants-table",3,"busyIf"],[3,"value","rows","paginator","lazy","tableStyle"],["RecentTenantsTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"p-column-title"],[1,"primeng-no-data"]],template:function(L,w){1&L&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),r._UZ(4,"i",4),r.qZA(),r.TgZ(5,"h3",5),r._uU(6),r.ALo(7,"localize"),r.YNc(8,xi,3,5,"small",6),r.qZA()()(),r.TgZ(9,"div",7)(10,"div",8),r.YNc(11,yi,6,8,"div",9),r.qZA(),r.TgZ(12,"div",10)(13,"div",11)(14,"a",12),r.NdJ("click",function(){return w.gotoAllRecentTenants()}),r._uU(15),r.ALo(16,"localize"),r.qZA(),r._UZ(17,"i",13),r.qZA()()()()),2&L&&(r.xp6(6),r.hij(" ",r.lcZ(7,4,"RecentTenants")," "),r.xp6(2),r.Q6J("ngIf",!w.loading),r.xp6(3),r.Q6J("ngIf",!w.loading),r.xp6(4),r.hij(" ",r.lcZ(16,6,"SeeAllRecords")," "))},dependencies:[Lt.O5,zt.U,X.$,xe.iA,Ge.jx,pe.n,Rt.F]})}return C})();const Tt=["EditionStatisticsChart"];function A(C,E){if(1&C&&r._UZ(0,"ngx-charts-pie-chart",10),2&C){const T=r.oxw();r.Q6J("results",T.editionStatisticsData)("legend",!0)("doughnut",!0)("arcWidth",.75)}}let F=(()=>{class C extends Z{constructor(T,L,w,j){super(T),this._hostDashboardServiceProxy=L,this._dateTimeService=w,this._widgetOnResizeEventHandler=j,this.selectedDateRange=[this._dateTimeService.getStartOfDayMinusDays(7),this._dateTimeService.getEndOfDay()],this.editionStatisticsHasData=!1,this.showChart=()=>{this._hostDashboardServiceProxy.getEditionTenantStatistics(this.selectedDateRange[0],this.selectedDateRange[1]).subscribe(ot=>{this.editionStatisticsData=this.normalizeEditionStatisticsData(ot),this.editionStatisticsHasData=(0,Ye.Z)(this.editionStatisticsData,ve=>ve.value>0).length>0})},this.onDateRangeFilterChange=ot=>{!ot||2!==ot.length||this.selectedDateRange[0]===ot[0]&&this.selectedDateRange[1]===ot[1]||(this.selectedDateRange[0]=ot[0],this.selectedDateRange[1]=ot[1],this.runDelayed(this.showChart))},j.onResize.subscribe(()=>{this.runDelayed(this.showChart)})}ngOnInit(){this.subDateRangeFilter(),this.runDelayed(this.showChart)}normalizeEditionStatisticsData(T){if(!T||!T.editionStatistics||0===T.editionStatistics.length)return[];const L=new Array(T.editionStatistics.length);for(let w=0;w<T.editionStatistics.length;w++)L[w]={name:T.editionStatistics[w].label,value:T.editionStatistics[w].value};return L}subDateRangeFilter(){this.subscribeToEvent("app.dashboardFilters.dateRangePicker.onDateChange",this.onDateRangeFilterChange)}static#t=this.\u0275fac=function(L){return new(L||C)(r.Y36(r.zs3),r.Y36(H.EFb),r.Y36(Ae.C),r.Y36(Ce.Lb))};static#e=this.\u0275cmp=r.Xpm({type:C,selectors:[["app-widget-edition-statistics"]],viewQuery:function(L,w){if(1&L&&r.Gf(Tt,7),2&L){let j;r.iGM(j=r.CRH())&&(w.editionStatisticsChart=j.first)}},features:[r.qOj],decls:18,vars:16,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title"],[1,"card-icon"],[1,"la","la-pie-chart","text-success"],[1,"card-label","text-success"],[1,"text-muted"],["perfectScrollbar","",1,"card-body"],[3,"results","legend","doughnut","arcWidth",4,"ngIf"],[1,"note","note-info","text-center","chart",3,"hidden"],[3,"results","legend","doughnut","arcWidth"]],template:function(L,w){1&L&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),r._UZ(4,"i",4),r.qZA(),r.TgZ(5,"h3",5),r._uU(6),r.ALo(7,"localize"),r.TgZ(8,"small",6),r._uU(9),r.ALo(10,"luxonFormat"),r.ALo(11,"luxonFormat"),r.qZA()()()(),r.TgZ(12,"div",7),r.YNc(13,A,1,4,"ngx-charts-pie-chart",8),r.TgZ(14,"div",9)(15,"small",6),r._uU(16),r.ALo(17,"localize"),r.qZA()()()()),2&L&&(r.xp6(6),r.hij(" ",r.lcZ(7,6,"EditionStatistics")," "),r.xp6(3),r.AsE(" ",r.xi3(10,8,w.selectedDateRange[0],"D")," - ",r.xi3(11,11,w.selectedDateRange[1],"D")," "),r.xp6(4),r.Q6J("ngIf",w.editionStatisticsHasData),r.xp6(1),r.Q6J("hidden",w.editionStatisticsHasData),r.xp6(2),r.Oqu(r.lcZ(17,14,"NoData")))},dependencies:[Lt.O5,et.JU,X.$,pe.n,Rt.F]})}return C})();const y=["ExpiringTenantsTable"];function h(C,E){if(1&C&&(r.TgZ(0,"small",14),r._uU(1),r.ALo(2,"localize"),r.qZA()),2&C){const T=r.oxw();r.xp6(1),r.hij(" ",r.Dn7(2,1,"ExpiringTenantsHelpText",T.expiringTenantsData.subscriptionEndAlertDayCount,T.expiringTenantsData.maxExpiringTenantsShownCount)," ")}}function d(C,E){1&C&&(r.TgZ(0,"tr")(1,"th"),r._uU(2),r.ALo(3,"localize"),r.qZA(),r.TgZ(4,"th"),r._uU(5),r.ALo(6,"localize"),r.qZA()()),2&C&&(r.xp6(2),r.Oqu(r.lcZ(3,2,"TenantName")),r.xp6(3),r.Oqu(r.lcZ(6,4,"RemainingDay")))}function m(C,E){if(1&C&&(r.TgZ(0,"tr")(1,"td")(2,"span",21),r._uU(3),r.ALo(4,"localize"),r.qZA(),r._uU(5),r.qZA(),r.TgZ(6,"td")(7,"span",21),r._uU(8),r.ALo(9,"localize"),r.qZA(),r._uU(10),r.qZA()()),2&C){const T=E.$implicit;r.xp6(3),r.Oqu(r.lcZ(4,4,"TenantName")),r.xp6(2),r.hij(" ",T.tenantName," "),r.xp6(3),r.Oqu(r.lcZ(9,6,"RemainingDay")),r.xp6(2),r.hij(" ",T.remainingDayCount," ")}}function f(C,E){1&C&&(r.TgZ(0,"div",22),r._uU(1),r.ALo(2,"localize"),r.qZA()),2&C&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NoData")," "))}const k=function(){return{"min-width":"25rem"}};function M(C,E){if(1&C&&(r.TgZ(0,"div",15)(1,"p-table",16,17),r.YNc(3,d,7,6,"ng-template",18),r.YNc(4,m,11,8,"ng-template",19),r.qZA(),r.YNc(5,f,3,3,"div",20),r.qZA()),2&C){const T=r.oxw();r.Q6J("busyIf",T.primengTableHelper.isLoading),r.xp6(1),r.s9C("rows",T.primengTableHelper.defaultRecordsCountPerPage),r.Q6J("value",T.expiringTenantsData.expiringTenants)("paginator",!1)("lazy",!1)("tableStyle",r.DdM(7,k)),r.xp6(4),r.Q6J("ngIf",0==(null==T.expiringTenantsData||null==T.expiringTenantsData.expiringTenants?null:T.expiringTenantsData.expiringTenants.length))}}let J=(()=>{class C extends Z{constructor(T,L){super(T),this._hostDashboardServiceProxy=L,this.dataLoading=!0}ngOnInit(){this.getData()}getData(){this._hostDashboardServiceProxy.getSubscriptionExpiringTenantsData().subscribe(T=>{this.expiringTenantsData=T,this.dataLoading=!1})}gotoAllExpiringTenants(){const T=abp.appPath+"app/admin/tenants?subscriptionEndDateStart="+encodeURIComponent(this.expiringTenantsData.subscriptionEndDateStart.toString())+"&subscriptionEndDateEnd="+encodeURIComponent(this.expiringTenantsData.subscriptionEndDateEnd.toString());window.open(T)}static#t=this.\u0275fac=function(L){return new(L||C)(r.Y36(r.zs3),r.Y36(H.EFb))};static#e=this.\u0275cmp=r.Xpm({type:C,selectors:[["app-widget-subscription-expiring-tenants"]],viewQuery:function(L,w){if(1&L&&r.Gf(y,7),2&L){let j;r.iGM(j=r.CRH())&&(w.expiringTenantsTable=j.first)}},features:[r.qOj],decls:18,vars:8,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title"],[1,"card-icon"],[1,"far","fa-clock","text-danger"],[1,"card-label","text-danger"],["class","text-muted",4,"ngIf"],["perfectScrollbar","",1,"card-body"],[1,"scroller","chart"],["class","primeng-datatable-container expiring-tenants-table",3,"busyIf",4,"ngIf"],[1,"scroller-footer"],[1,"btn-arrow-link","pull-right"],["href","javascript:;",1,"see-all-expiring-tenants",3,"click"],[1,"icon-arrow-right"],[1,"text-muted"],[1,"primeng-datatable-container","expiring-tenants-table",3,"busyIf"],[3,"value","rows","paginator","lazy","tableStyle"],["ExpiringTenantsTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"p-column-title"],[1,"primeng-no-data"]],template:function(L,w){1&L&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),r._UZ(4,"i",4),r.qZA(),r.TgZ(5,"h3",5),r._uU(6),r.ALo(7,"localize"),r.YNc(8,h,3,5,"small",6),r.qZA()()(),r.TgZ(9,"div",7)(10,"div",8),r.YNc(11,M,6,8,"div",9),r.qZA(),r.TgZ(12,"div",10)(13,"div",11)(14,"a",12),r.NdJ("click",function(){return w.gotoAllExpiringTenants()}),r._uU(15),r.ALo(16,"localize"),r.qZA(),r._UZ(17,"i",13),r.qZA()()()()),2&L&&(r.xp6(6),r.hij(" ",r.lcZ(7,4,"SubscriptionExpiringTenants")," "),r.xp6(2),r.Q6J("ngIf",w.expiringTenantsData),r.xp6(3),r.Q6J("ngIf",!w.dataLoading),r.xp6(4),r.hij(" ",r.lcZ(16,6,"SeeAllRecords")," "))},dependencies:[Lt.O5,zt.U,X.$,xe.iA,Ge.jx,Rt.F]})}return C})();function it(C,E){1&C&&(r.TgZ(0,"span"),r._uU(1,"..."),r.qZA())}function at(C,E){if(1&C){const T=r.EpF();r.TgZ(0,"span",22),r.NdJ("countoChange",function(w){r.CHM(T);const j=r.oxw();return r.KtG(j.countoNewSubscriptionAmount=w)}),r._uU(1),r.ALo(2,"currency"),r.qZA()}if(2&C){const T=r.oxw();r.Q6J("step",30)("countTo",T.topStatsData.newSubscriptionAmount)("countFrom",0)("duration",5),r.xp6(1),r.hij(" ",r.gM2(2,5,T.countoNewSubscriptionAmount,"USD","symbol","1.0-0")," ")}}function wt(C,E){1&C&&(r.TgZ(0,"span"),r._uU(1,"..."),r.qZA())}function Zt(C,E){if(1&C){const T=r.EpF();r.TgZ(0,"span",22),r.NdJ("countoChange",function(w){r.CHM(T);const j=r.oxw();return r.KtG(j.countoNewTenantsCount=w)}),r._uU(1),r.ALo(2,"number"),r.qZA()}if(2&C){const T=r.oxw();r.Q6J("step",10)("countTo",T.topStatsData.newTenantsCount)("countFrom",0)("duration",5),r.xp6(1),r.hij(" ",r.xi3(2,5,T.countoNewTenantsCount,"1.0-0")," ")}}function oe(C,E){1&C&&(r.TgZ(0,"span"),r._uU(1,"..."),r.qZA())}function he(C,E){if(1&C){const T=r.EpF();r.TgZ(0,"span",22),r.NdJ("countoChange",function(w){r.CHM(T);const j=r.oxw();return r.KtG(j.countoDashboardPlaceholder1=w)}),r._uU(1),r.ALo(2,"number"),r.qZA()}if(2&C){const T=r.oxw();r.Q6J("step",100)("countTo",T.topStatsData.dashboardPlaceholder1)("countFrom",0)("duration",5),r.xp6(1),r.hij(" ",r.xi3(2,5,T.countoDashboardPlaceholder1,"1.0-0")," ")}}function Xt(C,E){1&C&&(r.TgZ(0,"span"),r._uU(1,"..."),r.qZA())}function de(C,E){if(1&C){const T=r.EpF();r.TgZ(0,"span",22),r.NdJ("countoChange",function(w){r.CHM(T);const j=r.oxw();return r.KtG(j.countoDashboardPlaceholder2=w)}),r._uU(1),r.ALo(2,"number"),r.qZA()}if(2&C){const T=r.oxw();r.Q6J("step",100)("countTo",T.topStatsData.dashboardPlaceholder2)("countFrom",0)("duration",5),r.xp6(1),r.hij(" ",r.xi3(2,5,T.countoDashboardPlaceholder2,"1.0-0")," ")}}let _e=(()=>{class C extends Z{constructor(T,L,w){super(T),this._hostDashboardServiceProxy=L,this._dateTimeService=w,this.countoNewSubscriptionAmount=0,this.countoNewTenantsCount=0,this.countoDashboardPlaceholder1=0,this.countoDashboardPlaceholder2=0,this.selectedDateRange=[this._dateTimeService.getStartOfDayMinusDays(7),this._dateTimeService.getEndOfDay()],this.loading=!0,this.loadHostTopStatsData=()=>{this._hostDashboardServiceProxy.getTopStatsData(this.selectedDateRange[0],this.selectedDateRange[1]).subscribe(j=>{this.topStatsData=j,this.loading=!1})},this.onDateRangeFilterChange=j=>{!j||2!==j.length||this.selectedDateRange[0]===j[0]&&this.selectedDateRange[1]===j[1]||(this.selectedDateRange[0]=j[0],this.selectedDateRange[1]=j[1],this.runDelayed(this.loadHostTopStatsData))}}ngOnInit(){this.subDateRangeFilter(),this.runDelayed(this.loadHostTopStatsData)}subDateRangeFilter(){this.subscribeToEvent("app.dashboardFilters.dateRangePicker.onDateChange",this.onDateRangeFilterChange)}static#t=this.\u0275fac=function(L){return new(L||C)(r.Y36(r.zs3),r.Y36(H.EFb),r.Y36(Ae.C))};static#e=this.\u0275cmp=r.Xpm({type:C,selectors:[["app-widget-host-top-stats"]],features:[r.qOj],decls:65,vars:42,consts:[["perfectScrollbar","",1,"row","row-no-padding","row-col-separator-xl","h-100"],[1,"col"],[1,"card","card-custom","bgi-no-repeat","card-stretch","new-subscription-statistics","h-100"],[1,"card-body"],[1,"card-title","text-left","fw-bolder","text-dark","fs-h6","mb-4","text-hover-state-dark","d-block"],[1,"text-left","text-primary","fw-bolder","fs-h2","me-2"],[4,"ngIf"],["counto","",3,"step","countTo","countFrom","duration","countoChange",4,"ngIf"],[1,"progress","progress-xs","mt-7","bg-primary-o-60"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","100%"],[1,"text-left","text-muted","mt-1","status-title"],[1,"text-left","text-info","fw-bolder","fs-h2","me-2"],[1,"progress","progress-xs","mt-7","bg-danger-o-60"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info",2,"width","100%"],[1,"text-left","text-danger","fw-bolder","fs-h2","me-2"],["role","progressbar","aria-valuenow","45","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","45%"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"text-muted","me-2","fs-sm","fw-bold"],[1,"text-muted","fs-sm","fw-bold"],[1,"text-left","text-success","fw-bolder","fs-h2","me-2"],[1,"progress","progress-xs","mt-7","bg-success-o-60"],["role","progressbar","aria-valuenow","65","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",2,"width","65%"],["counto","",3,"step","countTo","countFrom","duration","countoChange"]],template:function(L,w){1&L&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),r._uU(5),r.ALo(6,"localize"),r.qZA(),r.TgZ(7,"div",5),r.YNc(8,it,2,0,"span",6),r.YNc(9,at,3,10,"span",7),r.qZA(),r.TgZ(10,"div",8),r._UZ(11,"div",9),r.qZA(),r.TgZ(12,"div",10),r._uU(13),r.ALo(14,"luxonFormat"),r.ALo(15,"luxonFormat"),r.qZA()()()(),r.TgZ(16,"div",1)(17,"div",2)(18,"div",3)(19,"div",4),r._uU(20),r.ALo(21,"localize"),r.qZA(),r.TgZ(22,"div",11),r.YNc(23,wt,2,0,"span",6),r.YNc(24,Zt,3,8,"span",7),r.qZA(),r.TgZ(25,"div",12),r._UZ(26,"div",13),r.qZA(),r.TgZ(27,"div",10),r._uU(28),r.ALo(29,"luxonFormat"),r.ALo(30,"luxonFormat"),r.qZA()()()(),r.TgZ(31,"div",1)(32,"div",2)(33,"div",3)(34,"div",4),r._uU(35),r.ALo(36,"localize"),r.qZA(),r.TgZ(37,"div",14),r.YNc(38,oe,2,0,"span",6),r.YNc(39,he,3,8,"span",7),r.qZA(),r.TgZ(40,"div",12),r._UZ(41,"div",15),r.qZA(),r.TgZ(42,"div",16)(43,"span",17),r._uU(44),r.ALo(45,"localize"),r.qZA(),r.TgZ(46,"span",18),r._uU(47,"45%"),r.qZA()()()()(),r.TgZ(48,"div",1)(49,"div",2)(50,"div",3)(51,"div",4),r._uU(52),r.ALo(53,"localize"),r.qZA(),r.TgZ(54,"div",19),r.YNc(55,Xt,2,0,"span",6),r.YNc(56,de,3,8,"span",7),r.qZA(),r.TgZ(57,"div",20),r._UZ(58,"div",21),r.qZA(),r.TgZ(59,"div",16)(60,"span",17),r._uU(61),r.ALo(62,"localize"),r.qZA(),r.TgZ(63,"span",18),r._uU(64,"65%"),r.qZA()()()()()()),2&L&&(r.xp6(5),r.hij(" ",r.lcZ(6,18,"NewSubscriptionAmount")," "),r.xp6(3),r.Q6J("ngIf",!w.topStatsData),r.xp6(1),r.Q6J("ngIf",w.topStatsData),r.xp6(4),r.AsE(" ",r.xi3(14,20,w.selectedDateRange[0],"D")," - ",r.xi3(15,23,w.selectedDateRange[1],"D")," "),r.xp6(7),r.hij(" ",r.lcZ(21,26,"NewTenants")," "),r.xp6(3),r.Q6J("ngIf",!w.topStatsData),r.xp6(1),r.Q6J("ngIf",w.topStatsData),r.xp6(4),r.AsE(" ",r.xi3(29,28,w.selectedDateRange[0],"D")," - ",r.xi3(30,31,w.selectedDateRange[1],"D")," "),r.xp6(7),r.hij(" ",r.lcZ(36,34,"DashboardSampleStatistics")," "),r.xp6(3),r.Q6J("ngIf",!w.topStatsData),r.xp6(1),r.Q6J("ngIf",w.topStatsData),r.xp6(5),r.hij(" ",r.lcZ(45,36,"DashboardSampleStatisticsHelpText")," "),r.xp6(8),r.hij(" ",r.lcZ(53,38,"DashboardSampleStatistics")," 2 "),r.xp6(3),r.Q6J("ngIf",!w.topStatsData),r.xp6(1),r.Q6J("ngIf",w.topStatsData),r.xp6(5),r.hij(" ",r.lcZ(62,40,"DashboardSampleStatisticsHelpText")," "))},dependencies:[Lt.O5,X.$,ae.T,Lt.JJ,Lt.H9,pe.n,Rt.F]})}return C})();var Ti=z(81243),Bi=z(53279);let sn=(()=>{class C extends gt.c{constructor(T,L){super(T),this._dateTimeService=L,this.selectedDateRange=[this._dateTimeService.getStartOfDayMinusDays(7),this._dateTimeService.getEndOfDay()]}onChange(){abp.event.trigger("app.dashboardFilters.dateRangePicker.onDateChange",this.selectedDateRange)}static#t=this.\u0275fac=function(L){return new(L||C)(r.Y36(r.zs3),r.Y36(Ae.C))};static#e=this.\u0275cmp=r.Xpm({type:C,selectors:[["app-filter-date-range-picker"]],features:[r.qOj],decls:8,vars:9,consts:[[1,"input-group"],["type","text","disabled","disabled","bsDaterangepicker","","dateRangePickerLuxonModifier","","placement","bottom",1,"form-control","date-range-filter",3,"value","date","dateChange"],["dateRangePicker","bsDaterangepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-calendar-day","p-0",2,"color","white"]],template:function(L,w){if(1&L){const j=r.EpF();r.TgZ(0,"div",0)(1,"input",1,2),r.NdJ("dateChange",function(ve){return w.selectedDateRange=ve})("dateChange",function(){return w.onChange()}),r.ALo(3,"luxonFormat"),r.ALo(4,"luxonFormat"),r.qZA(),r.TgZ(5,"div",3)(6,"button",4),r.NdJ("click",function(){r.CHM(j);const ve=r.MAs(2);return r.KtG(ve.toggle())}),r._UZ(7,"i",5),r.qZA()()()}2&L&&(r.xp6(1),r.hYB("value","",r.xi3(3,3,w.selectedDateRange[0],"ff")," - ",r.xi3(4,6,w.selectedDateRange[1],"ff"),""),r.Q6J("date",w.selectedDateRange))},dependencies:[Ti.t,Bi.FR,Bi.TB,pe.n]})}return C})();class fs extends rt{constructor(){super(...arguments),this.totalProfit=0,this.totalProfitCounter=0,this.newFeedbacks=0,this.newFeedbacksCounter=0,this.newOrders=0,this.newOrdersCounter=0,this.newUsers=0,this.newUsersCounter=0,this.totalProfitChange=76,this.totalProfitChangeCounter=0,this.newFeedbacksChange=85,this.newFeedbacksChangeCounter=0,this.newOrdersChange=45,this.newOrdersChangeCounter=0,this.newUsersChange=57,this.newUsersChangeCounter=0}init(E,T,L,w){this.totalProfit=E,this.newFeedbacks=T,this.newOrders=L,this.newUsers=w,this.hideLoading()}}let hi=(()=>{class C extends Z{constructor(T,L){super(T),this._tenantDashboardServiceProxy=L,this.dashboardTopStats=new fs}ngOnInit(){this.loadTopStatsData()}loadTopStatsData(){this._tenantDashboardServiceProxy.getTopStats().subscribe(T=>{this.dashboardTopStats.init(T.totalProfit,T.newFeedbacks,T.newOrders,T.newUsers)})}static#t=this.\u0275fac=function(L){return new(L||C)(r.Y36(r.zs3),r.Y36(H.AdH))};static#e=this.\u0275cmp=r.Xpm({type:C,selectors:[["app-widget-top-stats"]],features:[r.qOj],decls:79,vars:24,consts:[["perfectScrollbar","",1,"row","row-no-padding","row-col-separator-xl","h-100"],[1,"col","pr-0"],[1,"card","card-custom","bgi-no-repeat","card-stretch","new-subscription-statistics","h-100"],[1,"card-body"],[1,"text-left","fw-bolder","text-dark","fs-h6","text-hover-state-dark","d-block"],[1,"text-muted","fw-bold","text-left","float-left","col-12","p-0","mb-4"],[1,"text-left","text-primary","fw-bolder","fs-h2","me-2"],["counto","",3,"step","duration","countFrom","countTo","countoChange"],[1,"progress","progress-xs","bg-primary-o-60"],["role","progressbar","aria-valuenow","76","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","76%"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"text-muted","me-2","fs-sm","fw-bold"],[1,"text-muted","fs-sm","fw-bold"],[1,"counterup"],[1,"text-left","text-info","fw-bolder","fs-h2","me-2"],[1,"progress","progress-xs","bg-info-o-60"],["role","progressbar","aria-valuenow","85","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info",2,"width","85%"],[1,"text-left","text-danger","fw-bolder","fs-h2","me-2"],[1,"progress","progress-xs","bg-danger-o-60"],["role","progressbar","aria-valuenow","45","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","45%"],[1,"col"],[1,"text-left","text-success","fw-bolder","fs-h2","me-2"],[1,"progress","progress-xs","bg-success-o-60"],["role","progressbar","aria-valuenow","57","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",2,"width","57%"]],template:function(L,w){1&L&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),r._uU(5," Total Profit "),r.qZA(),r.TgZ(6,"span",5),r._uU(7,"All Customs Value"),r.qZA(),r.TgZ(8,"div",6),r._uU(9," $ "),r.TgZ(10,"span",7),r.NdJ("countoChange",function(ot){return w.dashboardTopStats.totalProfitCounter=ot}),r._uU(11),r.qZA()(),r.TgZ(12,"div",8),r._UZ(13,"div",9),r.qZA(),r.TgZ(14,"div",10)(15,"span",11),r._uU(16,"Change"),r.qZA(),r.TgZ(17,"span",12)(18,"span",13),r._uU(19),r.qZA(),r._uU(20," % "),r.qZA()()()()(),r.TgZ(21,"div",1)(22,"div",2)(23,"div",3)(24,"span",4),r._uU(25," New Feedbacks "),r.qZA(),r.TgZ(26,"span",5),r._uU(27,"Customer Review"),r.qZA(),r.TgZ(28,"div",14),r._uU(29," $ "),r.TgZ(30,"span",7),r.NdJ("countoChange",function(ot){return w.dashboardTopStats.newFeedbacksCounter=ot}),r._uU(31),r.qZA()(),r.TgZ(32,"div",15),r._UZ(33,"div",16),r.qZA(),r.TgZ(34,"div",10)(35,"span",11),r._uU(36,"Change"),r.qZA(),r.TgZ(37,"span",12)(38,"span",13),r._uU(39),r.qZA(),r._uU(40," % "),r.qZA()()()()(),r.TgZ(41,"div",1)(42,"div",2)(43,"div",3)(44,"span",4),r._uU(45," New Orders "),r.qZA(),r.TgZ(46,"span",5),r._uU(47,"Fresh Order Amount"),r.qZA(),r.TgZ(48,"div",17)(49,"span",7),r.NdJ("countoChange",function(ot){return w.dashboardTopStats.newOrdersCounter=ot}),r._uU(50),r.qZA()(),r.TgZ(51,"div",18),r._UZ(52,"div",19),r.qZA(),r.TgZ(53,"div",10)(54,"span",11),r._uU(55,"Change"),r.qZA(),r.TgZ(56,"span",12)(57,"span",13),r._uU(58),r.qZA(),r._uU(59," % "),r.qZA()()()()(),r.TgZ(60,"div",20)(61,"div",2)(62,"div",3)(63,"span",4),r._uU(64," New Users "),r.qZA(),r.TgZ(65,"span",5),r._uU(66,"Joined New User"),r.qZA(),r.TgZ(67,"div",21)(68,"span",7),r.NdJ("countoChange",function(ot){return w.dashboardTopStats.newUsersCounter=ot}),r._uU(69),r.qZA()(),r.TgZ(70,"div",22),r._UZ(71,"div",23),r.qZA(),r.TgZ(72,"div",10)(73,"span",11),r._uU(74,"Change"),r.qZA(),r.TgZ(75,"span",12)(76,"span",13),r._uU(77),r.qZA(),r._uU(78," % "),r.qZA()()()()()()),2&L&&(r.xp6(10),r.Q6J("step",30)("duration",1)("countFrom",0)("countTo",w.dashboardTopStats.totalProfit),r.xp6(1),r.hij(" ",w.dashboardTopStats.totalProfitCounter.toFixed(0)," "),r.xp6(8),r.Oqu(w.dashboardTopStats.totalProfitChange),r.xp6(11),r.Q6J("step",30)("duration",1)("countFrom",0)("countTo",w.dashboardTopStats.newFeedbacks),r.xp6(1),r.hij(" ",w.dashboardTopStats.newFeedbacksCounter.toFixed(0)," "),r.xp6(8),r.Oqu(w.dashboardTopStats.newFeedbacks),r.xp6(10),r.Q6J("step",30)("duration",1)("countFrom",0)("countTo",w.dashboardTopStats.newOrders),r.xp6(1),r.hij(" ",w.dashboardTopStats.newOrdersCounter.toFixed(0)," "),r.xp6(8),r.Oqu(w.dashboardTopStats.newOrdersChange),r.xp6(10),r.Q6J("step",30)("duration",1)("countFrom",0)("countTo",w.dashboardTopStats.newUsers),r.xp6(1),r.hij(" ",w.dashboardTopStats.newUsersCounter.toFixed(0)," "),r.xp6(8),r.Oqu(w.dashboardTopStats.newUsersChange))},dependencies:[X.$,ae.T],styles:[".card.card-custom[_ngcontent-%COMP%] > .card-body[_ngcontent-%COMP%]{padding:1rem 1.25rem}"]})}return C})(),xs=(()=>{class C{constructor(){this.WidgetViewDefinitions=[],this.widgetFilterDefinitions=[],this.initializeConfiguration()}initializeConfiguration(){let T=new v(st.t.filters.filterDateRangePicker,sn);this.widgetFilterDefinitions.push(T);let L=new n(st.t.widgets.tenant.generalStats,qt,6,4),w=new n(st.t.widgets.tenant.dailySales,Pe),j=new n(st.t.widgets.tenant.profitShare,$i),ot=new n(st.t.widgets.tenant.memberActivity,ft),ve=new n(st.t.widgets.tenant.regionalStats,se),_s=new n(st.t.widgets.tenant.salesSummary,ke),vs=new n(st.t.widgets.tenant.topStats,hi),ys=new n(st.t.widgets.host.incomeStatistics,ri),Ts=new n(st.t.widgets.host.editionStatistics,F),Cs=new n(st.t.widgets.host.recentTenants,R),bs=new n(st.t.widgets.host.subscriptionExpiringTenants,J),ws=new n(st.t.widgets.host.topStats,_e);this.WidgetViewDefinitions.push(L),this.WidgetViewDefinitions.push(w),this.WidgetViewDefinitions.push(j),this.WidgetViewDefinitions.push(ot),this.WidgetViewDefinitions.push(ve),this.WidgetViewDefinitions.push(_s),this.WidgetViewDefinitions.push(vs),this.WidgetViewDefinitions.push(ys),this.WidgetViewDefinitions.push(Ts),this.WidgetViewDefinitions.push(Cs),this.WidgetViewDefinitions.push(bs),this.WidgetViewDefinitions.push(ws)}static#t=this.\u0275fac=function(L){return new(L||C)};static#e=this.\u0275prov=r.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},52178:pi=>{function Gt(v){return v instanceof Buffer?Buffer.from(v):new v.constructor(v.buffer.slice(),v.byteOffset,v.length)}pi.exports=function z(v){return(v=v||{}).circles?function n(v){var st=[],rt=[];return v.proto?function r(Z){if("object"!=typeof Z||null===Z)return Z;if(Z instanceof Date)return new Date(Z);if(Array.isArray(Z))return gt(Z,r);if(Z instanceof Map)return new Map(gt(Array.from(Z),r));if(Z instanceof Set)return new Set(gt(Array.from(Z),r));var H={};for(var et in st.push(Z),rt.push(H),Z){var X=Z[et];if("object"!=typeof X||null===X)H[et]=X;else if(X instanceof Date)H[et]=new Date(X);else if(X instanceof Map)H[et]=new Map(gt(Array.from(X),r));else if(X instanceof Set)H[et]=new Set(gt(Array.from(X),r));else if(ArrayBuffer.isView(X))H[et]=Gt(X);else{var ht=st.indexOf(X);H[et]=-1!==ht?rt[ht]:r(X)}}return st.pop(),rt.pop(),H}:function tt(Z){if("object"!=typeof Z||null===Z)return Z;if(Z instanceof Date)return new Date(Z);if(Array.isArray(Z))return gt(Z,tt);if(Z instanceof Map)return new Map(gt(Array.from(Z),tt));if(Z instanceof Set)return new Set(gt(Array.from(Z),tt));var H={};for(var et in st.push(Z),rt.push(H),Z)if(!1!==Object.hasOwnProperty.call(Z,et)){var X=Z[et];if("object"!=typeof X||null===X)H[et]=X;else if(X instanceof Date)H[et]=new Date(X);else if(X instanceof Map)H[et]=new Map(gt(Array.from(X),tt));else if(X instanceof Set)H[et]=new Set(gt(Array.from(X),tt));else if(ArrayBuffer.isView(X))H[et]=Gt(X);else{var ht=st.indexOf(X);H[et]=-1!==ht?rt[ht]:tt(X)}}return st.pop(),rt.pop(),H};function gt(Z,H){for(var et=Object.keys(Z),X=new Array(et.length),ht=0;ht<et.length;ht++){var qt=et[ht],Bt=Z[qt];if("object"!=typeof Bt||null===Bt)X[qt]=Bt;else if(Bt instanceof Date)X[qt]=new Date(Bt);else if(ArrayBuffer.isView(Bt))X[qt]=Gt(Bt);else{var me=st.indexOf(Bt);X[qt]=-1!==me?rt[me]:H(Bt)}}return X}}(v):v.proto?function gt(tt){if("object"!=typeof tt||null===tt)return tt;if(tt instanceof Date)return new Date(tt);if(Array.isArray(tt))return st(tt,gt);if(tt instanceof Map)return new Map(st(Array.from(tt),gt));if(tt instanceof Set)return new Set(st(Array.from(tt),gt));var r={};for(var Z in tt){var H=tt[Z];r[Z]="object"!=typeof H||null===H?H:H instanceof Date?new Date(H):H instanceof Map?new Map(st(Array.from(H),gt)):H instanceof Set?new Set(st(Array.from(H),gt)):ArrayBuffer.isView(H)?Gt(H):gt(H)}return r}:function rt(tt){if("object"!=typeof tt||null===tt)return tt;if(tt instanceof Date)return new Date(tt);if(Array.isArray(tt))return st(tt,rt);if(tt instanceof Map)return new Map(st(Array.from(tt),rt));if(tt instanceof Set)return new Set(st(Array.from(tt),rt));var r={};for(var Z in tt)if(!1!==Object.hasOwnProperty.call(tt,Z)){var H=tt[Z];r[Z]="object"!=typeof H||null===H?H:H instanceof Date?new Date(H):H instanceof Map?new Map(st(Array.from(H),rt)):H instanceof Set?new Set(st(Array.from(H),rt)):ArrayBuffer.isView(H)?Gt(H):rt(H)}return r};function st(tt,r){for(var Z=Object.keys(tt),H=new Array(Z.length),et=0;et<Z.length;et++){var X=Z[et],ht=tt[X];H[X]="object"!=typeof ht||null===ht?ht:ht instanceof Date?new Date(ht):ArrayBuffer.isView(ht)?Gt(ht):r(ht)}return H}}},60357:(pi,Gt,z)=>{z.d(Gt,{rt:()=>Qp,vP:()=>Kp,vz:()=>jp,pT:()=>af,K$:()=>sf,Dw:()=>lf,Zk:()=>cf,JU:()=>gf,NA:()=>_f,Nm:()=>xf});var n=z(99468),v=z(96814),st=z(97582);class et{attach(s){return this._attachedHost=s,s.attach(this)}detach(){let s=this._attachedHost;null!=s&&(this._attachedHost=null,s.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(s){this._attachedHost=s}}class X extends et{constructor(s,t,i,a,o){super(),this.component=s,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=a,this.projectableNodes=o}}class ht extends et{constructor(s,t,i,a){super(),this.templateRef=s,this.viewContainerRef=t,this.context=i,this.injector=a}get origin(){return this.templateRef.elementRef}attach(s,t=this.context){return this.context=t,super.attach(s)}detach(){return this.context=void 0,super.detach()}}class qt extends et{constructor(s){super(),this.element=s instanceof n.SBq?s.nativeElement:s}}class Bt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(s){return s instanceof X?(this._attachedPortal=s,this.attachComponentPortal(s)):s instanceof ht?(this._attachedPortal=s,this.attachTemplatePortal(s)):this.attachDomPortal&&s instanceof qt?(this._attachedPortal=s,this.attachDomPortal(s)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(s){this._disposeFn=s}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Pe extends Bt{constructor(s,t,i,a,o){super(),this.outletElement=s,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=a,this.attachDomPortal=l=>{const c=l.element,u=this._document.createComment("dom-portal");c.parentNode.insertBefore(u,c),this.outletElement.appendChild(c),this._attachedPortal=l,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=o}attachComponentPortal(s){const i=(s.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(s.component);let a;return s.viewContainerRef?(a=s.viewContainerRef.createComponent(i,s.viewContainerRef.length,s.injector||s.viewContainerRef.injector,s.projectableNodes||void 0),this.setDisposeFn(()=>a.destroy())):(a=i.create(s.injector||this._defaultInjector||n.zs3.NULL),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=s,a}attachTemplatePortal(s){let t=s.viewContainerRef,i=t.createEmbeddedView(s.templateRef,s.context,{injector:s.injector});return i.rootNodes.forEach(a=>this.outletElement.appendChild(a)),i.detectChanges(),this.setDisposeFn(()=>{let a=t.indexOf(i);-1!==a&&t.remove(a)}),this._attachedPortal=s,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(s){return s.hostView.rootNodes[0]}}var fi=z(92438),At=z(83620),ft=z(86825);function ii(){}function Oe(e){return null==e?ii:function(){return this.querySelector(e)}}function be(){return[]}function se(e){return null==e?be:function(){return this.querySelectorAll(e)}}function ae(e){return function(){return this.matches(e)}}function Rt(e){return function(s){return s.matches(e)}}var ce=Array.prototype.find;function Se(){return this.firstElementChild}var Ye=Array.prototype.filter;function Ae(){return Array.from(this.children)}function fe(e){return new Array(e.length)}function xe(e,s){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=s}function li(e,s,t,i,a,o){for(var c,l=0,u=s.length,g=o.length;l<g;++l)(c=s[l])?(c.__data__=o[l],i[l]=c):t[l]=new xe(e,o[l]);for(;l<u;++l)(c=s[l])&&(a[l]=c)}function xi(e,s,t,i,a,o,l){var c,u,b,g=new Map,p=s.length,x=o.length,_=new Array(p);for(c=0;c<p;++c)(u=s[c])&&(_[c]=b=l.call(u,u.__data__,c,s)+"",g.has(b)?a[c]=u:g.set(b,u));for(c=0;c<x;++c)b=l.call(e,o[c],c,o)+"",(u=g.get(b))?(i[c]=u,u.__data__=o[c],g.delete(b)):t[c]=new xe(e,o[c]);for(c=0;c<p;++c)(u=s[c])&&g.get(_[c])===u&&(a[c]=u)}function _i(e){return e.__data__}function ci(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function F(e,s){return e<s?-1:e>s?1:e>=s?0:NaN}xe.prototype={constructor:xe,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,s){return this._parent.insertBefore(e,s)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var M="http://www.w3.org/1999/xhtml";const J={svg:"http://www.w3.org/2000/svg",xhtml:M,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function it(e){var s=e+="",t=s.indexOf(":");return t>=0&&"xmlns"!==(s=e.slice(0,t))&&(e=e.slice(t+1)),J.hasOwnProperty(s)?{space:J[s],local:e}:e}function at(e){return function(){this.removeAttribute(e)}}function wt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zt(e,s){return function(){this.setAttribute(e,s)}}function oe(e,s){return function(){this.setAttributeNS(e.space,e.local,s)}}function he(e,s){return function(){var t=s.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function Xt(e,s){return function(){var t=s.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function _e(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ti(e){return function(){this.style.removeProperty(e)}}function Bi(e,s,t){return function(){this.style.setProperty(e,s,t)}}function sn(e,s,t){return function(){var i=s.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,t)}}function hi(e,s){return e.style.getPropertyValue(s)||_e(e).getComputedStyle(e,null).getPropertyValue(s)}function xs(e){return function(){delete this[e]}}function C(e,s){return function(){this[e]=s}}function E(e,s){return function(){var t=s.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function L(e){return e.trim().split(/^|\s+/)}function w(e){return e.classList||new j(e)}function j(e){this._node=e,this._names=L(e.getAttribute("class")||"")}function ot(e,s){for(var t=w(e),i=-1,a=s.length;++i<a;)t.add(s[i])}function ve(e,s){for(var t=w(e),i=-1,a=s.length;++i<a;)t.remove(s[i])}function _s(e){return function(){ot(this,e)}}function vs(e){return function(){ve(this,e)}}function ys(e,s){return function(){(s.apply(this,arguments)?ot:ve)(this,e)}}function Cs(){this.textContent=""}function bs(e){return function(){this.textContent=e}}function ws(e){return function(){var s=e.apply(this,arguments);this.textContent=s??""}}function tl(){this.innerHTML=""}function el(e){return function(){this.innerHTML=e}}function il(e){return function(){var s=e.apply(this,arguments);this.innerHTML=s??""}}function sl(){this.nextSibling&&this.parentNode.appendChild(this)}function ol(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ll(e){return function(){var s=this.ownerDocument,t=this.namespaceURI;return t===M&&s.documentElement.namespaceURI===M?s.createElement(e):s.createElementNS(t,e)}}function cl(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Fa(e){var s=it(e);return(s.local?cl:ll)(s)}function dl(){return null}function ul(){var e=this.parentNode;e&&e.removeChild(this)}function pl(){var e=this.cloneNode(!1),s=this.parentNode;return s?s.insertBefore(e,this.nextSibling):e}function fl(){var e=this.cloneNode(!0),s=this.parentNode;return s?s.insertBefore(e,this.nextSibling):e}function Tl(e){return function(){var s=this.__on;if(s){for(var o,t=0,i=-1,a=s.length;t<a;++t)o=s[t],e.type&&o.type!==e.type||o.name!==e.name?s[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?s.length=i:delete this.__on}}}function Cl(e,s,t){return function(){var a,i=this.__on,o=function vl(e){return function(s){e.call(this,s,this.__data__)}}(s);if(i)for(var l=0,c=i.length;l<c;++l)if((a=i[l]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=t),void(a.value=s);this.addEventListener(e.type,o,t),a={type:e.type,name:e.name,value:s,listener:o,options:t},i?i.push(a):this.__on=[a]}}function Ea(e,s,t){var i=_e(e),a=i.CustomEvent;"function"==typeof a?a=new a(s,t):(a=i.document.createEvent("Event"),t?(a.initEvent(s,t.bubbles,t.cancelable),a.detail=t.detail):a.initEvent(s,!1,!1)),e.dispatchEvent(a)}function wl(e,s){return function(){return Ea(this,e,s)}}function Sl(e,s){return function(){return Ea(this,e,s.apply(this,arguments))}}j.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var s=this._names.indexOf(e);s>=0&&(this._names.splice(s,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Ia=[null];function ge(e,s){this._groups=e,this._parents=s}function Pa(){return new ge([[document.documentElement]],Ia)}ge.prototype=Pa.prototype={constructor:ge,select:function ni(e){"function"!=typeof e&&(e=Oe(e));for(var s=this._groups,t=s.length,i=new Array(t),a=0;a<t;++a)for(var u,g,o=s[a],l=o.length,c=i[a]=new Array(l),p=0;p<l;++p)(u=o[p])&&(g=e.call(u,u.__data__,p,o))&&("__data__"in u&&(g.__data__=u.__data__),c[p]=g);return new ge(i,this._parents)},selectAll:function zt(e){e="function"==typeof e?function ai(e){return function(){return function si(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}(e):se(e);for(var s=this._groups,t=s.length,i=[],a=[],o=0;o<t;++o)for(var u,l=s[o],c=l.length,g=0;g<c;++g)(u=l[g])&&(i.push(e.call(u,u.__data__,g,l)),a.push(u));return new ge(i,a)},selectChild:function ke(e){return this.select(null==e?Se:function we(e){return function(){return ce.call(this.children,e)}}("function"==typeof e?e:Rt(e)))},selectChildren:function oi(e){return this.selectAll(null==e?Ae:function pe(e){return function(){return Ye.call(this.children,e)}}("function"==typeof e?e:Rt(e)))},filter:function We(e){"function"!=typeof e&&(e=ae(e));for(var s=this._groups,t=s.length,i=new Array(t),a=0;a<t;++a)for(var u,o=s[a],l=o.length,c=i[a]=[],g=0;g<l;++g)(u=o[g])&&e.call(u,u.__data__,g,o)&&c.push(u);return new ge(i,this._parents)},data:function Yt(e,s){if(!arguments.length)return Array.from(this,_i);var t=s?xi:li,i=this._parents,a=this._groups;"function"!=typeof e&&(e=function Ge(e){return function(){return e}}(e));for(var o=a.length,l=new Array(o),c=new Array(o),u=new Array(o),g=0;g<o;++g){var p=i[g],x=a[g],_=x.length,b=ci(e.call(p,p&&p.__data__,g,i)),D=b.length,B=c[g]=new Array(D),S=l[g]=new Array(D);t(p,x,B,S,u[g]=new Array(_),b,s);for(var Y,U,N=0,O=0;N<D;++N)if(Y=B[N]){for(N>=O&&(O=N+1);!(U=S[O])&&++O<D;);Y._next=U||null}}return(l=new ge(l,i))._enter=c,l._exit=u,l},enter:function ri(){return new ge(this._enter||this._groups.map(fe),this._parents)},exit:function vi(){return new ge(this._exit||this._groups.map(fe),this._parents)},join:function yi(e,s,t){var i=this.enter(),a=this,o=this.exit();return"function"==typeof e?(i=e(i))&&(i=i.selection()):i=i.append(e+""),null!=s&&(a=s(a))&&(a=a.selection()),null==t?o.remove():t(o),i&&a?i.merge(a).order():a},merge:function R(e){for(var s=e.selection?e.selection():e,t=this._groups,i=s._groups,a=t.length,l=Math.min(a,i.length),c=new Array(a),u=0;u<l;++u)for(var b,g=t[u],p=i[u],x=g.length,_=c[u]=new Array(x),D=0;D<x;++D)(b=g[D]||p[D])&&(_[D]=b);for(;u<a;++u)c[u]=t[u];return new ge(c,this._parents)},selection:function Ll(){return this},order:function Tt(){for(var e=this._groups,s=-1,t=e.length;++s<t;)for(var l,i=e[s],a=i.length-1,o=i[a];--a>=0;)(l=i[a])&&(o&&4^l.compareDocumentPosition(o)&&o.parentNode.insertBefore(l,o),o=l);return this},sort:function A(e){function s(x,_){return x&&_?e(x.__data__,_.__data__):!x-!_}e||(e=F);for(var t=this._groups,i=t.length,a=new Array(i),o=0;o<i;++o){for(var g,l=t[o],c=l.length,u=a[o]=new Array(c),p=0;p<c;++p)(g=l[p])&&(u[p]=g);u.sort(s)}return new ge(a,this._parents).order()},call:function y(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function h(){return Array.from(this)},node:function d(){for(var e=this._groups,s=0,t=e.length;s<t;++s)for(var i=e[s],a=0,o=i.length;a<o;++a){var l=i[a];if(l)return l}return null},size:function m(){let e=0;for(const s of this)++e;return e},empty:function f(){return!this.node()},each:function k(e){for(var s=this._groups,t=0,i=s.length;t<i;++t)for(var c,a=s[t],o=0,l=a.length;o<l;++o)(c=a[o])&&e.call(c,c.__data__,o,a);return this},attr:function de(e,s){var t=it(e);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((null==s?t.local?wt:at:"function"==typeof s?t.local?Xt:he:t.local?oe:Zt)(t,s))},style:function fs(e,s,t){return arguments.length>1?this.each((null==s?Ti:"function"==typeof s?sn:Bi)(e,s,t??"")):hi(this.node(),e)},property:function T(e,s){return arguments.length>1?this.each((null==s?xs:"function"==typeof s?E:C)(e,s)):this.node()[e]},classed:function Ts(e,s){var t=L(e+"");if(arguments.length<2){for(var i=w(this.node()),a=-1,o=t.length;++a<o;)if(!i.contains(t[a]))return!1;return!0}return this.each(("function"==typeof s?ys:s?_s:vs)(t,s))},text:function Kr(e){return arguments.length?this.each(null==e?Cs:("function"==typeof e?ws:bs)(e)):this.node().textContent},html:function nl(e){return arguments.length?this.each(null==e?tl:("function"==typeof e?il:el)(e)):this.node().innerHTML},raise:function al(){return this.each(sl)},lower:function rl(){return this.each(ol)},append:function hl(e){var s="function"==typeof e?e:Fa(e);return this.select(function(){return this.appendChild(s.apply(this,arguments))})},insert:function gl(e,s){var t="function"==typeof e?e:Fa(e),i=null==s?dl:"function"==typeof s?s:Oe(s);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function ml(){return this.each(ul)},clone:function xl(e){return this.select(e?fl:pl)},datum:function _l(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function bl(e,s,t){var a,l,i=function yl(e){return e.trim().split(/^|\s+/).map(function(s){var t="",i=s.indexOf(".");return i>=0&&(t=s.slice(i+1),s=s.slice(0,i)),{type:s,name:t}})}(e+""),o=i.length;if(!(arguments.length<2)){for(c=s?Cl:Tl,a=0;a<o;++a)this.each(c(i[a],s,t));return this}var c=this.node().__on;if(c)for(var p,u=0,g=c.length;u<g;++u)for(a=0,p=c[u];a<o;++a)if((l=i[a]).type===p.type&&l.name===p.name)return p.value},dispatch:function kl(e,s){return this.each(("function"==typeof s?Sl:wl)(e,s))},[Symbol.iterator]:function*Al(){for(var e=this._groups,s=0,t=e.length;s<t;++s)for(var l,i=e[s],a=0,o=i.length;a<o;++a)(l=i[a])&&(yield l)}};const an=Pa;function ee(e){return"string"==typeof e?new ge([[document.querySelector(e)]],[document.documentElement]):new ge([[e]],Ia)}var Dl={value:()=>{}};function Oa(){for(var i,e=0,s=arguments.length,t={};e<s;++e){if(!(i=arguments[e]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new Mn(t)}function Mn(e){this._=e}function Fl(e,s){for(var a,t=0,i=e.length;t<i;++t)if((a=e[t]).name===s)return a.value}function $a(e,s,t){for(var i=0,a=e.length;i<a;++i)if(e[i].name===s){e[i]=Dl,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=t&&e.push({name:s,value:t}),e}Mn.prototype=Oa.prototype={constructor:Mn,on:function(e,s){var a,t=this._,i=function Ml(e,s){return e.trim().split(/^|\s+/).map(function(t){var i="",a=t.indexOf(".");if(a>=0&&(i=t.slice(a+1),t=t.slice(0,a)),t&&!s.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}(e+"",t),o=-1,l=i.length;if(!(arguments.length<2)){if(null!=s&&"function"!=typeof s)throw new Error("invalid callback: "+s);for(;++o<l;)if(a=(e=i[o]).type)t[a]=$a(t[a],e.name,s);else if(null==s)for(a in t)t[a]=$a(t[a],e.name,null);return this}for(;++o<l;)if((a=(e=i[o]).type)&&(a=Fl(t[a],e.name)))return a},copy:function(){var e={},s=this._;for(var t in s)e[t]=s[t].slice();return new Mn(e)},call:function(e,s){if((a=arguments.length-2)>0)for(var a,o,t=new Array(a),i=0;i<a;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,a=(o=this._[e]).length;i<a;++i)o[i].value.apply(s,t)},apply:function(e,s,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],a=0,o=i.length;a<o;++a)i[a].value.apply(s,t)}};const Ba=Oa,Ss={capture:!0,passive:!1};function ks(e){e.preventDefault(),e.stopImmediatePropagation()}function As(e,s,t){e.prototype=s.prototype=t,t.constructor=e}function za(e,s){var t=Object.create(e.prototype);for(var i in s)t[i]=s[i];return t}function on(){}var Fn=1/.7,zi="\\s*([+-]?\\d+)\\s*",ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pl=/^#([0-9a-f]{3,8})$/,Ol=new RegExp(`^rgb\\(${zi},${zi},${zi}\\)$`),$l=new RegExp(`^rgb\\(${$e},${$e},${$e}\\)$`),Bl=new RegExp(`^rgba\\(${zi},${zi},${zi},${ln}\\)$`),zl=new RegExp(`^rgba\\(${$e},${$e},${$e},${ln}\\)$`),Rl=new RegExp(`^hsl\\(${ln},${$e},${$e}\\)$`),Hl=new RegExp(`^hsla\\(${ln},${$e},${$e},${ln}\\)$`),Ra={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ha(){return this.rgb().formatHex()}function Na(){return this.rgb().formatRgb()}function Ci(e){var s,t;return e=(e+"").trim().toLowerCase(),(s=Pl.exec(e))?(t=s[1].length,s=parseInt(s[1],16),6===t?Za(s):3===t?new re(s>>8&15|s>>4&240,s>>4&15|240&s,(15&s)<<4|15&s,1):8===t?En(s>>24&255,s>>16&255,s>>8&255,(255&s)/255):4===t?En(s>>12&15|s>>8&240,s>>8&15|s>>4&240,s>>4&15|240&s,((15&s)<<4|15&s)/255):null):(s=Ol.exec(e))?new re(s[1],s[2],s[3],1):(s=$l.exec(e))?new re(255*s[1]/100,255*s[2]/100,255*s[3]/100,1):(s=Bl.exec(e))?En(s[1],s[2],s[3],s[4]):(s=zl.exec(e))?En(255*s[1]/100,255*s[2]/100,255*s[3]/100,s[4]):(s=Rl.exec(e))?Wa(s[1],s[2]/100,s[3]/100,1):(s=Hl.exec(e))?Wa(s[1],s[2]/100,s[3]/100,s[4]):Ra.hasOwnProperty(e)?Za(Ra[e]):"transparent"===e?new re(NaN,NaN,NaN,0):null}function Za(e){return new re(e>>16&255,e>>8&255,255&e,1)}function En(e,s,t,i){return i<=0&&(e=s=t=NaN),new re(e,s,t,i)}function In(e,s,t,i){return 1===arguments.length?function Vl(e){return e instanceof on||(e=Ci(e)),e?new re((e=e.rgb()).r,e.g,e.b,e.opacity):new re}(e):new re(e,s,t,i??1)}function re(e,s,t,i){this.r=+e,this.g=+s,this.b=+t,this.opacity=+i}function Va(){return`#${wi(this.r)}${wi(this.g)}${wi(this.b)}`}function Ya(){const e=Pn(this.opacity);return`${1===e?"rgb(":"rgba("}${bi(this.r)}, ${bi(this.g)}, ${bi(this.b)}${1===e?")":`, ${e})`}`}function Pn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wi(e){return((e=bi(e))<16?"0":"")+e.toString(16)}function Wa(e,s,t,i){return i<=0?e=s=t=NaN:t<=0||t>=1?e=s=NaN:s<=0&&(e=NaN),new Le(e,s,t,i)}function Ga(e){if(e instanceof Le)return new Le(e.h,e.s,e.l,e.opacity);if(e instanceof on||(e=Ci(e)),!e)return new Le;if(e instanceof Le)return e;var s=(e=e.rgb()).r/255,t=e.g/255,i=e.b/255,a=Math.min(s,t,i),o=Math.max(s,t,i),l=NaN,c=o-a,u=(o+a)/2;return c?(l=s===o?(t-i)/c+6*(t<i):t===o?(i-s)/c+2:(s-t)/c+4,c/=u<.5?o+a:2-o-a,l*=60):c=u>0&&u<1?0:l,new Le(l,c,u,e.opacity)}function Le(e,s,t,i){this.h=+e,this.s=+s,this.l=+t,this.opacity=+i}function Xa(e){return(e=(e||0)%360)<0?e+360:e}function On(e){return Math.max(0,Math.min(1,e||0))}function Ls(e,s,t){return 255*(e<60?s+(t-s)*e/60:e<180?t:e<240?s+(t-s)*(240-e)/60:s)}function Ua(e,s,t,i,a){var o=e*e,l=o*e;return((1-3*e+3*o-l)*s+(4-6*o+3*l)*t+(1+3*e+3*o-3*l)*i+l*a)/6}As(on,Ci,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ha,formatHex:Ha,formatHex8:function Nl(){return this.rgb().formatHex8()},formatHsl:function Zl(){return Ga(this).formatHsl()},formatRgb:Na,toString:Na}),As(re,In,za(on,{brighter(e){return e=null==e?Fn:Math.pow(Fn,e),new re(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new re(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new re(bi(this.r),bi(this.g),bi(this.b),Pn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Va,formatHex:Va,formatHex8:function Yl(){return`#${wi(this.r)}${wi(this.g)}${wi(this.b)}${wi(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ya,toString:Ya})),As(Le,function Wl(e,s,t,i){return 1===arguments.length?Ga(e):new Le(e,s,t,i??1)},za(on,{brighter(e){return e=null==e?Fn:Math.pow(Fn,e),new Le(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new Le(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),s=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*s,a=2*t-i;return new re(Ls(e>=240?e-240:e+120,a,i),Ls(e,a,i),Ls(e<120?e+240:e-120,a,i),this.opacity)},clamp(){return new Le(Xa(this.h),On(this.s),On(this.l),Pn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pn(this.opacity);return`${1===e?"hsl(":"hsla("}${Xa(this.h)}, ${100*On(this.s)}%, ${100*On(this.l)}%${1===e?")":`, ${e})`}`}}));const Ds=e=>()=>e;function Ja(e,s){var t=s-e;return t?function qa(e,s){return function(t){return e+t*s}}(e,t):Ds(isNaN(e)?s:e)}const $n=function e(s){var t=function ql(e){return 1==(e=+e)?Ja:function(s,t){return t-s?function Ul(e,s,t){return e=Math.pow(e,t),s=Math.pow(s,t)-e,t=1/t,function(i){return Math.pow(e+i*s,t)}}(s,t,e):Ds(isNaN(s)?t:s)}}(s);function i(a,o){var l=t((a=In(a)).r,(o=In(o)).r),c=t(a.g,o.g),u=t(a.b,o.b),g=Ja(a.opacity,o.opacity);return function(p){return a.r=l(p),a.g=c(p),a.b=u(p),a.opacity=g(p),a+""}}return i.gamma=e,i}(1);function Qa(e){return function(s){var l,c,t=s.length,i=new Array(t),a=new Array(t),o=new Array(t);for(l=0;l<t;++l)c=In(s[l]),i[l]=c.r||0,a[l]=c.g||0,o[l]=c.b||0;return i=e(i),a=e(a),o=e(o),c.opacity=1,function(u){return c.r=i(u),c.g=a(u),c.b=o(u),c+""}}}function ja(e,s){var l,t=s?s.length:0,i=e?Math.min(t,e.length):0,a=new Array(i),o=new Array(t);for(l=0;l<i;++l)a[l]=Si(e[l],s[l]);for(;l<t;++l)o[l]=s[l];return function(c){for(l=0;l<i;++l)o[l]=a[l](c);return o}}function Jl(e,s){var t=new Date;return e=+e,s=+s,function(i){return t.setTime(e*(1-i)+s*i),t}}function De(e,s){return e=+e,s=+s,function(t){return e*(1-t)+s*t}}function Ql(e,s){var a,t={},i={};for(a in(null===e||"object"!=typeof e)&&(e={}),(null===s||"object"!=typeof s)&&(s={}),s)a in e?t[a]=Si(e[a],s[a]):i[a]=s[a];return function(o){for(a in t)i[a]=t[a](o);return i}}Qa(function Gl(e){var s=e.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,s-1):Math.floor(t*s),a=e[i],o=e[i+1];return Ua((t-i/s)*s,i>0?e[i-1]:2*a-o,a,o,i<s-1?e[i+2]:2*o-a)}}),Qa(function Xl(e){var s=e.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*s);return Ua((t-i/s)*s,e[(i+s-1)%s],e[i%s],e[(i+1)%s],e[(i+2)%s])}});var Ms=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fs=new RegExp(Ms.source,"g");function Ka(e,s){var i,a,o,t=Ms.lastIndex=Fs.lastIndex=0,l=-1,c=[],u=[];for(e+="",s+="";(i=Ms.exec(e))&&(a=Fs.exec(s));)(o=a.index)>t&&(o=s.slice(t,o),c[l]?c[l]+=o:c[++l]=o),(i=i[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,u.push({i:l,x:De(i,a)})),t=Fs.lastIndex;return t<s.length&&(o=s.slice(t),c[l]?c[l]+=o:c[++l]=o),c.length<2?u[0]?function Kl(e){return function(s){return e(s)+""}}(u[0].x):function jl(e){return function(){return e}}(s):(s=u.length,function(g){for(var x,p=0;p<s;++p)c[(x=u[p]).i]=x.x(g);return c.join("")})}function tc(e,s){s||(s=[]);var a,t=e?Math.min(s.length,e.length):0,i=s.slice();return function(o){for(a=0;a<t;++a)i[a]=e[a]*(1-o)+s[a]*o;return i}}function Si(e,s){var i,t=typeof s;return null==s||"boolean"===t?Ds(s):("number"===t?De:"string"===t?(i=Ci(s))?(s=i,$n):Ka:s instanceof Ci?$n:s instanceof Date?Jl:function ec(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(s)?tc:Array.isArray(s)?ja:"function"!=typeof s.valueOf&&"function"!=typeof s.toString||isNaN(s)?Ql:De)(e,s)}function to(e,s){if(e=function ic(e){let s;for(;s=e.sourceEvent;)e=s;return e}(e),void 0===s&&(s=e.currentTarget),s){var t=s.ownerSVGElement||s;if(t.createSVGPoint){var i=t.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(s.getScreenCTM().inverse())).x,i.y]}if(s.getBoundingClientRect){var a=s.getBoundingClientRect();return[e.clientX-a.left-s.clientLeft,e.clientY-a.top-s.clientTop]}}return[e.pageX,e.pageY]}var Bn,dn,Ri=0,cn=0,hn=0,eo=1e3,zn=0,ki=0,Rn=0,gn="object"==typeof performance&&performance.now?performance:Date,io="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Es(){return ki||(io(nc),ki=gn.now()+Rn)}function nc(){ki=0}function Hn(){this._call=this._time=this._next=null}function no(e,s,t){var i=new Hn;return i.restart(e,s,t),i}function so(){ki=(zn=gn.now())+Rn,Ri=cn=0;try{!function sc(){Es(),++Ri;for(var s,e=Bn;e;)(s=ki-e._time)>=0&&e._call.call(void 0,s),e=e._next;--Ri}()}finally{Ri=0,function oc(){for(var e,t,s=Bn,i=1/0;s;)s._call?(i>s._time&&(i=s._time),e=s,s=s._next):(t=s._next,s._next=null,s=e?e._next=t:Bn=t);dn=e,Is(i)}(),ki=0}}function ac(){var e=gn.now(),s=e-zn;s>eo&&(Rn-=s,zn=e)}function Is(e){Ri||(cn&&(cn=clearTimeout(cn)),e-ki>24?(e<1/0&&(cn=setTimeout(so,e-gn.now()-Rn)),hn&&(hn=clearInterval(hn))):(hn||(zn=gn.now(),hn=setInterval(ac,eo)),Ri=1,io(so)))}function ao(e,s,t){var i=new Hn;return i.restart(a=>{i.stop(),e(a+s)},s=null==s?0:+s,t),i}Hn.prototype=no.prototype={constructor:Hn,restart:function(e,s,t){if("function"!=typeof e)throw new TypeError("callback is not a function");t=(null==t?Es():+t)+(null==s?0:+s),!this._next&&dn!==this&&(dn?dn._next=this:Bn=this,dn=this),this._call=e,this._time=t,Is()},stop:function(){this._call&&(this._call=null,this._time=1/0,Is())}};var rc=Ba("start","end","cancel","interrupt"),lc=[],oo=0,Ps=2,Nn=3,Os=5,Zn=6;function Vn(e,s,t,i,a,o){var l=e.__transition;if(l){if(t in l)return}else e.__transition={};!function cc(e,s,t){var a,i=e.__transition;function l(g){var p,x,_,b;if(1!==t.state)return u();for(p in i)if((b=i[p]).name===t.name){if(b.state===Nn)return ao(l);4===b.state?(b.state=Zn,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete i[p]):+p<s&&(b.state=Zn,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete i[p])}if(ao(function(){t.state===Nn&&(t.state=4,t.timer.restart(c,t.delay,t.time),c(g))}),t.state=Ps,t.on.call("start",e,e.__data__,t.index,t.group),t.state===Ps){for(t.state=Nn,a=new Array(_=t.tween.length),p=0,x=-1;p<_;++p)(b=t.tween[p].value.call(e,e.__data__,t.index,t.group))&&(a[++x]=b);a.length=x+1}}function c(g){for(var p=g<t.duration?t.ease.call(null,g/t.duration):(t.timer.restart(u),t.state=Os,1),x=-1,_=a.length;++x<_;)a[x].call(e,p);t.state===Os&&(t.on.call("end",e,e.__data__,t.index,t.group),u())}function u(){for(var g in t.state=Zn,t.timer.stop(),delete i[s],i)return;delete e.__transition}i[s]=t,t.timer=no(function o(g){t.state=1,t.timer.restart(l,t.delay,t.time),t.delay<=g&&l(g-t.delay)},0,t.time)}(e,t,{name:s,index:i,group:a,on:rc,tween:lc,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:oo})}function $s(e,s){var t=Me(e,s);if(t.state>oo)throw new Error("too late; already scheduled");return t}function Be(e,s){var t=Me(e,s);if(t.state>Nn)throw new Error("too late; already running");return t}function Me(e,s){var t=e.__transition;if(!t||!(t=t[s]))throw new Error("transition not found");return t}function Bs(e,s){var i,a,l,t=e.__transition,o=!0;if(t){for(l in s=null==s?null:s+"",t)(i=t[l]).name===s?(a=i.state>Ps&&i.state<Os,i.state=Zn,i.timer.stop(),i.on.call(a?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete t[l]):o=!1;o&&delete e.__transition}}var Yn,co=180/Math.PI,zs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ho(e,s,t,i,a,o){var l,c,u;return(l=Math.sqrt(e*e+s*s))&&(e/=l,s/=l),(u=e*t+s*i)&&(t-=e*u,i-=s*u),(c=Math.sqrt(t*t+i*i))&&(t/=c,i/=c,u/=c),e*i<s*t&&(e=-e,s=-s,u=-u,l=-l),{translateX:a,translateY:o,rotate:Math.atan2(s,e)*co,skewX:Math.atan(u)*co,scaleX:l,scaleY:c}}function go(e,s,t,i){function a(g){return g.length?g.pop()+" ":""}return function(g,p){var x=[],_=[];return g=e(g),p=e(p),function o(g,p,x,_,b,D){if(g!==x||p!==_){var B=b.push("translate(",null,s,null,t);D.push({i:B-4,x:De(g,x)},{i:B-2,x:De(p,_)})}else(x||_)&&b.push("translate("+x+s+_+t)}(g.translateX,g.translateY,p.translateX,p.translateY,x,_),function l(g,p,x,_){g!==p?(g-p>180?p+=360:p-g>180&&(g+=360),_.push({i:x.push(a(x)+"rotate(",null,i)-2,x:De(g,p)})):p&&x.push(a(x)+"rotate("+p+i)}(g.rotate,p.rotate,x,_),function c(g,p,x,_){g!==p?_.push({i:x.push(a(x)+"skewX(",null,i)-2,x:De(g,p)}):p&&x.push(a(x)+"skewX("+p+i)}(g.skewX,p.skewX,x,_),function u(g,p,x,_,b,D){if(g!==x||p!==_){var B=b.push(a(b)+"scale(",null,",",null,")");D.push({i:B-4,x:De(g,x)},{i:B-2,x:De(p,_)})}else(1!==x||1!==_)&&b.push(a(b)+"scale("+x+","+_+")")}(g.scaleX,g.scaleY,p.scaleX,p.scaleY,x,_),g=p=null,function(b){for(var S,D=-1,B=_.length;++D<B;)x[(S=_[D]).i]=S.x(b);return x.join("")}}}var uc=go(function dc(e){const s=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return s.isIdentity?zs:ho(s.a,s.b,s.c,s.d,s.e,s.f)},"px, ","px)","deg)"),mc=go(function gc(e){return null!=e&&(Yn||(Yn=document.createElementNS("http://www.w3.org/2000/svg","g")),Yn.setAttribute("transform",e),e=Yn.transform.baseVal.consolidate())?ho((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):zs},", ",")",")");function pc(e,s){var t,i;return function(){var a=Be(this,e),o=a.tween;if(o!==t)for(var l=0,c=(i=t=o).length;l<c;++l)if(i[l].name===s){(i=i.slice()).splice(l,1);break}a.tween=i}}function fc(e,s,t){var i,a;if("function"!=typeof t)throw new Error;return function(){var o=Be(this,e),l=o.tween;if(l!==i){a=(i=l).slice();for(var c={name:s,value:t},u=0,g=a.length;u<g;++u)if(a[u].name===s){a[u]=c;break}u===g&&a.push(c)}o.tween=a}}function Rs(e,s,t){var i=e._id;return e.each(function(){var a=Be(this,i);(a.value||(a.value={}))[s]=t.apply(this,arguments)}),function(a){return Me(a,i).value[s]}}function uo(e,s){var t;return("number"==typeof s?De:s instanceof Ci?$n:(t=Ci(s))?(s=t,$n):Ka)(e,s)}function _c(e){return function(){this.removeAttribute(e)}}function vc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yc(e,s,t){var i,o,a=t+"";return function(){var l=this.getAttribute(e);return l===a?null:l===i?o:o=s(i=l,t)}}function Tc(e,s,t){var i,o,a=t+"";return function(){var l=this.getAttributeNS(e.space,e.local);return l===a?null:l===i?o:o=s(i=l,t)}}function Cc(e,s,t){var i,a,o;return function(){var l,u,c=t(this);return null==c?void this.removeAttribute(e):(l=this.getAttribute(e))===(u=c+"")?null:l===i&&u===a?o:(a=u,o=s(i=l,c))}}function bc(e,s,t){var i,a,o;return function(){var l,u,c=t(this);return null==c?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local))===(u=c+"")?null:l===i&&u===a?o:(a=u,o=s(i=l,c))}}function Ac(e,s){var t,i;function a(){var o=s.apply(this,arguments);return o!==i&&(t=(i=o)&&function kc(e,s){return function(t){this.setAttributeNS(e.space,e.local,s.call(this,t))}}(e,o)),t}return a._value=s,a}function Lc(e,s){var t,i;function a(){var o=s.apply(this,arguments);return o!==i&&(t=(i=o)&&function Sc(e,s){return function(t){this.setAttribute(e,s.call(this,t))}}(e,o)),t}return a._value=s,a}function Mc(e,s){return function(){$s(this,e).delay=+s.apply(this,arguments)}}function Fc(e,s){return s=+s,function(){$s(this,e).delay=s}}function Ic(e,s){return function(){Be(this,e).duration=+s.apply(this,arguments)}}function Pc(e,s){return s=+s,function(){Be(this,e).duration=s}}var qc=an.prototype.constructor;function mo(e){return function(){this.style.removeProperty(e)}}var uh=0;function Xe(e,s,t,i){this._groups=e,this._parents=s,this._name=t,this._id=i}function po(){return++uh}var Ue=an.prototype;Xe.prototype=function mh(e){return an().transition(e)}.prototype={constructor:Xe,select:function Xc(e){var s=this._name,t=this._id;"function"!=typeof e&&(e=Oe(e));for(var i=this._groups,a=i.length,o=new Array(a),l=0;l<a;++l)for(var p,x,c=i[l],u=c.length,g=o[l]=new Array(u),_=0;_<u;++_)(p=c[_])&&(x=e.call(p,p.__data__,_,c))&&("__data__"in p&&(x.__data__=p.__data__),g[_]=x,Vn(g[_],s,t,_,g,Me(p,t)));return new Xe(o,this._parents,s,t)},selectAll:function Uc(e){var s=this._name,t=this._id;"function"!=typeof e&&(e=se(e));for(var i=this._groups,a=i.length,o=[],l=[],c=0;c<a;++c)for(var p,u=i[c],g=u.length,x=0;x<g;++x)if(p=u[x]){for(var b,_=e.call(p,p.__data__,x,u),D=Me(p,t),B=0,S=_.length;B<S;++B)(b=_[B])&&Vn(b,s,t,B,_,D);o.push(_),l.push(p)}return new Xe(o,l,s,t)},selectChild:Ue.selectChild,selectChildren:Ue.selectChildren,filter:function Hc(e){"function"!=typeof e&&(e=ae(e));for(var s=this._groups,t=s.length,i=new Array(t),a=0;a<t;++a)for(var u,o=s[a],l=o.length,c=i[a]=[],g=0;g<l;++g)(u=o[g])&&e.call(u,u.__data__,g,o)&&c.push(u);return new Xe(i,this._parents,this._name,this._id)},merge:function Nc(e){if(e._id!==this._id)throw new Error;for(var s=this._groups,t=e._groups,i=s.length,o=Math.min(i,t.length),l=new Array(i),c=0;c<o;++c)for(var _,u=s[c],g=t[c],p=u.length,x=l[c]=new Array(p),b=0;b<p;++b)(_=u[b]||g[b])&&(x[b]=_);for(;c<i;++c)l[c]=s[c];return new Xe(l,this._parents,this._name,this._id)},selection:function Jc(){return new qc(this._groups,this._parents)},transition:function dh(){for(var e=this._name,s=this._id,t=po(),i=this._groups,a=i.length,o=0;o<a;++o)for(var u,l=i[o],c=l.length,g=0;g<c;++g)if(u=l[g]){var p=Me(u,s);Vn(u,e,t,g,l,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Xe(i,this._parents,e,t)},call:Ue.call,nodes:Ue.nodes,node:Ue.node,size:Ue.size,empty:Ue.empty,each:Ue.each,on:function Yc(e,s){var t=this._id;return arguments.length<2?Me(this.node(),t).on.on(e):this.each(function Vc(e,s,t){var i,a,o=function Zc(e){return(e+"").trim().split(/^|\s+/).every(function(s){var t=s.indexOf(".");return t>=0&&(s=s.slice(0,t)),!s||"start"===s})}(s)?$s:Be;return function(){var l=o(this,e),c=l.on;c!==i&&(a=(i=c).copy()).on(s,t),l.on=a}}(t,e,s))},attr:function wc(e,s){var t=it(e),i="transform"===t?mc:uo;return this.attrTween(e,"function"==typeof s?(t.local?bc:Cc)(t,i,Rs(this,"attr."+e,s)):null==s?(t.local?vc:_c)(t):(t.local?Tc:yc)(t,i,s))},attrTween:function Dc(e,s){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==s)return this.tween(t,null);if("function"!=typeof s)throw new Error;var i=it(e);return this.tween(t,(i.local?Ac:Lc)(i,s))},style:function eh(e,s,t){var i="transform"==(e+="")?uc:uo;return null==s?this.styleTween(e,function Qc(e,s){var t,i,a;return function(){var o=hi(this,e),l=(this.style.removeProperty(e),hi(this,e));return o===l?null:o===t&&l===i?a:a=s(t=o,i=l)}}(e,i)).on("end.style."+e,mo(e)):"function"==typeof s?this.styleTween(e,function Kc(e,s,t){var i,a,o;return function(){var l=hi(this,e),c=t(this),u=c+"";return null==c&&(this.style.removeProperty(e),u=c=hi(this,e)),l===u?null:l===i&&u===a?o:(a=u,o=s(i=l,c))}}(e,i,Rs(this,"style."+e,s))).each(function th(e,s){var t,i,a,c,o="style."+s,l="end."+o;return function(){var u=Be(this,e),g=u.on,p=null==u.value[o]?c||(c=mo(s)):void 0;(g!==t||a!==p)&&(i=(t=g).copy()).on(l,a=p),u.on=i}}(this._id,e)):this.styleTween(e,function jc(e,s,t){var i,o,a=t+"";return function(){var l=hi(this,e);return l===a?null:l===i?o:o=s(i=l,t)}}(e,i,s),t).on("end.style."+e,null)},styleTween:function sh(e,s,t){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==s)return this.tween(i,null);if("function"!=typeof s)throw new Error;return this.tween(i,function nh(e,s,t){var i,a;function o(){var l=s.apply(this,arguments);return l!==a&&(i=(a=l)&&function ih(e,s,t){return function(i){this.style.setProperty(e,s.call(this,i),t)}}(e,l,t)),i}return o._value=s,o}(e,s,t??""))},text:function rh(e){return this.tween("text","function"==typeof e?function oh(e){return function(){var s=e(this);this.textContent=s??""}}(Rs(this,"text",e)):function ah(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function hh(e){var s="text";if(arguments.length<1)return(s=this.tween(s))&&s._value;if(null==e)return this.tween(s,null);if("function"!=typeof e)throw new Error;return this.tween(s,function ch(e){var s,t;function i(){var a=e.apply(this,arguments);return a!==t&&(s=(t=a)&&function lh(e){return function(s){this.textContent=e.call(this,s)}}(a)),s}return i._value=e,i}(e))},remove:function Gc(){return this.on("end.remove",function Wc(e){return function(){var s=this.parentNode;for(var t in this.__transition)if(+t!==e)return;s&&s.removeChild(this)}}(this._id))},tween:function xc(e,s){var t=this._id;if(e+="",arguments.length<2){for(var l,i=Me(this.node(),t).tween,a=0,o=i.length;a<o;++a)if((l=i[a]).name===e)return l.value;return null}return this.each((null==s?pc:fc)(t,e,s))},delay:function Ec(e){var s=this._id;return arguments.length?this.each(("function"==typeof e?Mc:Fc)(s,e)):Me(this.node(),s).delay},duration:function Oc(e){var s=this._id;return arguments.length?this.each(("function"==typeof e?Ic:Pc)(s,e)):Me(this.node(),s).duration},ease:function Bc(e){var s=this._id;return arguments.length?this.each(function $c(e,s){if("function"!=typeof s)throw new Error;return function(){Be(this,e).ease=s}}(s,e)):Me(this.node(),s).ease},easeVarying:function Rc(e){if("function"!=typeof e)throw new Error;return this.each(function zc(e,s){return function(){var t=s.apply(this,arguments);if("function"!=typeof t)throw new Error;Be(this,e).ease=t}}(this._id,e))},end:function gh(){var e,s,t=this,i=t._id,a=t.size();return new Promise(function(o,l){var c={value:l},u={value:function(){0==--a&&o()}};t.each(function(){var g=Be(this,i),p=g.on;p!==e&&((s=(e=p).copy())._.cancel.push(c),s._.interrupt.push(c),s._.end.push(u)),g.on=s}),0===a&&o()})},[Symbol.iterator]:Ue[Symbol.iterator]};var fh={time:null,delay:0,duration:250,ease:function ph(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function xh(e,s){for(var t;!(t=e.__transition)||!(t=t[s]);)if(!(e=e.parentNode))throw new Error(`transition ${s} not found`);return t}an.prototype.interrupt=function hc(e){return this.each(function(){Bs(this,e)})},an.prototype.transition=function _h(e){var s,t;e instanceof Xe?(s=e._id,e=e._name):(s=po(),(t=fh).time=Es(),e=null==e?null:e+"");for(var i=this._groups,a=i.length,o=0;o<a;++o)for(var u,l=i[o],c=l.length,g=0;g<c;++g)(u=l[g])&&Vn(u,e,s,g,l,t||xh(u,s));return new Xe(i,this._parents,e,s)};const Hs=e=>()=>e;function vh(e,{sourceEvent:s,target:t,selection:i,mode:a,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:s,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:o}})}function Ns(e){e.preventDefault(),e.stopImmediatePropagation()}var fo={name:"drag"},Zs={name:"space"},Hi={name:"handle"},Ni={name:"center"};const{abs:xo,max:Qt,min:jt}=Math;function _o(e){return[+e[0],+e[1]]}function Vs(e){return[_o(e[0]),_o(e[1])]}var Wn={name:"x",handles:["w","e"].map(un),input:function(e,s){return null==e?null:[[+e[0],s[0][1]],[+e[1],s[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Gn={name:"y",handles:["n","s"].map(un),input:function(e,s){return null==e?null:[[s[0][0],+e[0]],[s[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},qe=(["n","w","e","s","nw","ne","sw","se"].map(un),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),vo={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},yo={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Ch={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},bh={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function un(e){return{type:e}}function wh(e){return!e.ctrlKey&&!e.button}function Sh(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function kh(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ys(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function mn(e,s){return null==e||null==s?NaN:e<s?-1:e>s?1:e>=s?0:NaN}function Dh(e,s){return null==e||null==s?NaN:s<e?-1:s>e?1:s>=e?0:NaN}function Gs(e){let s,t,i;function a(c,u,g=0,p=c.length){if(g<p){if(0!==s(u,u))return p;do{const x=g+p>>>1;t(c[x],u)<0?g=x+1:p=x}while(g<p)}return g}return 2!==e.length?(s=mn,t=(c,u)=>mn(e(c),u),i=(c,u)=>e(c)-u):(s=e===mn||e===Dh?e:Mh,t=e,i=e),{left:a,center:function l(c,u,g=0,p=c.length){const x=a(c,u,g,p-1);return x>g&&i(c[x-1],u)>-i(c[x],u)?x-1:x},right:function o(c,u,g=0,p=c.length){if(g<p){if(0!==s(u,u))return p;do{const x=g+p>>>1;t(c[x],u)<=0?g=x+1:p=x}while(g<p)}return g}}}function Mh(){return 0}const Fh=Math.sqrt(50),Eh=Math.sqrt(10),Ih=Math.sqrt(2);function Xn(e,s,t){const i=(s-e)/Math.max(0,t),a=Math.floor(Math.log10(i)),o=i/Math.pow(10,a),l=o>=Fh?10:o>=Eh?5:o>=Ih?2:1;let c,u,g;return a<0?(g=Math.pow(10,-a)/l,c=Math.round(e*g),u=Math.round(s*g),c/g<e&&++c,u/g>s&&--u,g=-g):(g=Math.pow(10,a)*l,c=Math.round(e/g),u=Math.round(s/g),c*g<e&&++c,u*g>s&&--u),u<c&&.5<=t&&t<2?Xn(e,s,2*t):[c,u,g]}function Xs(e,s,t){return Xn(e=+e,s=+s,t=+t)[2]}function Us(e,s,t){t=+t;const i=(s=+s)<(e=+e),a=i?Xs(s,e,t):Xs(e,s,t);return(i?-1:1)*(a<0?1/-a:a)}const Je=1e3,ye=6e4,Qe=60*ye,je=24*Qe,qs=7*je,To=30*je,Js=365*je,Qs=new Date,js=new Date;function Wt(e,s,t,i){function a(o){return e(o=0===arguments.length?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),s(o,1),e(o),o),a.round=o=>{const l=a(o),c=a.ceil(o);return o-l<c-o?l:c},a.offset=(o,l)=>(s(o=new Date(+o),null==l?1:Math.floor(l)),o),a.range=(o,l,c)=>{const u=[];if(o=a.ceil(o),c=null==c?1:Math.floor(c),!(o<l&&c>0))return u;let g;do{u.push(g=new Date(+o)),s(o,c),e(o)}while(g<o&&o<l);return u},a.filter=o=>Wt(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;s(l,-1),!o(l););else for(;--c>=0;)for(;s(l,1),!o(l););}),t&&(a.count=(o,l)=>(Qs.setTime(+o),js.setTime(+l),e(Qs),e(js),Math.floor(t(Qs,js))),a.every=o=>(o=Math.floor(o),isFinite(o)&&o>0?o>1?a.filter(i?l=>i(l)%o==0:l=>a.count(0,l)%o==0):a:null)),a}const Un=Wt(()=>{},(e,s)=>{e.setTime(+e+s)},(e,s)=>s-e);Un.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Wt(s=>{s.setTime(Math.floor(s/e)*e)},(s,t)=>{s.setTime(+s+t*e)},(s,t)=>(t-s)/e):Un:null);const Zi=Wt(e=>{e.setTime(e-e.getMilliseconds())},(e,s)=>{e.setTime(+e+s*Je)},(e,s)=>(s-e)/Je,e=>e.getUTCSeconds()),Ks=Wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Je)},(e,s)=>{e.setTime(+e+s*ye)},(e,s)=>(s-e)/ye,e=>e.getMinutes()),Co=Wt(e=>{e.setUTCSeconds(0,0)},(e,s)=>{e.setTime(+e+s*ye)},(e,s)=>(s-e)/ye,e=>e.getUTCMinutes()),ta=Wt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Je-e.getMinutes()*ye)},(e,s)=>{e.setTime(+e+s*Qe)},(e,s)=>(s-e)/Qe,e=>e.getHours()),bo=Wt(e=>{e.setUTCMinutes(0,0,0)},(e,s)=>{e.setTime(+e+s*Qe)},(e,s)=>(s-e)/Qe,e=>e.getUTCHours()),ea=Wt(e=>e.setHours(0,0,0,0),(e,s)=>e.setDate(e.getDate()+s),(e,s)=>(s-e-(s.getTimezoneOffset()-e.getTimezoneOffset())*ye)/je,e=>e.getDate()-1),wo=(Wt(e=>{e.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCDate(e.getUTCDate()+s)},(e,s)=>(s-e)/je,e=>e.getUTCDate()-1),Wt(e=>{e.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCDate(e.getUTCDate()+s)},(e,s)=>(s-e)/je,e=>Math.floor(e/je)));function Ai(e){return Wt(s=>{s.setDate(s.getDate()-(s.getDay()+7-e)%7),s.setHours(0,0,0,0)},(s,t)=>{s.setDate(s.getDate()+7*t)},(s,t)=>(t-s-(t.getTimezoneOffset()-s.getTimezoneOffset())*ye)/qs)}const ia=Ai(0);function Li(e){return Wt(s=>{s.setUTCDate(s.getUTCDate()-(s.getUTCDay()+7-e)%7),s.setUTCHours(0,0,0,0)},(s,t)=>{s.setUTCDate(s.getUTCDate()+7*t)},(s,t)=>(t-s)/qs)}Ai(1),Ai(2),Ai(3),Ai(4),Ai(5),Ai(6);const So=Li(0),na=(Li(1),Li(2),Li(3),Li(4),Li(5),Li(6),Wt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,s)=>{e.setMonth(e.getMonth()+s)},(e,s)=>s.getMonth()-e.getMonth()+12*(s.getFullYear()-e.getFullYear()),e=>e.getMonth())),ko=Wt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCMonth(e.getUTCMonth()+s)},(e,s)=>s.getUTCMonth()-e.getUTCMonth()+12*(s.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth()),qn=Wt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,s)=>{e.setFullYear(e.getFullYear()+s)},(e,s)=>s.getFullYear()-e.getFullYear(),e=>e.getFullYear());qn.every=e=>isFinite(e=Math.floor(e))&&e>0?Wt(s=>{s.setFullYear(Math.floor(s.getFullYear()/e)*e),s.setMonth(0,1),s.setHours(0,0,0,0)},(s,t)=>{s.setFullYear(s.getFullYear()+t*e)}):null;const sa=Wt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,s)=>{e.setUTCFullYear(e.getUTCFullYear()+s)},(e,s)=>s.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function Ao(e,s,t,i,a,o){const l=[[Zi,1,Je],[Zi,5,5e3],[Zi,15,15e3],[Zi,30,3e4],[o,1,ye],[o,5,5*ye],[o,15,15*ye],[o,30,30*ye],[a,1,Qe],[a,3,3*Qe],[a,6,6*Qe],[a,12,12*Qe],[i,1,je],[i,2,2*je],[t,1,qs],[s,1,To],[s,3,3*To],[e,1,Js]];function u(g,p,x){const _=Math.abs(p-g)/x,b=Gs(([,,S])=>S).right(l,_);if(b===l.length)return e.every(Us(g/Js,p/Js,x));if(0===b)return Un.every(Math.max(Us(g,p,x),1));const[D,B]=l[_/l[b-1][2]<l[b][2]/_?b-1:b];return D.every(B)}return[function c(g,p,x){const _=p<g;_&&([g,p]=[p,g]);const b=x&&"function"==typeof x.range?x:u(g,p,x),D=b?b.range(g,+p+1):[];return _?D.reverse():D},u]}sa.every=e=>isFinite(e=Math.floor(e))&&e>0?Wt(s=>{s.setUTCFullYear(Math.floor(s.getUTCFullYear()/e)*e),s.setUTCMonth(0,1),s.setUTCHours(0,0,0,0)},(s,t)=>{s.setUTCFullYear(s.getUTCFullYear()+t*e)}):null;const[ox,rx]=Ao(sa,ko,So,wo,bo,Co),[Xh,Uh]=Ao(qn,na,ia,ea,ta,Ks);var aa=new Date,oa=new Date;function Ke(e,s,t,i){function a(o){return e(o=0===arguments.length?new Date:new Date(+o)),o}return a.floor=function(o){return e(o=new Date(+o)),o},a.ceil=function(o){return e(o=new Date(o-1)),s(o,1),e(o),o},a.round=function(o){var l=a(o),c=a.ceil(o);return o-l<c-o?l:c},a.offset=function(o,l){return s(o=new Date(+o),null==l?1:Math.floor(l)),o},a.range=function(o,l,c){var g,u=[];if(o=a.ceil(o),c=null==c?1:Math.floor(c),!(o<l&&c>0))return u;do{u.push(g=new Date(+o)),s(o,c),e(o)}while(g<o&&o<l);return u},a.filter=function(o){return Ke(function(l){if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},function(l,c){if(l>=l)if(c<0)for(;++c<=0;)for(;s(l,-1),!o(l););else for(;--c>=0;)for(;s(l,1),!o(l););})},t&&(a.count=function(o,l){return aa.setTime(+o),oa.setTime(+l),e(aa),e(oa),Math.floor(t(aa,oa))},a.every=function(o){return o=Math.floor(o),isFinite(o)&&o>0?o>1?a.filter(i?function(l){return i(l)%o==0}:function(l){return a.count(0,l)%o==0}):a:null}),a}const pn=864e5,Lo=7*pn;function Di(e){return Ke(function(s){s.setUTCDate(s.getUTCDate()-(s.getUTCDay()+7-e)%7),s.setUTCHours(0,0,0,0)},function(s,t){s.setUTCDate(s.getUTCDate()+7*t)},function(s,t){return(t-s)/Lo})}var Do=Di(0),Jn=Di(1),Vi=(Di(2),Di(3),Di(4));const Fo=(Di(5),Di(6),Ke(function(e){e.setUTCHours(0,0,0,0)},function(e,s){e.setUTCDate(e.getUTCDate()+s)},function(e,s){return(s-e)/pn},function(e){return e.getUTCDate()-1}));function Mi(e){return Ke(function(s){s.setDate(s.getDate()-(s.getDay()+7-e)%7),s.setHours(0,0,0,0)},function(s,t){s.setDate(s.getDate()+7*t)},function(s,t){return(t-s-6e4*(t.getTimezoneOffset()-s.getTimezoneOffset()))/Lo})}var Eo=Mi(0),Qn=Mi(1),Yi=(Mi(2),Mi(3),Mi(4));const Po=(Mi(5),Mi(6),Ke(e=>e.setHours(0,0,0,0),(e,s)=>e.setDate(e.getDate()+s),(e,s)=>(s-e-6e4*(s.getTimezoneOffset()-e.getTimezoneOffset()))/pn,e=>e.getDate()-1));var la=Ke(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,s){e.setFullYear(e.getFullYear()+s)},function(e,s){return s.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});la.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Ke(function(s){s.setFullYear(Math.floor(s.getFullYear()/e)*e),s.setMonth(0,1),s.setHours(0,0,0,0)},function(s,t){s.setFullYear(s.getFullYear()+t*e)}):null};const fn=la;var ca=Ke(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,s){e.setUTCFullYear(e.getUTCFullYear()+s)},function(e,s){return s.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});ca.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Ke(function(s){s.setUTCFullYear(Math.floor(s.getUTCFullYear()/e)*e),s.setUTCMonth(0,1),s.setUTCHours(0,0,0,0)},function(s,t){s.setUTCFullYear(s.getUTCFullYear()+t*e)}):null};const xn=ca;function ha(e){if(0<=e.y&&e.y<100){var s=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return s.setFullYear(e.y),s}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function da(e){if(0<=e.y&&e.y<100){var s=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return s.setUTCFullYear(e.y),s}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function _n(e,s,t){return{y:e,m:s,d:t,H:0,M:0,S:0,L:0}}var Wi,qo,Oo={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,sd=/^%/,ad=/[\\^$*+?|[\]().{}]/g;function yt(e,s,t){var i=e<0?"-":"",a=(i?-e:e)+"",o=a.length;return i+(o<t?new Array(t-o+1).join(s)+a:a)}function od(e){return e.replace(ad,"\\$&")}function vn(e){return new RegExp("^(?:"+e.map(od).join("|")+")","i")}function yn(e){return new Map(e.map((s,t)=>[s.toLowerCase(),t]))}function rd(e,s,t){var i=Ut.exec(s.slice(t,t+1));return i?(e.w=+i[0],t+i[0].length):-1}function ld(e,s,t){var i=Ut.exec(s.slice(t,t+1));return i?(e.u=+i[0],t+i[0].length):-1}function cd(e,s,t){var i=Ut.exec(s.slice(t,t+2));return i?(e.U=+i[0],t+i[0].length):-1}function hd(e,s,t){var i=Ut.exec(s.slice(t,t+2));return i?(e.V=+i[0],t+i[0].length):-1}function dd(e,s,t){var i=Ut.exec(s.slice(t,t+2));return i?(e.W=+i[0],t+i[0].length):-1}function $o(e,s,t){var i=Ut.exec(s.slice(t,t+4));return i?(e.y=+i[0],t+i[0].length):-1}function Bo(e,s,t){var i=Ut.exec(s.slice(t,t+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function gd(e,s,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(s.slice(t,t+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function ud(e,s,t){var i=Ut.exec(s.slice(t,t+1));return i?(e.q=3*i[0]-3,t+i[0].length):-1}function md(e,s,t){var i=Ut.exec(s.slice(t,t+2));return i?(e.m=i[0]-1,t+i[0].length):-1}function zo(e,s,t){var i=Ut.exec(s.slice(t,t+2));return i?(e.d=+i[0],t+i[0].length):-1}function pd(e,s,t){var i=Ut.exec(s.slice(t,t+3));return i?(e.m=0,e.d=+i[0],t+i[0].length):-1}function Ro(e,s,t){var i=Ut.exec(s.slice(t,t+2));return i?(e.H=+i[0],t+i[0].length):-1}function fd(e,s,t){var i=Ut.exec(s.slice(t,t+2));return i?(e.M=+i[0],t+i[0].length):-1}function xd(e,s,t){var i=Ut.exec(s.slice(t,t+2));return i?(e.S=+i[0],t+i[0].length):-1}function _d(e,s,t){var i=Ut.exec(s.slice(t,t+3));return i?(e.L=+i[0],t+i[0].length):-1}function vd(e,s,t){var i=Ut.exec(s.slice(t,t+6));return i?(e.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function yd(e,s,t){var i=sd.exec(s.slice(t,t+1));return i?t+i[0].length:-1}function Td(e,s,t){var i=Ut.exec(s.slice(t));return i?(e.Q=+i[0],t+i[0].length):-1}function Cd(e,s,t){var i=Ut.exec(s.slice(t));return i?(e.s=+i[0],t+i[0].length):-1}function Ho(e,s){return yt(e.getDate(),s,2)}function bd(e,s){return yt(e.getHours(),s,2)}function wd(e,s){return yt(e.getHours()%12||12,s,2)}function Sd(e,s){return yt(1+Po.count(fn(e),e),s,3)}function No(e,s){return yt(e.getMilliseconds(),s,3)}function kd(e,s){return No(e,s)+"000"}function Ad(e,s){return yt(e.getMonth()+1,s,2)}function Ld(e,s){return yt(e.getMinutes(),s,2)}function Dd(e,s){return yt(e.getSeconds(),s,2)}function Md(e){var s=e.getDay();return 0===s?7:s}function Fd(e,s){return yt(Eo.count(fn(e)-1,e),s,2)}function Zo(e){var s=e.getDay();return s>=4||0===s?Yi(e):Yi.ceil(e)}function Ed(e,s){return e=Zo(e),yt(Yi.count(fn(e),e)+(4===fn(e).getDay()),s,2)}function Id(e){return e.getDay()}function Pd(e,s){return yt(Qn.count(fn(e)-1,e),s,2)}function Od(e,s){return yt(e.getFullYear()%100,s,2)}function $d(e,s){return yt((e=Zo(e)).getFullYear()%100,s,2)}function Bd(e,s){return yt(e.getFullYear()%1e4,s,4)}function zd(e,s){var t=e.getDay();return yt((e=t>=4||0===t?Yi(e):Yi.ceil(e)).getFullYear()%1e4,s,4)}function Rd(e){var s=e.getTimezoneOffset();return(s>0?"-":(s*=-1,"+"))+yt(s/60|0,"0",2)+yt(s%60,"0",2)}function Vo(e,s){return yt(e.getUTCDate(),s,2)}function Hd(e,s){return yt(e.getUTCHours(),s,2)}function Nd(e,s){return yt(e.getUTCHours()%12||12,s,2)}function Zd(e,s){return yt(1+Fo.count(xn(e),e),s,3)}function Yo(e,s){return yt(e.getUTCMilliseconds(),s,3)}function Vd(e,s){return Yo(e,s)+"000"}function Yd(e,s){return yt(e.getUTCMonth()+1,s,2)}function Wd(e,s){return yt(e.getUTCMinutes(),s,2)}function Gd(e,s){return yt(e.getUTCSeconds(),s,2)}function Xd(e){var s=e.getUTCDay();return 0===s?7:s}function Ud(e,s){return yt(Do.count(xn(e)-1,e),s,2)}function Wo(e){var s=e.getUTCDay();return s>=4||0===s?Vi(e):Vi.ceil(e)}function qd(e,s){return e=Wo(e),yt(Vi.count(xn(e),e)+(4===xn(e).getUTCDay()),s,2)}function Jd(e){return e.getUTCDay()}function Qd(e,s){return yt(Jn.count(xn(e)-1,e),s,2)}function jd(e,s){return yt(e.getUTCFullYear()%100,s,2)}function Kd(e,s){return yt((e=Wo(e)).getUTCFullYear()%100,s,2)}function tg(e,s){return yt(e.getUTCFullYear()%1e4,s,4)}function eg(e,s){var t=e.getUTCDay();return yt((e=t>=4||0===t?Vi(e):Vi.ceil(e)).getUTCFullYear()%1e4,s,4)}function ig(){return"+0000"}function Go(){return"%"}function Xo(e){return+e}function Uo(e){return Math.floor(+e/1e3)}function Jo(e){return null===e?NaN:+e}!function og(e){Wi=function nd(e){var s=e.dateTime,t=e.date,i=e.time,a=e.periods,o=e.days,l=e.shortDays,c=e.months,u=e.shortMonths,g=vn(a),p=yn(a),x=vn(o),_=yn(o),b=vn(l),D=yn(l),B=vn(c),S=yn(c),I=vn(u),N=yn(u),O={a:function bt(G){return l[G.getDay()]},A:function Pt(G){return o[G.getDay()]},b:function xt(G){return u[G.getMonth()]},B:function Et(G){return c[G.getMonth()]},c:null,d:Ho,e:Ho,f:kd,g:$d,G:zd,H:bd,I:wd,j:Sd,L:No,m:Ad,M:Ld,p:function Dt(G){return a[+(G.getHours()>=12)]},q:function Mt(G){return 1+~~(G.getMonth()/3)},Q:Xo,s:Uo,S:Dd,u:Md,U:Fd,V:Ed,w:Id,W:Pd,x:null,X:null,y:Od,Y:Bd,Z:Rd,"%":Go},Y={a:function ei(G){return l[G.getUTCDay()]},A:function Ne(G){return o[G.getUTCDay()]},b:function te(G){return u[G.getUTCMonth()]},B:function Ze(G){return c[G.getUTCMonth()]},c:null,d:Vo,e:Vo,f:Vd,g:Kd,G:eg,H:Hd,I:Nd,j:Zd,L:Yo,m:Yd,M:Wd,p:function Vt(G){return a[+(G.getUTCHours()>=12)]},q:function Ie(G){return 1+~~(G.getUTCMonth()/3)},Q:Xo,s:Uo,S:Gd,u:Xd,U:Ud,V:qd,w:Jd,W:Qd,x:null,X:null,y:jd,Y:tg,Z:ig,"%":Go},U={a:function pt(G,nt,dt){var $=b.exec(nt.slice(dt));return $?(G.w=D.get($[0].toLowerCase()),dt+$[0].length):-1},A:function q(G,nt,dt){var $=x.exec(nt.slice(dt));return $?(G.w=_.get($[0].toLowerCase()),dt+$[0].length):-1},b:function Ct(G,nt,dt){var $=I.exec(nt.slice(dt));return $?(G.m=N.get($[0].toLowerCase()),dt+$[0].length):-1},B:function V(G,nt,dt){var $=B.exec(nt.slice(dt));return $?(G.m=S.get($[0].toLowerCase()),dt+$[0].length):-1},c:function Q(G,nt,dt){return mt(G,s,nt,dt)},d:zo,e:zo,f:vd,g:Bo,G:$o,H:Ro,I:Ro,j:pd,L:_d,m:md,M:fd,p:function Ft(G,nt,dt){var $=g.exec(nt.slice(dt));return $?(G.p=p.get($[0].toLowerCase()),dt+$[0].length):-1},q:ud,Q:Td,s:Cd,S:xd,u:ld,U:cd,V:hd,w:rd,W:dd,x:function Nt(G,nt,dt){return mt(G,t,nt,dt)},X:function St(G,nt,dt){return mt(G,i,nt,dt)},y:Bo,Y:$o,Z:gd,"%":yd};function W(G,nt){return function(dt){var ne,K,$t,$=[],Ot=-1,kt=0,ie=G.length;for(dt instanceof Date||(dt=new Date(+dt));++Ot<ie;)37===G.charCodeAt(Ot)&&($.push(G.slice(kt,Ot)),null!=(K=Oo[ne=G.charAt(++Ot)])?ne=G.charAt(++Ot):K="e"===ne?" ":"0",($t=nt[ne])&&(ne=$t(dt,K)),$.push(ne),kt=Ot+1);return $.push(G.slice(kt,Ot)),$.join("")}}function ut(G,nt){return function(dt){var kt,ie,$=_n(1900,void 0,1);if(mt($,G,dt+="",0)!=dt.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date(1e3*$.s+("L"in $?$.L:0));if(nt&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+12*$.p),void 0===$.m&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(ie=(kt=da(_n($.y,0,1))).getUTCDay(),kt=ie>4||0===ie?Jn.ceil(kt):Jn(kt),kt=Fo.offset(kt,7*($.V-1)),$.y=kt.getUTCFullYear(),$.m=kt.getUTCMonth(),$.d=kt.getUTCDate()+($.w+6)%7):(ie=(kt=ha(_n($.y,0,1))).getDay(),kt=ie>4||0===ie?Qn.ceil(kt):Qn(kt),kt=Po.offset(kt,7*($.V-1)),$.y=kt.getFullYear(),$.m=kt.getMonth(),$.d=kt.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),ie="Z"in $?da(_n($.y,0,1)).getUTCDay():ha(_n($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+7*$.W-(ie+5)%7:$.w+7*$.U-(ie+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,da($)):ha($)}}function mt(G,nt,dt,$){for(var ne,K,Ot=0,kt=nt.length,ie=dt.length;Ot<kt;){if($>=ie)return-1;if(37===(ne=nt.charCodeAt(Ot++))){if(ne=nt.charAt(Ot++),!(K=U[ne in Oo?nt.charAt(Ot++):ne])||($=K(G,dt,$))<0)return-1}else if(ne!=dt.charCodeAt($++))return-1}return $}return O.x=W(t,O),O.X=W(i,O),O.c=W(s,O),Y.x=W(t,Y),Y.X=W(i,Y),Y.c=W(s,Y),{format:function(G){var nt=W(G+="",O);return nt.toString=function(){return G},nt},parse:function(G){var nt=ut(G+="",!1);return nt.toString=function(){return G},nt},utcFormat:function(G){var nt=W(G+="",Y);return nt.toString=function(){return G},nt},utcParse:function(G){var nt=ut(G+="",!0);return nt.toString=function(){return G},nt}}}(e),qo=Wi.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const rg=Gs(mn).right,jo=(Gs(Jo),rg);function lg(e,s){return e=+e,s=+s,function(t){return Math.round(e*(1-t)+s*t)}}function hg(e){return+e}var Ko=[0,1];function Gi(e){return e}function ga(e,s){return(s-=e=+e)?function(t){return(t-e)/s}:function cg(e){return function(){return e}}(isNaN(s)?NaN:.5)}function gg(e,s,t){var i=e[0],a=e[1],o=s[0],l=s[1];return a<i?(i=ga(a,i),o=t(l,o)):(i=ga(i,a),o=t(o,l)),function(c){return o(i(c))}}function ug(e,s,t){var i=Math.min(e.length,s.length)-1,a=new Array(i),o=new Array(i),l=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),s=s.slice().reverse());++l<i;)a[l]=ga(e[l],e[l+1]),o[l]=t(s[l],s[l+1]);return function(c){var u=jo(e,c,1,i)-1;return o[u](a[u](c))}}function tr(e,s){return s.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function er(){return function mg(){var i,a,o,c,u,g,e=Ko,s=Ko,t=Si,l=Gi;function p(){var _=Math.min(e.length,s.length);return l!==Gi&&(l=function dg(e,s){var t;return e>s&&(t=e,e=s,s=t),function(i){return Math.max(e,Math.min(s,i))}}(e[0],e[_-1])),c=_>2?ug:gg,u=g=null,x}function x(_){return null==_||isNaN(_=+_)?o:(u||(u=c(e.map(i),s,t)))(i(l(_)))}return x.invert=function(_){return l(a((g||(g=c(s,e.map(i),De)))(_)))},x.domain=function(_){return arguments.length?(e=Array.from(_,hg),p()):e.slice()},x.range=function(_){return arguments.length?(s=Array.from(_),p()):s.slice()},x.rangeRound=function(_){return s=Array.from(_),t=lg,p()},x.clamp=function(_){return arguments.length?(l=!!_||Gi,p()):l!==Gi},x.interpolate=function(_){return arguments.length?(t=_,p()):t},x.unknown=function(_){return arguments.length?(o=_,x):o},function(_,b){return i=_,a=b,p()}}()(Gi,Gi)}function Tn(e,s){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(s).domain(e)}return this}function fg(e){return new Date(e)}function xg(e){return e instanceof Date?+e:+new Date(+e)}function ir(e,s,t,i,a,o,l,c,u,g){var p=er(),x=p.invert,_=p.domain,b=g(".%L"),D=g(":%S"),B=g("%I:%M"),S=g("%I %p"),I=g("%a %d"),N=g("%b %d"),O=g("%B"),Y=g("%Y");function U(W){return(u(W)<W?b:c(W)<W?D:l(W)<W?B:o(W)<W?S:i(W)<W?a(W)<W?I:N:t(W)<W?O:Y)(W)}return p.invert=function(W){return new Date(x(W))},p.domain=function(W){return arguments.length?_(Array.from(W,xg)):_().map(fg)},p.ticks=function(W){var ut=_();return e(ut[0],ut[ut.length-1],W??10)},p.tickFormat=function(W,ut){return null==ut?U:g(ut)},p.nice=function(W){var ut=_();return(!W||"function"!=typeof W.range)&&(W=s(ut[0],ut[ut.length-1],W??10)),W?_(function pg(e,s){var l,t=0,i=(e=e.slice()).length-1,a=e[t],o=e[i];return o<a&&(l=t,t=i,i=l,l=a,a=o,o=l),e[t]=s.floor(a),e[i]=s.ceil(o),e}(ut,W)):p},p.copy=function(){return tr(p,ir(e,s,t,i,a,o,l,c,u,g))},p}function jn(){return Tn.apply(ir(Xh,Uh,qn,na,ia,ea,ta,Ks,Zi,qo).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var nr,_g=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kn(e){if(!(s=_g.exec(e)))throw new Error("invalid format: "+e);var s;return new ua({fill:s[1],align:s[2],sign:s[3],symbol:s[4],zero:s[5],width:s[6],comma:s[7],precision:s[8]&&s[8].slice(1),trim:s[9],type:s[10]})}function ua(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function ts(e,s){if((t=(e=s?e.toExponential(s-1):e.toExponential()).indexOf("e"))<0)return null;var t,i=e.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+e.slice(t+1)]}function Xi(e){return(e=ts(Math.abs(e)))?e[1]:NaN}function sr(e,s){var t=ts(e,s);if(!t)return e+"";var i=t[0],a=t[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}Kn.prototype=ua.prototype,ua.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ar={"%":(e,s)=>(100*e).toFixed(s),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function vg(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,s)=>e.toExponential(s),f:(e,s)=>e.toFixed(s),g:(e,s)=>e.toPrecision(s),o:e=>Math.round(e).toString(8),p:(e,s)=>sr(100*e,s),r:sr,s:function wg(e,s){var t=ts(e,s);if(!t)return e+"";var i=t[0],a=t[1],o=a-(nr=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,l=i.length;return o===l?i:o>l?i+new Array(o-l+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+ts(e,Math.max(0,s+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function or(e){return e}var es,ma,cr,rr=Array.prototype.map,lr=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Mg(e){var s=e.domain;return e.ticks=function(t){var i=s();return function Ph(e,s,t){if(!((t=+t)>0))return[];if((e=+e)==(s=+s))return[e];const i=s<e,[a,o,l]=i?Xn(s,e,t):Xn(e,s,t);if(!(o>=a))return[];const c=o-a+1,u=new Array(c);if(i)if(l<0)for(let g=0;g<c;++g)u[g]=(o-g)/-l;else for(let g=0;g<c;++g)u[g]=(o-g)*l;else if(l<0)for(let g=0;g<c;++g)u[g]=(a+g)/-l;else for(let g=0;g<c;++g)u[g]=(a+g)*l;return u}(i[0],i[i.length-1],t??10)},e.tickFormat=function(t,i){var a=s();return function Dg(e,s,t,i){var o,a=Us(e,s,t);switch((i=Kn(i??",f")).type){case"s":var l=Math.max(Math.abs(e),Math.abs(s));return null==i.precision&&!isNaN(o=function yg(e,s){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Xi(s)/3)))-Xi(Math.abs(e)))}(a,l))&&(i.precision=o),cr(i,l);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(o=function Ag(e,s){return e=Math.abs(e),s=Math.abs(s)-e,Math.max(0,Xi(s)-Xi(e))+1}(a,Math.max(Math.abs(e),Math.abs(s))))&&(i.precision=o-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(o=function Lg(e){return Math.max(0,-Xi(Math.abs(e)))}(a))&&(i.precision=o-2*("%"===i.type))}return ma(i)}(a[0],a[a.length-1],t??10,i)},e.nice=function(t){null==t&&(t=10);var u,g,i=s(),a=0,o=i.length-1,l=i[a],c=i[o],p=10;for(c<l&&(g=l,l=c,c=g,g=a,a=o,o=g);p-- >0;){if((g=Xs(l,c,t))===u)return i[a]=l,i[o]=c,s(i);if(g>0)l=Math.floor(l/g)*g,c=Math.ceil(c/g)*g;else{if(!(g<0))break;l=Math.ceil(l*g)/g,c=Math.floor(c*g)/g}u=g}return e},e}function Te(){var e=er();return e.copy=function(){return tr(e,Te())},Tn.apply(e,arguments),Mg(e)}function hr(e,s,t){e=+e,s=+s,t=(a=arguments.length)<2?(s=e,e=0,1):a<3?1:+t;for(var i=-1,a=0|Math.max(0,Math.ceil((s-e)/t)),o=new Array(a);++i<a;)o[i]=e+i*t;return o}!function kg(e){es=function Sg(e){var s=void 0===e.grouping||void 0===e.thousands?or:function Tg(e,s){return function(t,i){for(var a=t.length,o=[],l=0,c=e[0],u=0;a>0&&c>0&&(u+c+1>i&&(c=Math.max(1,i-u)),o.push(t.substring(a-=c,a+c)),!((u+=c+1)>i));)c=e[l=(l+1)%e.length];return o.reverse().join(s)}}(rr.call(e.grouping,Number),e.thousands+""),t=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?or:function Cg(e){return function(s){return s.replace(/[0-9]/g,function(t){return e[+t]})}}(rr.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function g(x){var _=(x=Kn(x)).fill,b=x.align,D=x.sign,B=x.symbol,S=x.zero,I=x.width,N=x.comma,O=x.precision,Y=x.trim,U=x.type;"n"===U?(N=!0,U="g"):ar[U]||(void 0===O&&(O=12),Y=!0,U="g"),(S||"0"===_&&"="===b)&&(S=!0,_="0",b="=");var W="$"===B?t:"#"===B&&/[boxX]/.test(U)?"0"+U.toLowerCase():"",ut="$"===B?i:/[%p]/.test(U)?l:"",mt=ar[U],Ft=/[defgprs%]/.test(U);function pt(q){var Q,Nt,St,Ct=W,V=ut;if("c"===U)V=mt(q)+V,q="";else{var bt=(q=+q)<0||1/q<0;if(q=isNaN(q)?u:mt(Math.abs(q),O),Y&&(q=function bg(e){t:for(var a,s=e.length,t=1,i=-1;t<s;++t)switch(e[t]){case".":i=a=t;break;case"0":0===i&&(i=t),a=t;break;default:if(!+e[t])break t;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(a+1):e}(q)),bt&&0==+q&&"+"!==D&&(bt=!1),Ct=(bt?"("===D?D:c:"-"===D||"("===D?"":D)+Ct,V=("s"===U?lr[8+nr/3]:"")+V+(bt&&"("===D?")":""),Ft)for(Q=-1,Nt=q.length;++Q<Nt;)if(48>(St=q.charCodeAt(Q))||St>57){V=(46===St?a+q.slice(Q+1):q.slice(Q))+V,q=q.slice(0,Q);break}}N&&!S&&(q=s(q,1/0));var Pt=Ct.length+q.length+V.length,xt=Pt<I?new Array(I-Pt+1).join(_):"";switch(N&&S&&(q=s(xt+q,xt.length?I-V.length:1/0),xt=""),b){case"<":q=Ct+q+V+xt;break;case"=":q=Ct+xt+q+V;break;case"^":q=xt.slice(0,Pt=xt.length>>1)+Ct+q+V+xt.slice(Pt);break;default:q=xt+Ct+q+V}return o(q)}return O=void 0===O?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O)),pt.toString=function(){return x+""},pt}return{format:g,formatPrefix:function p(x,_){var b=g(((x=Kn(x)).type="f",x)),D=3*Math.max(-8,Math.min(8,Math.floor(Xi(_)/3))),B=Math.pow(10,-D),S=lr[8+D/3];return function(I){return b(B*I)+S}}}}(e),ma=es.format,cr=es.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class dr extends Map{constructor(s,t=mr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=s)for(const[i,a]of s)this.set(i,a)}get(s){return super.get(pa(this,s))}has(s){return super.has(pa(this,s))}set(s,t){return super.set(function gr({_intern:e,_key:s},t){const i=s(t);return e.has(i)?e.get(i):(e.set(i,t),t)}(this,s),t)}delete(s){return super.delete(function ur({_intern:e,_key:s},t){const i=s(t);return e.has(i)&&(t=e.get(i),e.delete(i)),t}(this,s))}}function pa({_intern:e,_key:s},t){const i=s(t);return e.has(i)?e.get(i):t}function mr(e){return null!==e&&"object"==typeof e?e.valueOf():e}const pr=Symbol("implicit");function fa(){var e=new dr,s=[],t=[],i=pr;function a(o){let l=e.get(o);if(void 0===l){if(i!==pr)return i;e.set(o,l=s.push(o)-1)}return t[l%t.length]}return a.domain=function(o){if(!arguments.length)return s.slice();s=[],e=new dr;for(const l of o)e.has(l)||e.set(l,s.push(l)-1);return a},a.range=function(o){return arguments.length?(t=Array.from(o),a):t.slice()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.copy=function(){return fa(s,t).unknown(i)},Tn.apply(a,arguments),a}function Ui(){var o,l,e=fa().unknown(void 0),s=e.domain,t=e.range,i=0,a=1,c=!1,u=0,g=0,p=.5;function x(){var _=s().length,b=a<i,D=b?a:i,B=b?i:a;o=(B-D)/Math.max(1,_-u+2*g),c&&(o=Math.floor(o)),D+=(B-D-o*(_-u))*p,l=o*(1-u),c&&(D=Math.round(D),l=Math.round(l));var S=hr(_).map(function(I){return D+o*I});return t(b?S.reverse():S)}return delete e.unknown,e.domain=function(_){return arguments.length?(s(_),x()):s()},e.range=function(_){return arguments.length?([i,a]=_,i=+i,a=+a,x()):[i,a]},e.rangeRound=function(_){return[i,a]=_,i=+i,a=+a,c=!0,x()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(_){return arguments.length?(c=!!_,x()):c},e.padding=function(_){return arguments.length?(u=Math.min(1,g=+_),x()):u},e.paddingInner=function(_){return arguments.length?(u=Math.min(1,_),x()):u},e.paddingOuter=function(_){return arguments.length?(g=+_,x()):g},e.align=function(_){return arguments.length?(p=Math.max(0,Math.min(1,_)),x()):p},e.copy=function(){return Ui(s(),[i,a]).round(c).paddingInner(u).paddingOuter(g).align(p)},Tn.apply(x(),arguments)}function fr(e){var s=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return fr(s())},e}function is(){return fr(Ui.apply(null,arguments).paddingInner(1))}function Fg(e,s,t=Jo){if((i=e.length)&&!isNaN(s=+s)){if(s<=0||i<2)return+t(e[0],0,e);if(s>=1)return+t(e[i-1],i-1,e);var i,a=(i-1)*s,o=Math.floor(a),l=+t(e[o],o,e);return l+(+t(e[o+1],o+1,e)-l)*(a-o)}}function xr(){var i,e=[],s=[],t=[];function a(){var l=0,c=Math.max(1,s.length);for(t=new Array(c-1);++l<c;)t[l-1]=Fg(e,l/c);return o}function o(l){return null==l||isNaN(l=+l)?i:s[jo(t,l)]}return o.invertExtent=function(l){var c=s.indexOf(l);return c<0?[NaN,NaN]:[c>0?t[c-1]:e[0],c<t.length?t[c]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let c of l)null!=c&&!isNaN(c=+c)&&e.push(c);return e.sort(mn),a()},o.range=function(l){return arguments.length?(s=Array.from(l),a()):s.slice()},o.unknown=function(l){return arguments.length?(i=l,o):i},o.quantiles=function(){return t.slice()},o.copy=function(){return xr().domain(e).range(s).unknown(i)},Tn.apply(o,arguments)}function xa(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function vt(e){return function(){return e}}function _r(e){this._context=e}function Cn(e){return new _r(e)}_r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,s){switch(e=+e,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,s):this._context.moveTo(e,s);break;case 1:this._point=2;default:this._context.lineTo(e,s)}}};const _a=Math.PI,va=2*_a,Fi=1e-6,Eg=va-Fi;function vr(e){this._+=e[0];for(let s=1,t=e.length;s<t;++s)this._+=arguments[s]+e[s]}class ns{constructor(s){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==s?vr:function Ig(e){let s=Math.floor(e);if(!(s>=0))throw new Error(`invalid digits: ${e}`);if(s>15)return vr;const t=10**s;return function(i){this._+=i[0];for(let a=1,o=i.length;a<o;++a)this._+=Math.round(arguments[a]*t)/t+i[a]}}(s)}moveTo(s,t){this._append`M${this._x0=this._x1=+s},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(s,t){this._append`L${this._x1=+s},${this._y1=+t}`}quadraticCurveTo(s,t,i,a){this._append`Q${+s},${+t},${this._x1=+i},${this._y1=+a}`}bezierCurveTo(s,t,i,a,o,l){this._append`C${+s},${+t},${+i},${+a},${this._x1=+o},${this._y1=+l}`}arcTo(s,t,i,a,o){if(s=+s,t=+t,i=+i,a=+a,(o=+o)<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,u=i-s,g=a-t,p=l-s,x=c-t,_=p*p+x*x;if(null===this._x1)this._append`M${this._x1=s},${this._y1=t}`;else if(_>Fi)if(Math.abs(x*u-g*p)>Fi&&o){let b=i-l,D=a-c,B=u*u+g*g,S=b*b+D*D,I=Math.sqrt(B),N=Math.sqrt(_),O=o*Math.tan((_a-Math.acos((B+_-S)/(2*I*N)))/2),Y=O/N,U=O/I;Math.abs(Y-1)>Fi&&this._append`L${s+Y*p},${t+Y*x}`,this._append`A${o},${o},0,0,${+(x*b>p*D)},${this._x1=s+U*u},${this._y1=t+U*g}`}else this._append`L${this._x1=s},${this._y1=t}`}arc(s,t,i,a,o,l){if(s=+s,t=+t,l=!!l,(i=+i)<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(a),u=i*Math.sin(a),g=s+c,p=t+u,x=1^l,_=l?a-o:o-a;null===this._x1?this._append`M${g},${p}`:(Math.abs(this._x1-g)>Fi||Math.abs(this._y1-p)>Fi)&&this._append`L${g},${p}`,i&&(_<0&&(_=_%va+va),_>Eg?this._append`A${i},${i},0,1,${x},${s-c},${t-u}A${i},${i},0,1,${x},${this._x1=g},${this._y1=p}`:_>Fi&&this._append`A${i},${i},0,${+(_>=_a)},${x},${this._x1=s+i*Math.cos(o)},${this._y1=t+i*Math.sin(o)}`)}rect(s,t,i,a){this._append`M${this._x0=this._x1=+s},${this._y0=this._y1=+t}h${i=+i}v${+a}h${-i}Z`}toString(){return this._}}function ya(e){let s=3;return e.digits=function(t){if(!arguments.length)return s;if(null==t)s=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);s=i}return e},()=>new ns(s)}function yr(e){return e[0]}function Tr(e){return e[1]}function Cr(e,s){var t=vt(!0),i=null,a=Cn,o=null,l=ya(c);function c(u){var g,x,b,p=(u=xa(u)).length,_=!1;for(null==i&&(o=a(b=l())),g=0;g<=p;++g)!(g<p&&t(x=u[g],g,u))===_&&((_=!_)?o.lineStart():o.lineEnd()),_&&o.point(+e(x,g,u),+s(x,g,u));if(b)return o=null,b+""||null}return e="function"==typeof e?e:void 0===e?yr:vt(e),s="function"==typeof s?s:void 0===s?Tr:vt(s),c.x=function(u){return arguments.length?(e="function"==typeof u?u:vt(+u),c):e},c.y=function(u){return arguments.length?(s="function"==typeof u?u:vt(+u),c):s},c.defined=function(u){return arguments.length?(t="function"==typeof u?u:vt(!!u),c):t},c.curve=function(u){return arguments.length?(a=u,null!=i&&(o=a(i)),c):a},c.context=function(u){return arguments.length?(null==u?i=o=null:o=a(i=u),c):i},c}function qi(e,s,t){var i=null,a=vt(!0),o=null,l=Cn,c=null,u=ya(g);function g(x){var _,b,D,S,N,B=(x=xa(x)).length,I=!1,O=new Array(B),Y=new Array(B);for(null==o&&(c=l(N=u())),_=0;_<=B;++_){if(!(_<B&&a(S=x[_],_,x))===I)if(I=!I)b=_,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),D=_-1;D>=b;--D)c.point(O[D],Y[D]);c.lineEnd(),c.areaEnd()}I&&(O[_]=+e(S,_,x),Y[_]=+s(S,_,x),c.point(i?+i(S,_,x):O[_],t?+t(S,_,x):Y[_]))}if(N)return c=null,N+""||null}function p(){return Cr().defined(a).curve(l).context(o)}return e="function"==typeof e?e:void 0===e?yr:vt(+e),s="function"==typeof s?s:vt(void 0===s?0:+s),t="function"==typeof t?t:void 0===t?Tr:vt(+t),g.x=function(x){return arguments.length?(e="function"==typeof x?x:vt(+x),i=null,g):e},g.x0=function(x){return arguments.length?(e="function"==typeof x?x:vt(+x),g):e},g.x1=function(x){return arguments.length?(i=null==x?null:"function"==typeof x?x:vt(+x),g):i},g.y=function(x){return arguments.length?(s="function"==typeof x?x:vt(+x),t=null,g):s},g.y0=function(x){return arguments.length?(s="function"==typeof x?x:vt(+x),g):s},g.y1=function(x){return arguments.length?(t=null==x?null:"function"==typeof x?x:vt(+x),g):t},g.lineX0=g.lineY0=function(){return p().x(e).y(s)},g.lineY1=function(){return p().x(e).y(t)},g.lineX1=function(){return p().x(i).y(s)},g.defined=function(x){return arguments.length?(a="function"==typeof x?x:vt(!!x),g):a},g.curve=function(x){return arguments.length?(l=x,null!=o&&(c=l(o)),g):l},g.context=function(x){return arguments.length?(null==x?o=c=null:c=l(o=x),g):o},g}const br=Math.abs,Kt=Math.atan2,Ei=Math.cos,Og=Math.max,Ta=Math.min,ze=Math.sin,Ji=Math.sqrt,le=1e-12,bn=Math.PI,ss=bn/2,as=2*bn;function wr(e){return e>=1?ss:e<=-1?-ss:Math.asin(e)}function Bg(e){return e.innerRadius}function zg(e){return e.outerRadius}function Rg(e){return e.startAngle}function Hg(e){return e.endAngle}function Ng(e){return e&&e.padAngle}function os(e,s,t,i,a,o,l){var c=e-t,u=s-i,g=(l?o:-o)/Ji(c*c+u*u),p=g*u,x=-g*c,_=e+p,b=s+x,D=t+p,B=i+x,S=(_+D)/2,I=(b+B)/2,N=D-_,O=B-b,Y=N*N+O*O,U=a-o,W=_*B-D*b,ut=(O<0?-1:1)*Ji(Og(0,U*U*Y-W*W)),mt=(W*O-N*ut)/Y,Ft=(-W*N-O*ut)/Y,pt=(W*O+N*ut)/Y,q=(-W*N+O*ut)/Y,Ct=mt-S,V=Ft-I,Q=pt-S,Nt=q-I;return Ct*Ct+V*V>Q*Q+Nt*Nt&&(mt=pt,Ft=q),{cx:mt,cy:Ft,x01:-p,y01:-x,x11:mt*(a/U-1),y11:Ft*(a/U-1)}}function Ca(){var e=Bg,s=zg,t=vt(0),i=null,a=Rg,o=Hg,l=Ng,c=null,u=ya(g);function g(){var p,x,_=+e.apply(this,arguments),b=+s.apply(this,arguments),D=a.apply(this,arguments)-ss,B=o.apply(this,arguments)-ss,S=br(B-D),I=B>D;if(c||(c=p=u()),b<_&&(x=b,b=_,_=x),b>le)if(S>as-le)c.moveTo(b*Ei(D),b*ze(D)),c.arc(0,0,b,D,B,!I),_>le&&(c.moveTo(_*Ei(B),_*ze(B)),c.arc(0,0,_,B,D,I));else{var V,Q,N=D,O=B,Y=D,U=B,W=S,ut=S,mt=l.apply(this,arguments)/2,Ft=mt>le&&(i?+i.apply(this,arguments):Ji(_*_+b*b)),pt=Ta(br(b-_)/2,+t.apply(this,arguments)),q=pt,Ct=pt;if(Ft>le){var Nt=wr(Ft/_*ze(mt)),St=wr(Ft/b*ze(mt));(W-=2*Nt)>le?(Y+=Nt*=I?1:-1,U-=Nt):(W=0,Y=U=(D+B)/2),(ut-=2*St)>le?(N+=St*=I?1:-1,O-=St):(ut=0,N=O=(D+B)/2)}var bt=b*Ei(N),Pt=b*ze(N),xt=_*Ei(U),Et=_*ze(U);if(pt>le){var te,Dt=b*Ei(O),Mt=b*ze(O),ei=_*Ei(Y),Ne=_*ze(Y);if(S<bn)if(te=function Zg(e,s,t,i,a,o,l,c){var u=t-e,g=i-s,p=l-a,x=c-o,_=x*u-p*g;if(!(_*_<le))return[e+(_=(p*(s-o)-x*(e-a))/_)*u,s+_*g]}(bt,Pt,ei,Ne,Dt,Mt,xt,Et)){var Ze=bt-te[0],Vt=Pt-te[1],Ie=Dt-te[0],G=Mt-te[1],nt=1/ze(function $g(e){return e>1?0:e<-1?bn:Math.acos(e)}((Ze*Ie+Vt*G)/(Ji(Ze*Ze+Vt*Vt)*Ji(Ie*Ie+G*G)))/2),dt=Ji(te[0]*te[0]+te[1]*te[1]);q=Ta(pt,(_-dt)/(nt-1)),Ct=Ta(pt,(b-dt)/(nt+1))}else q=Ct=0}ut>le?Ct>le?(V=os(ei,Ne,bt,Pt,b,Ct,I),Q=os(Dt,Mt,xt,Et,b,Ct,I),c.moveTo(V.cx+V.x01,V.cy+V.y01),Ct<pt?c.arc(V.cx,V.cy,Ct,Kt(V.y01,V.x01),Kt(Q.y01,Q.x01),!I):(c.arc(V.cx,V.cy,Ct,Kt(V.y01,V.x01),Kt(V.y11,V.x11),!I),c.arc(0,0,b,Kt(V.cy+V.y11,V.cx+V.x11),Kt(Q.cy+Q.y11,Q.cx+Q.x11),!I),c.arc(Q.cx,Q.cy,Ct,Kt(Q.y11,Q.x11),Kt(Q.y01,Q.x01),!I))):(c.moveTo(bt,Pt),c.arc(0,0,b,N,O,!I)):c.moveTo(bt,Pt),_>le&&W>le?q>le?(V=os(xt,Et,Dt,Mt,_,-q,I),Q=os(bt,Pt,ei,Ne,_,-q,I),c.lineTo(V.cx+V.x01,V.cy+V.y01),q<pt?c.arc(V.cx,V.cy,q,Kt(V.y01,V.x01),Kt(Q.y01,Q.x01),!I):(c.arc(V.cx,V.cy,q,Kt(V.y01,V.x01),Kt(V.y11,V.x11),!I),c.arc(0,0,_,Kt(V.cy+V.y11,V.cx+V.x11),Kt(Q.cy+Q.y11,Q.cx+Q.x11),I),c.arc(Q.cx,Q.cy,q,Kt(Q.y11,Q.x11),Kt(Q.y01,Q.x01),!I))):c.arc(0,0,_,U,Y,I):c.lineTo(xt,Et)}else c.moveTo(0,0);if(c.closePath(),p)return c=null,p+""||null}return g.centroid=function(){var p=(+e.apply(this,arguments)+ +s.apply(this,arguments))/2,x=(+a.apply(this,arguments)+ +o.apply(this,arguments))/2-bn/2;return[Ei(x)*p,ze(x)*p]},g.innerRadius=function(p){return arguments.length?(e="function"==typeof p?p:vt(+p),g):e},g.outerRadius=function(p){return arguments.length?(s="function"==typeof p?p:vt(+p),g):s},g.cornerRadius=function(p){return arguments.length?(t="function"==typeof p?p:vt(+p),g):t},g.padRadius=function(p){return arguments.length?(i=null==p?null:"function"==typeof p?p:vt(+p),g):i},g.startAngle=function(p){return arguments.length?(a="function"==typeof p?p:vt(+p),g):a},g.endAngle=function(p){return arguments.length?(o="function"==typeof p?p:vt(+p),g):o},g.padAngle=function(p){return arguments.length?(l="function"==typeof p?p:vt(+p),g):l},g.context=function(p){return arguments.length?(c=p??null,g):c},g}function Vg(e,s){return s<e?-1:s>e?1:s>=e?0:NaN}function Yg(e){return e}function Sr(){var e=Yg,s=Vg,t=null,i=vt(0),a=vt(as),o=vt(0);function l(c){var u,p,x,I,Y,g=(c=xa(c)).length,_=0,b=new Array(g),D=new Array(g),B=+i.apply(this,arguments),S=Math.min(as,Math.max(-as,a.apply(this,arguments)-B)),N=Math.min(Math.abs(S)/g,o.apply(this,arguments)),O=N*(S<0?-1:1);for(u=0;u<g;++u)(Y=D[b[u]=u]=+e(c[u],u,c))>0&&(_+=Y);for(null!=s?b.sort(function(U,W){return s(D[U],D[W])}):null!=t&&b.sort(function(U,W){return t(c[U],c[W])}),u=0,x=_?(S-g*O)/_:0;u<g;++u,B=I)D[p=b[u]]={data:c[p],index:u,value:Y=D[p],startAngle:B,endAngle:I=B+(Y>0?Y*x:0)+O,padAngle:N};return D}return l.value=function(c){return arguments.length?(e="function"==typeof c?c:vt(+c),l):e},l.sortValues=function(c){return arguments.length?(s=c,t=null,l):s},l.sort=function(c){return arguments.length?(t=c,s=null,l):t},l.startAngle=function(c){return arguments.length?(i="function"==typeof c?c:vt(+c),l):i},l.endAngle=function(c){return arguments.length?(a="function"==typeof c?c:vt(+c),l):a},l.padAngle=function(c){return arguments.length?(o="function"==typeof c?c:vt(+c),l):o},l}var Xg=z(52178);const Ug=["caretElm"];function qg(e,s){}const Jg=function(e){return{model:e}};function Qg(e,s){if(1&e&&(n.TgZ(0,"span"),n.YNc(1,qg,0,0,"ng-template",5),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",n.VKq(2,Jg,t.context))}}function jg(e,s){if(1&e&&n._UZ(0,"span",6),2&e){const t=n.oxw();n.Q6J("innerHTML",t.title,n.oJD)}}function Kg(e,s){if(1&e&&(n.TgZ(0,"header",4)(1,"span",5),n._uU(2),n.qZA()()),2&e){const t=n.oxw();n.xp6(2),n.Oqu(t.title)}}function tu(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"li",6)(1,"ngx-charts-legend-entry",7),n.NdJ("select",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.labelClick.emit(a))})("activate",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.activate(a))})("deactivate",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.deactivate(a))}),n.qZA()()}if(2&e){const t=s.$implicit,i=n.oxw();n.xp6(1),n.Q6J("label",t.label)("formattedLabel",t.formattedLabel)("color",t.color)("isActive",i.isActive(t))}}function eu(e,s){if(1&e&&(n.O4$(),n.kcU(),n._UZ(0,"ngx-charts-scale-legend",4)),2&e){const t=n.oxw();n.Q6J("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("valueRange",t.legendOptions.domain)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)}}function iu(e,s){if(1&e){const t=n.EpF();n.O4$(),n.kcU(),n.TgZ(0,"ngx-charts-legend",5),n.NdJ("labelClick",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.legendLabelClick.emit(a))})("labelActivate",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.legendLabelActivate.emit(a))})("labelDeactivate",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.legendLabelDeactivate.emit(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("data",t.legendOptions.domain)("title",t.legendOptions.title)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)("activeEntries",t.activeEntries)}}const kr=["*"],nu=["ngx-charts-axis-label",""],Ar=["ticksel"],su=["ngx-charts-x-axis-ticks",""];function au(e,s){1&e&&(n.O4$(),n.GkF(0))}function ou(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"tspan",10),n._uU(1),n.qZA()),2&e){const t=s.$implicit;n.uIk("y",12*s.index),n.xp6(1),n.hij(" ",t," ")}}function ru(e,s){if(1&e&&(n.O4$(),n.ynx(0),n.YNc(1,ou,2,2,"tspan",9),n.BQk()),2&e){const t=s.ngIf;n.xp6(1),n.Q6J("ngForOf",t)}}function lu(e,s){if(1&e&&(n.O4$(),n.YNc(0,ru,2,1,"ng-container",4)),2&e){const t=n.oxw(2).$implicit,i=n.oxw();n.Q6J("ngIf",i.tickChunks(t))}}function cu(e,s){if(1&e&&(n.O4$(),n._uU(0)),2&e){const t=n.oxw().ngIf,i=n.oxw(2);n.hij(" ",i.tickTrim(t)," ")}}function hu(e,s){if(1&e&&(n.O4$(),n.ynx(0),n.TgZ(1,"title"),n._uU(2),n.qZA(),n.TgZ(3,"text",5),n.YNc(4,au,1,0,"ng-container",6),n.qZA(),n.YNc(5,lu,1,1,"ng-template",null,7,n.W1O),n.YNc(7,cu,1,1,"ng-template",null,8,n.W1O),n.BQk()),2&e){const t=s.ngIf,i=n.MAs(6),a=n.MAs(8),o=n.oxw(2);n.xp6(2),n.Oqu(t),n.xp6(1),n.uIk("text-anchor",o.textAnchor)("transform",o.textTransform),n.xp6(1),n.Q6J("ngIf",o.isWrapTicksSupported)("ngIfThen",i)("ngIfElse",a)}}function du(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g",3),n.YNc(1,hu,9,6,"ng-container",4),n.qZA()),2&e){const t=s.$implicit,i=n.oxw();n.uIk("transform",i.tickTransform(t)),n.xp6(1),n.Q6J("ngIf",i.tickFormat(t))}}function gu(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"line",11),n.qZA()),2&e){const t=n.oxw(2);n.uIk("transform",t.gridLineTransform()),n.xp6(1),n.uIk("y1",-t.gridLineHeight)}}function uu(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,gu,2,2,"g",4),n.qZA()),2&e){const t=s.$implicit,i=n.oxw();n.uIk("transform",i.tickTransform(t)),n.xp6(1),n.Q6J("ngIf",i.showGridLines)}}const mu=["ngx-charts-x-axis",""];function pu(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",2),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.emitTicksHeight(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("trimTicks",t.trimTicks)("rotateTicks",t.rotateTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickStroke",t.tickStroke)("scale",t.xScale)("orient",t.xOrient)("showGridLines",t.showGridLines)("gridLineHeight",t.dims.height)("width",t.dims.width)("tickValues",t.ticks)("wrapTicks",t.wrapTicks)}}function fu(e,s){if(1&e&&(n.O4$(),n._UZ(0,"g",3)),2&e){const t=n.oxw();n.Q6J("label",t.labelText)("offset",t.labelOffset)("orient",t.orientation.Bottom)("height",t.dims.height)("width",t.dims.width)}}const xu=["ngx-charts-y-axis-ticks",""];function _u(e,s){1&e&&(n.O4$(),n.GkF(0))}function vu(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"tspan",12),n._uU(1),n.qZA()),2&e){const t=s.$implicit,i=s.index,a=n.oxw(6);n.uIk("y",i*(8+a.tickSpacing)),n.xp6(1),n.hij(" ",t," ")}}function yu(e,s){if(1&e&&(n.O4$(),n.ynx(0),n.YNc(1,vu,2,2,"tspan",11),n.BQk()),2&e){const t=n.oxw().ngIf;n.xp6(1),n.Q6J("ngForOf",t)}}function Tu(e,s){if(1&e&&(n.O4$(),n.ynx(0),n.YNc(1,yu,2,1,"ng-container",10),n.BQk()),2&e){const t=s.ngIf;n.oxw(2);const i=n.MAs(8);n.xp6(1),n.Q6J("ngIf",t.length>1)("ngIfElse",i)}}function Cu(e,s){if(1&e&&(n.O4$(),n.YNc(0,Tu,2,2,"ng-container",5)),2&e){const t=n.oxw(2).$implicit,i=n.oxw();n.Q6J("ngIf",i.tickChunks(t))}}function bu(e,s){if(1&e&&(n.O4$(),n._uU(0)),2&e){const t=n.oxw().ngIf,i=n.oxw(2);n.hij(" ",i.tickTrim(t)," ")}}function wu(e,s){if(1&e&&(n.O4$(),n.ynx(0),n.TgZ(1,"title"),n._uU(2),n.qZA(),n.TgZ(3,"text",6),n.YNc(4,_u,1,0,"ng-container",7),n.qZA(),n.YNc(5,Cu,1,1,"ng-template",null,8,n.W1O),n.YNc(7,bu,1,1,"ng-template",null,9,n.W1O),n.BQk()),2&e){const t=s.ngIf,i=n.MAs(6),a=n.MAs(8),o=n.oxw(2);n.xp6(2),n.Oqu(t),n.xp6(1),n.Udp("font-size","12px"),n.uIk("dy",o.dy)("x",o.x1)("y",o.y1)("text-anchor",o.textAnchor),n.xp6(1),n.Q6J("ngIf",o.wrapTicks)("ngIfThen",i)("ngIfElse",a)}}function Su(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g",4),n.YNc(1,wu,9,10,"ng-container",5),n.qZA()),2&e){const t=s.$implicit,i=n.oxw();n.uIk("transform",i.transform(t)),n.xp6(1),n.Q6J("ngIf",i.tickFormat(t))}}function ku(e,s){if(1&e&&(n.O4$(),n._UZ(0,"path",13)),2&e){const t=n.oxw();n.uIk("d",t.referenceAreaPath)("transform",t.gridLineTransform())}}function Au(e,s){if(1&e&&(n.O4$(),n._UZ(0,"line",15)),2&e){const t=n.oxw(3);n.uIk("x2",t.gridLineWidth)}}function Lu(e,s){if(1&e&&(n.O4$(),n._UZ(0,"line",15)),2&e){const t=n.oxw(3);n.uIk("x2",-t.gridLineWidth)}}function Du(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,Au,1,1,"line",14),n.YNc(2,Lu,1,1,"line",14),n.qZA()),2&e){const t=n.oxw(2);n.uIk("transform",t.gridLineTransform()),n.xp6(1),n.Q6J("ngIf",t.orient===t.Orientation.Left),n.xp6(1),n.Q6J("ngIf",t.orient===t.Orientation.Right)}}function Mu(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,Du,3,3,"g",5),n.qZA()),2&e){const t=s.$implicit,i=n.oxw();n.uIk("transform",i.transform(t)),n.xp6(1),n.Q6J("ngIf",i.showGridLines)}}function Fu(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g")(1,"title"),n._uU(2),n.qZA(),n.TgZ(3,"text",17),n._uU(4),n.qZA()()),2&e){const t=n.oxw(2).$implicit,i=n.oxw();n.xp6(2),n.Oqu(i.tickTrim(i.tickFormat(t.value))),n.xp6(1),n.uIk("dy",i.dy)("y",-6)("x",i.gridLineWidth)("text-anchor",i.textAnchor),n.xp6(1),n.hij(" ",t.name," ")}}function Eu(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"line",16),n.YNc(2,Fu,5,6,"g",5),n.qZA()),2&e){const t=n.oxw().$implicit,i=n.oxw();n.uIk("transform",i.transform(t.value)),n.xp6(1),n.uIk("x2",i.gridLineWidth)("transform",i.gridLineTransform()),n.xp6(1),n.Q6J("ngIf",i.showRefLabels)}}function Iu(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,Eu,3,4,"g",5),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",t.showRefLines)}}const Pu=["ngx-charts-y-axis",""];function Ou(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",2),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.emitTicksWidth(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("trimTicks",t.trimTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickValues",t.ticks)("tickStroke",t.tickStroke)("scale",t.yScale)("orient",t.yOrient)("showGridLines",t.showGridLines)("gridLineWidth",t.dims.width)("referenceLines",t.referenceLines)("showRefLines",t.showRefLines)("showRefLabels",t.showRefLabels)("height",t.dims.height)("wrapTicks",t.wrapTicks)}}function $u(e,s){if(1&e&&(n.O4$(),n._UZ(0,"g",3)),2&e){const t=n.oxw();n.Q6J("label",t.labelText)("offset",t.labelOffset)("orient",t.yOrient)("height",t.dims.height)("width",t.dims.width)}}const Bu=["ngx-charts-svg-linear-gradient",""];function zu(e,s){if(1&e&&(n.O4$(),n._UZ(0,"stop")),2&e){const t=s.$implicit;n.Udp("stop-color",t.color)("stop-opacity",t.opacity),n.uIk("offset",t.offset+"%")}}const Ru=["ngx-charts-circle",""],Hu=["ngx-charts-circle-series",""];function Nu(e,s){if(1&e&&(n.O4$(),n._UZ(0,"rect",4)),2&e){const t=n.oxw(2);n.Q6J("@animationState","active"),n.uIk("x",t.circle.cx-t.circle.radius)("y",t.circle.cy)("width",2*t.circle.radius)("height",t.circle.height)("fill",t.gradientFill)}}function Zu(e,s){if(1&e&&(n.O4$(),n._UZ(0,"rect",4)),2&e){const t=n.oxw(2);n.uIk("x",t.circle.cx-t.circle.radius)("y",t.circle.cy)("width",2*t.circle.radius)("height",t.circle.height)("fill",t.gradientFill)}}const Vu=function(e){return{name:e}};function Yu(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g")(1,"defs"),n._UZ(2,"g",1),n.qZA(),n.YNc(3,Nu,1,6,"rect",2),n.YNc(4,Zu,1,5,"rect",2),n.TgZ(5,"g",3),n.NdJ("select",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.onClick(a.circle.data))})("activate",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.activateCircle())})("deactivate",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.deactivateCircle())}),n.qZA()()}if(2&e){const t=n.oxw();n.xp6(2),n.Q6J("orientation",t.barOrientation.Vertical)("name",t.gradientId)("stops",t.circle.gradientStops),n.xp6(1),n.Q6J("ngIf",!t.isSSR&&t.barVisible&&"standard"===t.type),n.xp6(1),n.Q6J("ngIf",t.isSSR&&t.barVisible&&"standard"===t.type),n.xp6(1),n.ekj("active",t.isActive(n.VKq(20,Vu,t.circle.seriesName))),n.Q6J("cx",t.circle.cx)("cy",t.circle.cy)("r",t.circle.radius)("fill",t.circle.color)("pointerEvents",0===t.circle.value?"none":"all")("data",t.circle.value)("classNames",t.circle.classNames)("tooltipDisabled",t.tooltipDisabled)("tooltipPlacement",t.placementTypes.Top)("tooltipType",t.styleTypes.tooltip)("tooltipTitle",t.tooltipTemplate?void 0:t.getTooltipText(t.circle))("tooltipTemplate",t.tooltipTemplate)("tooltipContext",t.circle.data)}}const Uu=["ngx-charts-svg-radial-gradient",""];function qu(e,s){if(1&e&&(n.O4$(),n._UZ(0,"stop")),2&e){const t=s.$implicit;n.Udp("stop-color",t.color)("stop-opacity",t.opacity),n.uIk("offset",t.offset+"%")}}const Ju=["ngx-charts-area",""];function Qu(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"defs"),n._UZ(1,"g",2),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("orientation",t.barOrientation.Vertical)("name",t.gradientId)("stops",t.gradientStops)}}const ju=["ngx-charts-count-up",""],Ku=["tooltipAnchor"],tm=["ngx-charts-tooltip-area",""];function em(e,s){if(1&e&&(n.TgZ(0,"div",6),n._UZ(1,"span",7),n._uU(2),n.qZA()),2&e){const t=s.$implicit,i=n.oxw(2);n.xp6(1),n.Udp("background-color",t.color),n.xp6(1),n.hij(" ",i.getToolTipText(t)," ")}}function im(e,s){if(1&e&&(n.O4$(),n.kcU(),n.TgZ(0,"div",4),n.YNc(1,em,3,3,"div",5),n.qZA()),2&e){const t=s.model;n.xp6(1),n.Q6J("ngForOf",t)}}const nm=["ngx-charts-timeline",""],dm=["ngx-charts-area-series",""],Qi=["tooltipTemplate"],ba=["seriesTooltipTemplate"];function gm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",7),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.updateXAxisHeight(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("xScale",t.xScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)("wrapTicks",t.wrapTicks)}}function um(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",8),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.updateYAxisWidth(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("yScale",t.yScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("wrapTicks",t.wrapTicks)}}function mm(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"g",9),n.qZA()),2&e){const t=s.$implicit,i=n.oxw();n.xp6(1),n.Q6J("xScale",i.xScale)("yScale",i.yScale)("baseValue",i.baseValue)("colors",i.colors)("data",t)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("gradient",i.gradient)("curve",i.curve)("animations",i.animations)}}function pm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g")(1,"g",13),n.NdJ("select",function(a){const l=n.CHM(t).$implicit,c=n.oxw(2);return n.KtG(c.onClick(a,l))})("activate",function(a){n.CHM(t);const o=n.oxw(2);return n.KtG(o.onActivate(a))})("deactivate",function(a){n.CHM(t);const o=n.oxw(2);return n.KtG(o.onDeactivate(a))}),n.qZA()()}if(2&e){const t=s.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("activeEntries",i.activeEntries)("data",t)("scaleType",i.scaleType)("visibleValue",i.hoveredVertical)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)}}function fm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",10),n.NdJ("mouseleave",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.hideCircles())}),n.TgZ(1,"g",11),n.NdJ("hover",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.updateHoveredVertical(a))}),n.qZA(),n.YNc(2,pm,2,9,"g",12),n.qZA()}if(2&e){const t=n.oxw();n.xp6(1),n.Q6J("dims",t.dims)("xSet",t.xSet)("xScale",t.xScale)("yScale",t.yScale)("results",t.results)("colors",t.colors)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.seriesTooltipTemplate),n.xp6(1),n.Q6J("ngForOf",t.results)}}function xm(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"g",15),n.qZA()),2&e){const t=s.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("xScale",i.timelineXScale)("yScale",i.timelineYScale)("baseValue",i.baseValue)("colors",i.colors)("data",t)("scaleType",i.scaleType)("gradient",i.gradient)("curve",i.curve)("animations",i.animations)}}const Re=function(e,s){return[e,s]};function _m(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",14),n.NdJ("onDomainChange",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.updateDomain(a))}),n.YNc(1,xm,2,9,"g",4),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("results",t.results)("view",n.WLB(10,Re,t.timelineWidth,t.height))("height",t.timelineHeight)("scheme",t.scheme)("customColors",t.customColors)("legend",t.legend)("scaleType",t.scaleType),n.uIk("transform",t.timelineTransform),n.xp6(1),n.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}const wn=".ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}\n";function Tm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",7),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.updateXAxisHeight(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("xScale",t.xScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)("wrapTicks",t.wrapTicks)}}function Cm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",8),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.updateYAxisWidth(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("yScale",t.yScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("wrapTicks",t.wrapTicks)}}function bm(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"g",9),n.qZA()),2&e){const t=s.$implicit,i=n.oxw();n.xp6(1),n.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",t)("scaleType",i.scaleType)("gradient",i.gradient)("activeEntries",i.activeEntries)("stacked",!0)("curve",i.curve)("animations",i.animations)}}function wm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g")(1,"g",12),n.NdJ("select",function(a){const l=n.CHM(t).$implicit,c=n.oxw(2);return n.KtG(c.onClick(a,l))})("activate",function(a){n.CHM(t);const o=n.oxw(2);return n.KtG(o.onActivate(a))})("deactivate",function(a){n.CHM(t);const o=n.oxw(2);return n.KtG(o.onDeactivate(a))}),n.qZA()()}if(2&e){const t=s.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("type",i.seriesType.Stacked)("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("activeEntries",i.activeEntries)("data",t)("scaleType",i.scaleType)("visibleValue",i.hoveredVertical)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)}}function Sm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",10),n.NdJ("mouseleave",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.hideCircles())}),n.TgZ(1,"g",11),n.NdJ("hover",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.updateHoveredVertical(a))}),n.qZA(),n.YNc(2,wm,2,10,"g",4),n.qZA()}if(2&e){const t=n.oxw();n.xp6(1),n.Q6J("dims",t.dims)("xSet",t.xSet)("xScale",t.xScale)("yScale",t.yScale)("results",t.results)("colors",t.colors)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.seriesTooltipTemplate),n.xp6(1),n.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}function km(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"g",14),n.qZA()),2&e){const t=s.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("xScale",i.timelineXScale)("yScale",i.timelineYScale)("colors",i.colors)("data",t)("scaleType",i.scaleType)("gradient",i.gradient)("stacked",!0)("curve",i.curve)("animations",i.animations)}}function Am(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",13),n.NdJ("onDomainChange",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.updateDomain(a))}),n.YNc(1,km,2,9,"g",4),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("results",t.results)("view",n.WLB(10,Re,t.timelineWidth,t.height))("height",t.timelineHeight)("scheme",t.scheme)("customColors",t.customColors)("legend",t.legend)("scaleType",t.scaleType),n.uIk("transform",t.timelineTransform),n.xp6(1),n.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}const Lm=["ngx-charts-bar",""];function Dm(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"defs"),n._UZ(1,"g",2),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("orientation",t.orientation)("name",t.gradientId)("stops",t.gradientStops)}}const Mm=["ngx-charts-bar-label",""],zm=["ngx-charts-series-vertical",""];function Rm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",2),n.NdJ("select",function(a){n.CHM(t);const o=n.oxw(2);return n.KtG(o.onClick(a))})("activate",function(a){n.CHM(t);const o=n.oxw(2);return n.KtG(o.activate.emit(a))})("deactivate",function(a){n.CHM(t);const o=n.oxw(2);return n.KtG(o.deactivate.emit(a))}),n.qZA()}if(2&e){const t=s.$implicit,i=n.oxw(2);n.Q6J("@animationState","active")("@.disabled",!i.animations)("width",t.width)("height",t.height)("x",t.x)("y",t.y)("fill",t.color)("stops",t.gradientStops)("data",t.data)("orientation",i.barOrientation.Vertical)("roundEdges",t.roundEdges)("gradient",i.gradient)("ariaLabel",t.ariaLabel)("isActive",i.isActive(t.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:t.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function Hm(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,Rm,1,22,"g",1),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.bars)("ngForTrackBy",t.trackBy)}}function Nm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",2),n.NdJ("select",function(a){n.CHM(t);const o=n.oxw(2);return n.KtG(o.onClick(a))})("activate",function(a){n.CHM(t);const o=n.oxw(2);return n.KtG(o.activate.emit(a))})("deactivate",function(a){n.CHM(t);const o=n.oxw(2);return n.KtG(o.deactivate.emit(a))}),n.qZA()}if(2&e){const t=s.$implicit,i=n.oxw(2);n.Q6J("width",t.width)("height",t.height)("x",t.x)("y",t.y)("fill",t.color)("stops",t.gradientStops)("data",t.data)("orientation",i.barOrientation.Vertical)("roundEdges",t.roundEdges)("gradient",i.gradient)("ariaLabel",t.ariaLabel)("isActive",i.isActive(t.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:t.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function Zm(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,Nm,1,20,"g",1),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.bars)("ngForTrackBy",t.trackBy)}}function Vm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",4),n.NdJ("dimensionsChanged",function(a){const l=n.CHM(t).index,c=n.oxw(2);return n.KtG(c.dataLabelHeightChanged.emit({size:a,index:l}))}),n.qZA()}if(2&e){const t=s.$implicit,i=n.oxw(2);n.Q6J("barX",t.x)("barY",t.y)("barWidth",t.width)("barHeight",t.height)("value",t.total)("valueFormatting",i.dataLabelFormatting)("orientation",i.barOrientation.Vertical)}}function Ym(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,Vm,1,7,"g",3),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.barsForDataLabels)("ngForTrackBy",t.trackDataLabelBy)}}function Wm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",5),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.updateXAxisHeight(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("xScale",t.xScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)("xAxisOffset",t.dataLabelMaxHeight.negative)("wrapTicks",t.wrapTicks)}}function Gm(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",6),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.updateYAxisWidth(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("yScale",t.yScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("wrapTicks",t.wrapTicks)}}const sp=["ngx-charts-line",""];function ap(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"path",1),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("@animationState","active"),n.uIk("d",t.initialPath)("fill",t.fill)("stroke",t.stroke)}}function op(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"path",1),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.uIk("d",t.initialPath)("fill",t.fill)("stroke",t.stroke)}}const rp=["ngx-charts-line-series",""];function lp(e,s){if(1&e&&(n.O4$(),n._UZ(0,"g",4)),2&e){const t=n.oxw();n.Q6J("orientation",t.barOrientation.Vertical)("name",t.gradientId)("stops",t.gradientStops)}}function cp(e,s){if(1&e&&(n.O4$(),n._UZ(0,"g",5)),2&e){const t=n.oxw();n.ekj("active",t.isActive(t.data))("inactive",t.isInactive(t.data)),n.Q6J("data",t.data)("path",t.outerPath)("fill",t.hasGradient?t.gradientUrl:t.colors.getColor(t.data.name))("opacity",t.rangeFillOpacity)("animations",t.animations)}}function hp(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",7),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.updateXAxisHeight(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("xScale",t.xScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)("wrapTicks",t.wrapTicks)}}function dp(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",8),n.NdJ("dimensionsChanged",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.updateYAxisWidth(a))}),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("yScale",t.yScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("referenceLines",t.referenceLines)("showRefLines",t.showRefLines)("showRefLabels",t.showRefLabels)("wrapTicks",t.wrapTicks)}}function gp(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"g",10),n.qZA()),2&e){const t=s.$implicit,i=n.oxw(2);n.Q6J("@animationState","active"),n.xp6(1),n.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",t)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function up(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,gp,2,11,"g",9),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}function mp(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"g",10),n.qZA()),2&e){const t=s.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",t)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function pp(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,mp,2,10,"g",9),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}function fp(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g")(1,"g",14),n.NdJ("select",function(a){n.CHM(t);const o=n.oxw(2);return n.KtG(o.onClick(a))})("activate",function(a){n.CHM(t);const o=n.oxw(2);return n.KtG(o.onActivate(a))})("deactivate",function(a){n.CHM(t);const o=n.oxw(2);return n.KtG(o.onDeactivate(a))}),n.qZA()()}if(2&e){const t=s.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",t)("scaleType",i.scaleType)("visibleValue",i.hoveredVertical)("activeEntries",i.activeEntries)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)}}function xp(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",11),n.NdJ("mouseleave",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.hideCircles())}),n.TgZ(1,"g",12),n.NdJ("hover",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.updateHoveredVertical(a))}),n.qZA(),n.YNc(2,fp,2,9,"g",13),n.qZA()}if(2&e){const t=n.oxw();n.xp6(1),n.Q6J("dims",t.dims)("xSet",t.xSet)("xScale",t.xScale)("yScale",t.yScale)("results",t.results)("colors",t.colors)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.seriesTooltipTemplate),n.xp6(1),n.Q6J("ngForOf",t.results)}}function _p(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"g"),n._UZ(1,"g",16),n.qZA()),2&e){const t=s.$implicit,i=n.oxw(2);n.xp6(1),n.Q6J("xScale",i.timelineXScale)("yScale",i.timelineYScale)("colors",i.colors)("data",t)("scaleType",i.scaleType)("curve",i.curve)("hasRange",i.hasRange)("animations",i.animations)}}function vp(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",15),n.NdJ("onDomainChange",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.updateDomain(a))}),n.YNc(1,_p,2,8,"g",9),n.qZA()}if(2&e){const t=n.oxw();n.Q6J("results",t.results)("view",n.WLB(10,Re,t.timelineWidth,t.height))("height",t.timelineHeight)("scheme",t.scheme)("customColors",t.customColors)("scaleType",t.scaleType)("legend",t.legend),n.uIk("transform",t.timelineTransform),n.xp6(1),n.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}const yp=["ngx-charts-pie-label",""],Sp=["ngx-charts-pie-arc",""];function kp(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"defs"),n._UZ(1,"g",3),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("color",t.fill)("name",t.radialGradientId)("startOpacity",t.startOpacity)}}const Ap=["ngx-charts-pie-series",""];function Lp(e,s){if(1&e&&(n.O4$(),n._UZ(0,"g",3)),2&e){const t=n.oxw().$implicit,i=n.oxw();n.Q6J("data",t)("radius",i.outerRadius)("color",i.color(t))("label",i.labelText(t))("labelTrim",i.trimLabels)("labelTrimSize",i.maxLabelLength)("max",i.max)("value",t.value)("explodeSlices",i.explodeSlices)("animations",i.animations)}}function Dp(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g"),n.YNc(1,Lp,1,10,"g",1),n.TgZ(2,"g",2),n.NdJ("select",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.onClick(a))})("activate",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.activate.emit(a))})("deactivate",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.deactivate.emit(a))})("dblclick",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.dblclick.emit(a))}),n.qZA()()}if(2&e){const t=s.$implicit,i=n.oxw();n.xp6(1),n.Q6J("ngIf",i.labelVisible(t)),n.xp6(1),n.Q6J("startAngle",t.startAngle)("endAngle",t.endAngle)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("fill",i.color(t))("value",t.data.value)("gradient",i.gradient)("data",t.data)("max",i.max)("explodeSlices",i.explodeSlices)("isActive",i.isActive(t.data))("animate",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Top)("tooltipType",i.styleTypes.tooltip)("tooltipTitle",i.getTooltipTitle(t))("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)}}const Fp=["ngx-charts-pie-grid-series",""];function Ep(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",2),n.NdJ("select",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.onClick(a))})("activate",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.activate.emit(a))})("deactivate",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.deactivate.emit(a))}),n.qZA()}if(2&e){const t=s.$implicit,i=n.oxw();n.Q6J("startAngle",t.startAngle)("endAngle",t.endAngle)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("fill",i.color(t))("value",t.data.value)("data",t.data)("gradient",!1)("pointerEvents",t.pointerEvents)("animate",t.animate),n.uIk("class",t.class)}}function Ip(e,s){if(1&e&&(n.O4$(),n._UZ(0,"text",10)),2&e){const t=n.oxw().$implicit;n.Q6J("countTo",t.percent)("countSuffix","%")}}function Pp(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"text",11),n._uU(1),n.qZA()),2&e){const t=n.oxw().$implicit;n.xp6(1),n.hij(" ",t.percent.toLocaleString()," ")}}function Op(e,s){if(1&e&&(n.O4$(),n._UZ(0,"text",12)),2&e){const t=n.oxw().$implicit,i=n.oxw();n.Q6J("countTo",t.total)("countPrefix",i.label+": "),n.uIk("y",t.outerRadius)}}function $p(e,s){if(1&e&&(n.O4$(),n.TgZ(0,"text",13),n._uU(1),n.qZA()),2&e){const t=n.oxw().$implicit,i=n.oxw();n.uIk("y",t.outerRadius),n.xp6(1),n.AsE(" ",i.label,": ",t.total.toLocaleString()," ")}}const Bp=function(e){return{data:e}};function zp(e,s){if(1&e){const t=n.EpF();n.O4$(),n.TgZ(0,"g",3)(1,"g",4),n.NdJ("select",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.onClick(a))})("activate",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.onActivate(a))})("deactivate",function(a){n.CHM(t);const o=n.oxw();return n.KtG(o.onDeactivate(a))}),n.qZA(),n.YNc(2,Ip,1,2,"text",5),n.YNc(3,Pp,2,1,"text",6),n.TgZ(4,"text",7),n._uU(5),n.qZA(),n.YNc(6,Op,1,3,"text",8),n.YNc(7,$p,2,3,"text",9),n.qZA()}if(2&e){const t=s.$implicit,i=n.oxw();n.uIk("transform",t.transform),n.xp6(1),n.Q6J("colors",t.colors)("data",t.data)("innerRadius",t.innerRadius)("outerRadius",t.outerRadius)("animations",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Top)("tooltipType",i.styleTypes.tooltip)("tooltipTitle",i.tooltipTemplate?void 0:i.tooltipText(n.VKq(17,Bp,t)))("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data[0].data),n.xp6(1),n.Q6J("ngIf",i.animations),n.xp6(1),n.Q6J("ngIf",!i.animations),n.xp6(2),n.hij(" ",t.label," "),n.xp6(1),n.Q6J("ngIf",i.animations),n.xp6(1),n.Q6J("ngIf",!i.animations)}}function Np(e,s,t){t=t||{};let i,a,o,l=null,c=0;function u(){c=!1===t.leading?0:+new Date,l=null,o=e.apply(i,a)}return function(){const g=+new Date;!c&&!1===t.leading&&(c=g);const p=s-(g-c);return i=this,a=arguments,p<=0?(clearTimeout(l),l=null,c=g,o=e.apply(i,a)):!l&&!1!==t.trailing&&(l=setTimeout(u,p)),o}}function Zp(e,s){return function(i,a,o){return{configurable:!0,enumerable:o.enumerable,get:function(){return Object.defineProperty(this,a,{configurable:!0,enumerable:o.enumerable,value:Np(o.value,e,s)}),this[a]}}}}var lt=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.Center="center",e}(lt||{});function Lr(e,s,t){return t===lt.Top?e.top-7:t===lt.Bottom?e.top+e.height-s.height+7:t===lt.Center?e.top+e.height/2-s.height/2:void 0}function Dr(e,s,t){return t===lt.Left?e.left-7:t===lt.Right?e.left+e.width-s.width+7:t===lt.Center?e.left+e.width/2-s.width/2:void 0}class ue{static calculateVerticalAlignment(s,t,i){let a=Lr(s,t,i);return a+t.height>window.innerHeight&&(a=window.innerHeight-t.height),a}static calculateVerticalCaret(s,t,i,a){let o;a===lt.Top&&(o=s.height/2-i.height/2+7),a===lt.Bottom&&(o=t.height-s.height/2-i.height/2-7),a===lt.Center&&(o=t.height/2-i.height/2);const l=Lr(s,t,a);return l+t.height>window.innerHeight&&(o+=l+t.height-window.innerHeight),o}static calculateHorizontalAlignment(s,t,i){let a=Dr(s,t,i);return a+t.width>window.innerWidth&&(a=window.innerWidth-t.width),a}static calculateHorizontalCaret(s,t,i,a){let o;a===lt.Left&&(o=s.width/2-i.width/2+7),a===lt.Right&&(o=t.width-s.width/2-i.width/2-7),a===lt.Center&&(o=t.width/2-i.width/2);const l=Dr(s,t,a);return l+t.width>window.innerWidth&&(o+=l+t.width-window.innerWidth),o}static shouldFlip(s,t,i,a){let o=!1;return i===lt.Right&&s.left+s.width+t.width+a>window.innerWidth&&(o=!0),i===lt.Left&&s.left-t.width-a<0&&(o=!0),i===lt.Top&&s.top-t.height-a<0&&(o=!0),i===lt.Bottom&&s.top+s.height+t.height+a>window.innerHeight&&(o=!0),o}static positionCaret(s,t,i,a,o){let l=0,c=0;return s===lt.Right?(c=-7,l=ue.calculateVerticalCaret(i,t,a,o)):s===lt.Left?(c=t.width,l=ue.calculateVerticalCaret(i,t,a,o)):s===lt.Top?(l=t.height,c=ue.calculateHorizontalCaret(i,t,a,o)):s===lt.Bottom&&(l=-7,c=ue.calculateHorizontalCaret(i,t,a,o)),{top:l,left:c}}static positionContent(s,t,i,a,o){let l=0,c=0;return s===lt.Right?(c=i.left+i.width+a,l=ue.calculateVerticalAlignment(i,t,o)):s===lt.Left?(c=i.left-t.width-a,l=ue.calculateVerticalAlignment(i,t,o)):s===lt.Top?(l=i.top-t.height-a,c=ue.calculateHorizontalAlignment(i,t,o)):s===lt.Bottom&&(l=i.top+i.height+a,c=ue.calculateHorizontalAlignment(i,t,o)),{top:l,left:c}}static determinePlacement(s,t,i,a){if(ue.shouldFlip(i,t,s,a)){if(s===lt.Right)return lt.Left;if(s===lt.Left)return lt.Right;if(s===lt.Top)return lt.Bottom;if(s===lt.Bottom)return lt.Top}return s}}let Vp=(()=>{class e{constructor(t,i,a){this.element=t,this.renderer=i,this.platformId=a}get cssClasses(){let t="ngx-charts-tooltip-content";return t+=` position-${this.placement}`,t+=` type-${this.type}`,t+=` ${this.cssClass}`,t}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!(0,v.NF)(this.platformId))return;const t=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const a=t.getBoundingClientRect();this.checkFlip(i,a),this.positionContent(t,i,a),this.showCaret&&this.positionCaret(i,a),setTimeout(()=>this.renderer.addClass(t,"animate"),1)}positionContent(t,i,a){const{top:o,left:l}=ue.positionContent(this.placement,a,i,this.spacing,this.alignment);this.renderer.setStyle(t,"top",`${o}px`),this.renderer.setStyle(t,"left",`${l}px`)}positionCaret(t,i){const a=this.caretElm.nativeElement,o=a.getBoundingClientRect(),{top:l,left:c}=ue.positionCaret(this.placement,i,t,o,this.alignment);this.renderer.setStyle(a,"top",`${l}px`),this.renderer.setStyle(a,"left",`${c}px`)}checkFlip(t,i){this.placement=ue.determinePlacement(this.placement,i,t,this.spacing)}onWindowResize(){this.position()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-tooltip-content"]],viewQuery:function(t,i){if(1&t&&n.Gf(Ug,5),2&t){let a;n.iGM(a=n.CRH())&&(i.caretElm=a.first)}},hostVars:2,hostBindings:function(t,i){1&t&&n.NdJ("resize",function(){return i.onWindowResize()},!1,n.Jf7),2&t&&n.Tol(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(t,i){1&t&&(n.TgZ(0,"div"),n._UZ(1,"span",0,1),n.TgZ(3,"div",2),n.YNc(4,Qg,2,4,"span",3),n.YNc(5,jg,1,1,"span",4),n.qZA()()),2&t&&(n.xp6(1),n.Gre("tooltip-caret position-",i.placement,""),n.Q6J("hidden",!i.showCaret),n.xp6(3),n.Q6J("ngIf",!i.title),n.xp6(1),n.Q6J("ngIf",i.title))},dependencies:[v.O5,v.tP],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),(0,st.gn)([Zp(100)],e.prototype,"onWindowResize",null),e})();class Yp{constructor(s){this.injectionService=s,this.defaults={},this.components=new Map}getByType(s=this.type){return this.components.get(s)}create(s){return this.createByType(this.type,s)}createByType(s,t){t=this.assignDefaults(t);const i=this.injectComponent(s,t);return this.register(s,i),i}destroy(s){const t=this.components.get(s.componentType);if(t&&t.length){const i=t.indexOf(s);i>-1&&(t[i].destroy(),t.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(s){const t=this.components.get(s);if(t&&t.length){let i=t.length-1;for(;i>=0;)this.destroy(t[i--])}}injectComponent(s,t){return this.injectionService.appendComponent(s,t)}assignDefaults(s){const t={...this.defaults.inputs},i={...this.defaults.outputs};return!s.inputs&&!s.outputs&&(s={inputs:s}),t&&(s.inputs={...t,...s.inputs}),i&&(s.outputs={...i,...s.outputs}),s}register(s,t){this.components.has(s)||this.components.set(s,[]),this.components.get(s).push(t)}}let Mr=(()=>{class e{constructor(t,i,a){this.applicationRef=t,this.componentFactoryResolver=i,this.injector=a}static setGlobalRootViewContainer(t){e.globalRootViewContainer=t}getRootViewContainer(){if(this._container)return this._container;if(e.globalRootViewContainer)return e.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(t){this._container=t}getComponentRootNode(t){return function Wp(e){return e.element}(t)?t.element.nativeElement:t.hostView&&t.hostView.rootNodes.length>0?t.hostView.rootNodes[0]:t.location.nativeElement}getRootViewContainerNode(t){return this.getComponentRootNode(t)}projectComponentBindings(t,i){if(i){if(void 0!==i.inputs){const a=Object.getOwnPropertyNames(i.inputs);for(const o of a)t.instance[o]=i.inputs[o]}if(void 0!==i.outputs){const a=Object.getOwnPropertyNames(i.outputs);for(const o of a)t.instance[o]=i.outputs[o]}}return t}appendComponent(t,i={},a){a||(a=this.getRootViewContainer());const o=this.getComponentRootNode(a),l=new Pe(o,this.componentFactoryResolver,this.applicationRef,this.injector),c=new X(t),u=l.attach(c);return this.projectComponentBindings(u,i),u}}return e.globalRootViewContainer=null,e.\u0275fac=function(t){return new(t||e)(n.LFG(n.z2F),n.LFG(n._Vd),n.LFG(n.zs3))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),wa=(()=>{class e extends Yp{constructor(t){super(t),this.type=Vp}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(Mr))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();var Fe=function(e){return e.Right="right",e.Below="below",e}(Fe||{}),Sn=function(e){return e.ScaleLegend="scaleLegend",e.Legend="legend",e}(Sn||{}),P=function(e){return e.Time="time",e.Linear="linear",e.Ordinal="ordinal",e.Quantile="quantile",e}(P||{});let Fr=(()=>{class e{constructor(){this.horizontal=!1}ngOnChanges(t){const i=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${i})`}gradientString(t,i){i.push(1);const a=[];return t.reverse().forEach((o,l)=>{a.push(`${o} ${Math.round(100*i[l])}%`)}),a.join(", ")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[n.TTD],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(t,i){1&t&&(n.TgZ(0,"div",0)(1,"div",1)(2,"span"),n._uU(3),n.qZA()(),n._UZ(4,"div",2),n.TgZ(5,"div",1)(6,"span"),n._uU(7),n.qZA()()()),2&t&&(n.Udp("height",i.horizontal?void 0:i.height,"px")("width",i.width,"px"),n.ekj("horizontal-legend",i.horizontal),n.xp6(3),n.Oqu(i.valueRange[1].toLocaleString()),n.xp6(1),n.Udp("background",i.gradient),n.xp6(3),n.Oqu(i.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}\n"],encapsulation:2,changeDetection:0}),e})();function ti(e){return e instanceof Date?e.toLocaleDateString():e.toLocaleString()}function rs(e){return e.toLocaleString().replace(/[&'`"<>]/g,s=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[s]))}let Er=(()=>{class e{constructor(){this.isActive=!1,this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe,this.toggle=new n.vpe}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(t,i){1&t&&n.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(t,i){1&t&&(n.TgZ(0,"span",0),n.NdJ("click",function(){return i.select.emit(i.formattedLabel)}),n.TgZ(1,"span",1),n.NdJ("click",function(){return i.toggle.emit(i.formattedLabel)}),n.qZA(),n.TgZ(2,"span",2),n._uU(3),n.qZA()()),2&t&&(n.ekj("active",i.isActive),n.Q6J("title",i.formattedLabel),n.xp6(1),n.Udp("background-color",i.color),n.xp6(2),n.hij(" ",i.trimmedLabel," "))},encapsulation:2,changeDetection:0}),e})(),Ir=(()=>{class e{constructor(t){this.cd=t,this.horizontal=!1,this.labelClick=new n.vpe,this.labelActivate=new n.vpe,this.labelDeactivate=new n.vpe,this.legendEntries=[]}ngOnChanges(t){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const t=[];for(const i of this.data){const a=ti(i);-1===t.findIndex(l=>l.label===a)&&t.push({label:i,formattedLabel:a,color:this.colors.getColor(i)})}return t}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.label===a.name)}activate(t){this.labelActivate.emit(t)}deactivate(t){this.labelDeactivate.emit(t)}trackBy(t,i){return i.label}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.sBO))},e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[n.TTD],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(t,i){1&t&&(n.TgZ(0,"div"),n.YNc(1,Kg,3,1,"header",0),n.TgZ(2,"div",1)(3,"ul",2),n.YNc(4,tu,2,4,"li",3),n.qZA()()()),2&t&&(n.Udp("width",i.width,"px"),n.xp6(1),n.Q6J("ngIf",(null==i.title?null:i.title.length)>0),n.xp6(2),n.Udp("max-height",i.height-45,"px"),n.ekj("horizontal-legend",i.horizontal),n.xp6(1),n.Q6J("ngForOf",i.legendEntries)("ngForTrackBy",i.trackBy))},dependencies:[Er,v.O5,v.sg],styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),e})(),Ii=(()=>{class e{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new n.vpe,this.legendLabelActivate=new n.vpe,this.legendLabelDeactivate=new n.vpe,this.LegendPosition=Fe,this.LegendType=Sn}ngOnChanges(t){this.update()}update(){let t=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===Fe.Right)&&(t=this.legendType===Sn.ScaleLegend?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-t)/12),this.legendWidth=this.legendOptions&&this.legendOptions.position!==Fe.Right?this.chartWidth:Math.floor(this.view[0]*t/12)}getLegendType(){return this.legendOptions.scaleType===P.Linear?Sn.ScaleLegend:Sn.Legend}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[n._Bn([wa]),n.TTD],ngContentSelectors:kr,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(t,i){1&t&&(n.F$t(),n.TgZ(0,"div",0),n.O4$(),n.TgZ(1,"svg",1),n.Hsn(2),n.qZA(),n.YNc(3,eu,1,5,"ngx-charts-scale-legend",2),n.YNc(4,iu,1,7,"ngx-charts-legend",3),n.qZA()),2&t&&(n.Udp("width",i.view[0],"px")("height",i.view[1],"px"),n.xp6(1),n.uIk("width",i.chartWidth)("height",i.view[1]),n.xp6(2),n.Q6J("ngIf",i.showLegend&&i.legendType===i.LegendType.ScaleLegend),n.xp6(1),n.Q6J("ngIf",i.showLegend&&i.legendType===i.LegendType.Legend))},dependencies:[Fr,Ir,v.O5],encapsulation:2,changeDetection:0}),e})(),Gp=(()=>{class e{constructor(t,i){this.element=t,this.zone=i,this.visible=new n.vpe,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const t=()=>{if(!this.element)return;const{offsetHeight:i,offsetWidth:a}=this.element.nativeElement;i&&a?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t())})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.R0b))},e.\u0275dir=n.lG2({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),e})();function Sa(e){return"[object Date]"===toString.call(e)}function Xp(e){return"number"==typeof e}let Pi=(()=>{class e{constructor(t,i,a,o){this.chartElement=t,this.zone=i,this.cd=a,this.platformId=o,this.scheme="cool",this.schemeType=P.Ordinal,this.animations=!0,this.select=new n.vpe}ngOnInit(){(0,v.PM)(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new Gp(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(t){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const t=this.getContainerDims();t&&(this.width=t.width,this.height=t.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let t,i;const a=this.chartElement.nativeElement;if((0,v.NF)(this.platformId)&&null!==a.parentNode){const o=a.parentNode.getBoundingClientRect();t=o.width,i=o.height}return t&&i?{width:t,height:i}:null}formatDates(){for(let t=0;t<this.results.length;t++){const i=this.results[t];if(i.label=i.name,Sa(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let a=0;a<i.series.length;a++){const o=i.series[a];o.label=o.name,Sa(o.label)&&(o.label=o.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!(0,v.NF)(this.platformId))return;const i=(0,fi.R)(window,"resize").pipe((0,At.b)(200)).subscribe(a=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}cloneData(t){const i=[];for(const a of t){const o={name:a.name};if(void 0!==a.value&&(o.value=a.value),void 0!==a.series){o.series=[];for(const l of a.series){const c=Object.assign({},l);o.series.push(c)}}void 0!==a.extra&&(o.extra=JSON.parse(JSON.stringify(a.extra))),i.push(o)}return i}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(n.sBO),n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[n.TTD],decls:1,vars:0,template:function(t,i){1&t&&n._UZ(0,"div")},encapsulation:2}),e})();var Jt=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e}(Jt||{});let Pr=(()=>{class e{constructor(t){this.textHeight=25,this.margin=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case Jt.Top:case Jt.Bottom:this.y=this.offset,this.x=this.width/2;break;case Jt.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case Jt.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[n.TTD],attrs:nu,decls:2,vars:6,template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"text"),n._uU(1),n.qZA()),2&t&&(n.uIk("stroke-width",i.strokeWidth)("x",i.x)("y",i.y)("text-anchor",i.textAnchor)("transform",i.transform),n.xp6(1),n.hij(" ",i.label," "))},encapsulation:2,changeDetection:0}),e})();function ji(e,s=16){return"string"!=typeof e?"number"==typeof e?e+"":"":(e=e.trim()).length<=s?e:`${e.slice(0,s)}...`}function Or(e,s){if(e.length>s){const t=[],i=Math.floor(e.length/s);for(let a=0;a<e.length;a++)a%i==0&&t.push(e[a]);e=t}return e}function $r(e,s,t){const i=(e||"").toString();let a=[];if(/\s/.test(i))a=i.split(/\s+/).reduce((o,l)=>{const c=(o.pop()||"")+" ";return c.length+l.length>s?[...o,c.trim(),l.trim()]:[...o,c+l]},[]);else{let o=0;for(;o<i.length;)a.push(i.substring(o,o+s)),o+=s}return a.length>t&&(a=a.splice(0,t),a[a.length-1]+="..."),a}var Ee=function(e){return e.Start="start",e.Middle="middle",e.End="end",e}(Ee||{});let Br=(()=>{class e{constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new n.vpe,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=Ee.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!(0,v.NF)(this.platformId))return void this.dimensionsChanged.emit({height:this.approxHeight});const t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);t!==this.height&&(this.height=t,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){const t=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:t.tickFormat?t.tickFormat.apply(t,this.tickArguments):function(a){return"Date"===a.constructor.name?a.toLocaleDateString():a.toLocaleString()};const i=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(a){return this.scale(a)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",i&&0!==i?(this.textTransform=`rotate(${i})`,this.textAnchor=Ee.End,this.verticalSpacing=10):this.textAnchor=Ee.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(t){let i=0;this.maxTicksLength=0;for(let x=0;x<t.length;x++){const _=this.tickFormat(t[x]).toString();let b=_.length;this.trimTicks&&(b=this.tickTrim(_).length),b>this.maxTicksLength&&(this.maxTicksLength=b)}const l=7*Math.min(this.maxTicksLength,this.maxAllowedLength);let c=l;const u=Math.floor(this.width/t.length);for(;c>u&&i>-90;)i-=30,c=Math.cos(i*(Math.PI/180))*l;let g=14;if(this.isWrapTicksSupported){const x=this.ticks.reduce((b,D)=>D.length>b.length?D:b,"");g=14*(this.tickChunks(x).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(x)}const p=0!==i?Math.max(Math.abs(Math.sin(i*Math.PI/180))*this.maxTickLength*7,10):g;return this.approxHeight=Math.min(p,200),i}getTicks(){let t;const i=this.getMaxTicks(20),a=this.getMaxTicks(100);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[a]):(t=this.scale.domain(),t=Or(t,i)),t}getMaxTicks(t){return Math.floor(this.width/t)}tickTransform(t){return"translate("+this.adjustedScale(t)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(t){return this.trimTicks?ji(t,this.maxTickLength):t}getMaxPossibleLengthForTick(t){if(this.scale.bandwidth){const a=Math.floor(this.scale.bandwidth()/7),o=t.slice(0,a);return Math.max(o.length,this.maxTickLength)}return this.maxTickLength}tickChunks(t){if(t.toString().length>this.maxTickLength&&this.scale.bandwidth){let a=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(a<=1)return[this.tickTrim(t)];let o=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return(0,v.NF)(this.platformId)||(o=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),a=Math.min(a,5),$r(t,o,a<1?1:a)}return[this.tickTrim(t)]}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(t,i){if(1&t&&n.Gf(Ar,5),2&t){let a;n.iGM(a=n.CRH())&&(i.ticksElement=a.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[n.TTD],attrs:su,decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"g",null,0),n.YNc(2,du,2,2,"g",1),n.qZA(),n.YNc(3,uu,2,2,"g",2)),2&t&&(n.xp6(2),n.Q6J("ngForOf",i.ticks),n.xp6(1),n.Q6J("ngForOf",i.ticks))},dependencies:[v.sg,v.O5],encapsulation:2,changeDetection:0}),e})(),ls=(()=>{class e{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=Jt.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new n.vpe,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=Jt}ngOnChanges(t){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:t}){const i=t+25+5;i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({height:t})},0))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(t,i){if(1&t&&n.Gf(Br,5),2&t){let a;n.iGM(a=n.CRH())&&(i.ticksComponent=a.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[n.TTD],attrs:mu,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,pu,1,13,"g",0),n.YNc(2,fu,1,5,"g",1),n.qZA()),2&t&&(n.uIk("class",i.xAxisClassName)("transform",i.transform),n.xp6(1),n.Q6J("ngIf",i.xScale),n.xp6(1),n.Q6J("ngIf",i.showLabel))},dependencies:[Br,Pr,v.O5],encapsulation:2,changeDetection:0}),e})();function gi(e,s,t,i,a,[o,l,c,u]){let g="";return g=`M${[e+a,s]}`,g+="h"+((t=0===(t=Math.floor(t))?1:t)-2*a),g+=l?`a${[a,a]} 0 0 1 ${[a,a]}`:`h${a}v${a}`,g+="v"+((i=0===(i=Math.floor(i))?1:i)-2*a),g+=u?`a${[a,a]} 0 0 1 ${[-a,a]}`:`v${a}h${-a}`,g+="h"+(2*a-t),g+=c?`a${[a,a]} 0 0 1 ${[-a,-a]}`:`h${-a}v${-a}`,g+="v"+(2*a-i),g+=o?`a${[a,a]} 0 0 1 ${[a,-a]}`:`v${-a}h${a}`,g+="z",g}let zr=(()=>{class e{constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new n.vpe,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=Ee.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=Jt}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!(0,v.NF)(this.platformId))return this.width=this.getApproximateAxisWidth(),void this.dimensionsChanged.emit({width:this.width});const t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);t!==this.width&&(this.width=t,this.dimensionsChanged.emit({width:t}),setTimeout(()=>this.updateDims()))}update(){const t=this.scale,i=this.orient===Jt.Top||this.orient===Jt.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:t.tickFormat?t.tickFormat.apply(t,this.tickArguments):function(a){return"Date"===a.constructor.name?a.toLocaleDateString():a.toLocaleString()},this.adjustedScale=t.bandwidth?a=>{const o=t(a)+.5*t.bandwidth();if(this.wrapTicks&&a.toString().length>this.maxTickLength){const l=this.tickChunks(a).length;if(1===l)return o;const g=.5*t.bandwidth()-8*l*.5;return t(a)+g}return o}:t,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case Jt.Top:case Jt.Bottom:this.transform=function(a){return"translate("+this.adjustedScale(a)+",0)"},this.textAnchor=Ee.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case Jt.Left:this.transform=function(a){return"translate(0,"+this.adjustedScale(a)+")"},this.textAnchor=Ee.End,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;case Jt.Right:this.transform=function(a){return"translate(0,"+this.adjustedScale(a)+")"},this.textAnchor=Ee.Start,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em"}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(t=>t.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(t=>t.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=gi(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let t;const i=this.getMaxTicks(20),a=this.getMaxTicks(50);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[a]):(t=this.scale.domain(),t=Or(t,i)),t}getMaxTicks(t){return Math.floor(this.height/t)}tickTransform(t){return`translate(${this.adjustedScale(t)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(t){return this.trimTicks?ji(t,this.maxTickLength):t}getApproximateAxisWidth(){return 7*Math.max(...this.ticks.map(a=>this.tickTrim(this.tickFormat(a)).length))}tickChunks(t){if(t.toString().length>this.maxTickLength&&this.scale.bandwidth){const i=this.maxTickLength,a=Math.floor(this.scale.bandwidth()/15);return a<=1?[this.tickTrim(t)]:$r(t,i,Math.min(a,5))}return[this.tickFormat(t)]}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(t,i){if(1&t&&n.Gf(Ar,5),2&t){let a;n.iGM(a=n.CRH())&&(i.ticksElement=a.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[n.TTD],attrs:xu,decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"g",null,0),n.YNc(2,Su,2,2,"g",1),n.qZA(),n.YNc(3,ku,1,2,"path",2),n.YNc(4,Mu,2,2,"g",3),n.YNc(5,Iu,2,1,"g",3)),2&t&&(n.xp6(2),n.Q6J("ngForOf",i.ticks),n.xp6(1),n.Q6J("ngIf",i.referenceLineLength>1&&i.refMax&&i.refMin&&i.showRefLines),n.xp6(1),n.Q6J("ngForOf",i.ticks),n.xp6(1),n.Q6J("ngForOf",i.referenceLines))},dependencies:[v.sg,v.O5],encapsulation:2,changeDetection:0}),e})(),cs=(()=>{class e{constructor(){this.showGridLines=!1,this.yOrient=Jt.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new n.vpe,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(t){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===Jt.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:t}){t!==this.labelOffset&&this.yOrient===Jt.Right?(this.labelOffset=t+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0)):t!==this.labelOffset&&(this.labelOffset=t,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(t,i){if(1&t&&n.Gf(zr,5),2&t){let a;n.iGM(a=n.CRH())&&(i.ticksComponent=a.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[n.TTD],attrs:Pu,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,Ou,1,15,"g",0),n.YNc(2,$u,1,5,"g",1),n.qZA()),2&t&&(n.uIk("class",i.yAxisClassName)("transform",i.transform),n.xp6(1),n.Q6J("ngIf",i.yScale),n.xp6(1),n.Q6J("ngIf",i.showLabel))},dependencies:[zr,Pr,v.O5],encapsulation:2,changeDetection:0}),e})(),Rr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[v.ez]]}),e})();var Oi=function(e){return e.popover="popover",e.tooltip="tooltip",e}(Oi||{}),Ki=function(e){return e[e.all="all"]="all",e[e.focus="focus"]="focus",e[e.mouseover="mouseover"]="mouseover",e}(Ki||{});let kn=(()=>{class e{constructor(t,i,a){this.tooltipService=t,this.viewContainerRef=i,this.renderer=a,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=lt.Top,this.tooltipAlignment=lt.Center,this.tooltipType=Oi.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Ki.all,this.tooltipImmediateExit=!1,this.show=new n.vpe,this.hide=new n.vpe}get listensForFocus(){return this.tooltipShowEvent===Ki.all||this.tooltipShowEvent===Ki.focus}get listensForHover(){return this.tooltipShowEvent===Ki.all||this.tooltipShowEvent===Ki.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(t){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(t))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(t){if(this.component||this.tooltipDisabled)return;const i=t?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const a=this.createBoundOptions();this.component=this.tooltipService.create(a),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(t){this.mouseEnterContentEvent=this.renderer.listen(t,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(t,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{t.contains(i.target)||this.hideTooltip()}))}hideTooltip(t=!1){if(!this.component)return;const i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),t?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(wa),n.Y36(n.s_b),n.Y36(n.Qsj))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngx-tooltip",""]],hostBindings:function(t,i){1&t&&n.NdJ("focusin",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(o){return i.onMouseLeave(o.target)})("click",function(){return i.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),e})(),Hr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[Mr,wa],imports:[[v.ez]]}),e})();const Nr={};function He(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,Nr[e]?He():(Nr[e]=!0,e)}var Ht=function(e){return e.Vertical="vertical",e.Horizontal="horizontal",e}(Ht||{});let An=(()=>{class e{constructor(){this.orientation=Ht.Vertical}ngOnChanges(t){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===Ht.Horizontal?this.x2="100%":this.orientation===Ht.Vertical&&(this.y1="100%")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[n.TTD],attrs:Bu,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"linearGradient",0),n.YNc(1,zu,1,5,"stop",1),n.qZA()),2&t&&(n.Q6J("id",i.name),n.uIk("x1",i.x1)("y1",i.y1)("x2",i.x2)("y2",i.y2),n.xp6(1),n.Q6J("ngForOf",i.stops))},dependencies:[v.sg],encapsulation:2,changeDetection:0}),e})(),Zr=(()=>{class e{constructor(){this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe}onClick(){this.select.emit(this.data)}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}ngOnChanges(t){this.classNames=Array.isArray(this.classNames)?this.classNames.join(" "):"",this.classNames+="circle"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-circle",""]],hostBindings:function(t,i){1&t&&n.NdJ("click",function(){return i.onClick()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{cx:"cx",cy:"cy",r:"r",fill:"fill",stroke:"stroke",data:"data",classNames:"classNames",circleOpacity:"circleOpacity",pointerEvents:"pointerEvents"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[n.TTD],attrs:Ru,decls:1,vars:8,template:function(t,i){1&t&&(n.O4$(),n._UZ(0,"circle")),2&t&&n.uIk("cx",i.cx)("cy",i.cy)("r",i.r)("fill",i.fill)("stroke",i.stroke)("opacity",i.circleOpacity)("class",i.classNames)("pointer-events",i.pointerEvents)},encapsulation:2,changeDetection:0}),e})();var Ln=function(e){return e.Standard="standard",e.Stacked="stacked",e}(Ln||{});let hs=(()=>{class e{constructor(t){this.platformId=t,this.type=Ln.Standard,this.tooltipDisabled=!1,this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe,this.barVisible=!1,this.barOrientation=Ht,this.placementTypes=lt,this.styleTypes=Oi,this.isSSR=!1}ngOnInit(){this.gradientId="grad"+He().toString(),this.gradientFill=`url(#${this.gradientId})`,(0,v.PM)(this.platformId)&&(this.isSSR=!0)}ngOnChanges(){this.update()}update(){this.circle=this.getActiveCircle()}getActiveCircle(){const t=this.data.series.findIndex(i=>{const a=i.name;return a&&this.visibleValue&&a.toString()===this.visibleValue.toString()&&void 0!==i.value});if(-1!==t)return this.mapDataPointToCircle(this.data.series[t],t)}mapDataPointToCircle(t,i){const a=this.data.name,o=t.value,l=t.name,c=ti(l);let u;u=this.xScale(this.scaleType===P.Time?l:this.scaleType===P.Linear?Number(l):l);const g=this.yScale(this.type===Ln.Standard?o:t.d1),x=this.yScale.range()[0]-g;let b;return b=this.colors.getColor(this.colors.scaleType===P.Linear?this.type===Ln.Standard?o:t.d1:a),{classNames:[`circle-data-${i}`],value:o,label:l,data:Object.assign({},t,{series:a,value:o,name:l}),cx:u,cy:g,radius:5,height:x,tooltipLabel:c,color:b,opacity:1,seriesName:a,gradientStops:this.getGradientStops(b),min:t.min,max:t.max}}getTooltipText({tooltipLabel:t,value:i,seriesName:a,min:o,max:l}){return`\n      <span class="tooltip-label">${rs(a)} \u2022 ${rs(t)}</span>\n      <span class="tooltip-val">${i.toLocaleString()}${this.getTooltipMinMaxText(o,l)}</span>\n    `}getTooltipMinMaxText(t,i){if(void 0!==t||void 0!==i){let a=" (";return void 0!==t?(void 0===i&&(a+="\u2265"),a+=t.toLocaleString(),void 0!==i&&(a+=" - ")):void 0!==i&&(a+="\u2264"),void 0!==i&&(a+=i.toLocaleString()),a+=")",a}return""}getGradientStops(t){return[{offset:0,color:t,opacity:.2},{offset:100,color:t,opacity:1}]}onClick(t){this.select.emit(t)}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.name===a.name)}activateCircle(){this.barVisible=!0,this.activate.emit({name:this.data.name})}deactivateCircle(){this.barVisible=!1,this.circle.opacity=0,this.deactivate.emit({name:this.data.name})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-circle-series",""]],inputs:{data:"data",type:"type",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",visibleValue:"visibleValue",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[n.TTD],attrs:Hu,decls:1,vars:1,consts:[[4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["class","tooltip-bar",4,"ngIf"],["ngx-charts-circle","","ngx-tooltip","",1,"circle",3,"cx","cy","r","fill","pointerEvents","data","classNames","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate"],[1,"tooltip-bar"]],template:function(t,i){1&t&&n.YNc(0,Yu,6,22,"g",0),2&t&&n.Q6J("ngIf",i.circle)},dependencies:[An,Zr,v.O5,kn],encapsulation:2,data:{animation:[(0,ft.X$)("animationState",[(0,ft.eR)(":enter",[(0,ft.oB)({opacity:0}),(0,ft.jt)(250,(0,ft.oB)({opacity:1}))])])]},changeDetection:0}),e})(),Yr=(()=>{class e{constructor(){this.endOpacity=1,this.cx=0,this.cy=0}get stops(){return this.stopsInput||this.stopsDefault}set stops(t){this.stopsInput=t}ngOnChanges(t){this.r="30%",("color"in t||"startOpacity"in t||"endOpacity"in t)&&(this.stopsDefault=[{offset:0,color:this.color,opacity:this.startOpacity},{offset:100,color:this.color,opacity:this.endOpacity}])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-svg-radial-gradient",""]],inputs:{color:"color",name:"name",startOpacity:"startOpacity",endOpacity:"endOpacity",cx:"cx",cy:"cy",stops:"stops"},features:[n.TTD],attrs:Uu,decls:2,vars:5,consts:[["gradientUnits","userSpaceOnUse",3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"radialGradient",0),n.YNc(1,qu,1,5,"stop",1),n.qZA()),2&t&&(n.Q6J("id",i.name),n.uIk("cx",i.cx)("cy",i.cy)("r",i.r),n.xp6(1),n.Q6J("ngForOf",i.stops))},dependencies:[v.sg],encapsulation:2,changeDetection:0}),e})(),ka=(()=>{class e{constructor(t){this.opacity=1,this.startOpacity=.5,this.endOpacity=1,this.gradient=!1,this.animations=!0,this.select=new n.vpe,this.animationsLoaded=!1,this.hasGradient=!1,this.barOrientation=Ht,this.element=t.nativeElement}ngOnChanges(){this.update(),this.animationsLoaded||(this.loadAnimation(),this.animationsLoaded=!0)}update(){this.gradientId="grad"+He().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl()}loadAnimation(){this.areaPath=this.startingPath,setTimeout(this.updatePathEl.bind(this),100)}updatePathEl(){const t=ee(this.element).select(".area");this.animations?t.transition().duration(750).attr("d",this.path):t.attr("d",this.path)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.startOpacity},{offset:100,color:this.fill,opacity:this.endOpacity}]}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-area",""]],inputs:{data:"data",path:"path",startingPath:"startingPath",fill:"fill",opacity:"opacity",startOpacity:"startOpacity",endOpacity:"endOpacity",gradient:"gradient",stops:"stops",animations:"animations"},outputs:{select:"select"},features:[n.TTD],attrs:Ju,decls:2,vars:5,consts:[[4,"ngIf"],[1,"area"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(t,i){1&t&&(n.YNc(0,Qu,2,3,"defs",0),n.O4$(),n._UZ(1,"path",1)),2&t&&(n.Q6J("ngIf",i.gradient),n.xp6(1),n.Udp("opacity",i.opacity),n.uIk("d",i.areaPath)("fill",i.gradient?i.gradientFill:i.fill))},dependencies:[An,v.O5],encapsulation:2,changeDetection:0}),e})();function Wr(e,s,t,i){return t*(1-Math.pow(2,-10*e/i))*1024/1023+s}function qp(e,s,t,i,a){const o=Number(e),l=Number(s),c=o>l,u=Math.max(0,t),g=Math.pow(10,u),p=1e3*Number(i);let x;function _(b){let D;const B=b-x;D=c?o-Wr(B,0,o-l,p):Wr(B,o,l-o,p),D=c?D<l?l:D:D>l?l:D,D=Math.round(D*g)/g;const S=B<p;if(a({value:D,progress:B,timestamp:b,finished:!S}),S)return requestAnimationFrame(I=>_(I))}return requestAnimationFrame(b=>(x=b,_(b)))}let La,Aa=(()=>{class e{constructor(t,i){this.cd=t,this.countDuration=1,this.countPrefix="",this.countSuffix="",this.countChange=new n.vpe,this.countFinish=new n.vpe,this.value="",this._countDecimals=0,this._countTo=0,this._countFrom=0,this.nativeElement=i.nativeElement}set countDecimals(t){this._countDecimals=t}get countDecimals(){return this._countDecimals?this._countDecimals:function Jp(e){const s=Number(e);return s%1!=0&&Math.abs(s)<=10?2:0}(this.countTo)}set countTo(t){this._countTo=parseFloat(t),this.start()}get countTo(){return this._countTo}set countFrom(t){this._countFrom=parseFloat(t),this.start()}get countFrom(){return this._countFrom}ngOnDestroy(){cancelAnimationFrame(this.animationReq)}start(){cancelAnimationFrame(this.animationReq);const t=this.valueFormatting||(a=>`${this.countPrefix}${a.toLocaleString()}${this.countSuffix}`);this.animationReq=qp(this.countFrom,this.countTo,this.countDecimals,this.countDuration,({value:a,progress:o,finished:l})=>{this.value=t(a),this.cd.markForCheck(),l||this.countChange.emit({value:this.value,progress:o}),l&&this.countFinish.emit({value:this.value,progress:o})})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.sBO),n.Y36(n.SBq))},e.\u0275cmp=n.Xpm({type:e,selectors:[["","ngx-charts-count-up",""]],inputs:{countDuration:"countDuration",countPrefix:"countPrefix",countSuffix:"countSuffix",valueFormatting:"valueFormatting",countDecimals:"countDecimals",countTo:"countTo",countFrom:"countFrom"},outputs:{countChange:"countChange",countFinish:"countFinish"},attrs:ju,decls:1,vars:1,template:function(t,i){1&t&&n._uU(0),2&t&&n.hij(" ",i.value," ")},encapsulation:2}),e})();typeof window<"u"?La=window:typeof global<"u"&&(La=global);const Gr=La.MouseEvent;function Da(e,s=!1,t=!0){if("function"==typeof Gr)return new Gr(e,{bubbles:s,cancelable:t});{const i=document.createEvent("MouseEvent");return i.initEvent(e,s,t),i}}let gs=(()=>{class e{constructor(t){this.platformId=t,this.anchorOpacity=0,this.anchorPos=-1,this.anchorValues=[],this.placementTypes=lt,this.styleTypes=Oi,this.showPercentage=!1,this.tooltipDisabled=!1,this.hover=new n.vpe}getValues(t){const i=[];for(const a of this.results){const o=a.series.find(c=>c.name.toString()===t.toString());let l=a.name;if(l instanceof Date&&(l=l.toLocaleDateString()),o){const c=o.name;let g,u=o.value;if(this.showPercentage&&(u=(o.d1-o.d0).toFixed(2)+"%"),this.colors.scaleType===P.Linear){let x=u;o.d1&&(x=o.d1),g=this.colors.getColor(x)}else g=this.colors.getColor(a.name);const p=Object.assign({},o,{value:u,name:c,series:l,min:o.min,max:o.max,color:g});i.push(p)}}return i}mouseMove(t){if(!(0,v.NF)(this.platformId))return;const i=t.pageX-t.target.getBoundingClientRect().left,a=this.findClosestPointIndex(i),o=this.xSet[a];if(this.anchorPos=this.xScale(o),this.anchorPos=Math.max(0,this.anchorPos),this.anchorPos=Math.min(this.dims.width,this.anchorPos),this.anchorValues=this.getValues(o),this.anchorPos!==this.lastAnchorPos){const l=Da("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(l),this.anchorOpacity=.7,this.hover.emit({value:o}),this.showTooltip(),this.lastAnchorPos=this.anchorPos}}findClosestPointIndex(t){let i=0,a=this.xSet.length-1,o=Number.MAX_VALUE,l=0;for(;i<=a;){const c=(i+a)/2|0,u=this.xScale(this.xSet[c]),g=Math.abs(u-t);if(g<o&&(o=g,l=c),u<t)i=c+1;else{if(!(u>t)){o=0,l=c;break}a=c-1}}return l}showTooltip(){const t=Da("mouseenter");this.tooltipAnchor.nativeElement.dispatchEvent(t)}hideTooltip(){const t=Da("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(t),this.anchorOpacity=0,this.lastAnchorPos=-1}getToolTipText(t){let i="";return i+=void 0!==t.series?t.series:"???",i+=": ",void 0!==t.value&&(i+=t.value.toLocaleString()),(void 0!==t.min||void 0!==t.max)&&(i+=" (",void 0!==t.min?(void 0===t.max&&(i+="\u2265"),i+=t.min.toLocaleString(),void 0!==t.max&&(i+=" - ")):void 0!==t.max&&(i+="\u2264"),void 0!==t.max&&(i+=t.max.toLocaleString()),i+=")"),i}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-tooltip-area",""]],viewQuery:function(t,i){if(1&t&&n.Gf(Ku,5),2&t){let a;n.iGM(a=n.CRH())&&(i.tooltipAnchor=a.first)}},inputs:{dims:"dims",xSet:"xSet",xScale:"xScale",yScale:"yScale",results:"results",colors:"colors",showPercentage:"showPercentage",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{hover:"hover"},attrs:tm,decls:6,vars:18,consts:[["y","0",1,"tooltip-area",2,"opacity","0","cursor","'auto'",3,"mousemove","mouseleave"],["defaultTooltipTemplate",""],["y","0","ngx-tooltip","",1,"tooltip-anchor",3,"tooltipDisabled","tooltipPlacement","tooltipType","tooltipSpacing","tooltipTemplate","tooltipContext","tooltipImmediateExit"],["tooltipAnchor",""],[1,"area-tooltip-container"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item"],[1,"tooltip-item-color"]],template:function(t,i){if(1&t&&(n.O4$(),n.TgZ(0,"g")(1,"rect",0),n.NdJ("mousemove",function(o){return i.mouseMove(o)})("mouseleave",function(){return i.hideTooltip()}),n.qZA(),n.YNc(2,im,2,1,"ng-template",null,1,n.W1O),n._UZ(4,"rect",2,3),n.qZA()),2&t){const a=n.MAs(3);n.xp6(1),n.uIk("x",0)("width",i.dims.width)("height",i.dims.height),n.xp6(3),n.Udp("opacity",i.anchorOpacity)("pointer-events","none"),n.Q6J("@animationState",0!==i.anchorOpacity?"active":"inactive")("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Right)("tooltipType",i.styleTypes.tooltip)("tooltipSpacing",15)("tooltipTemplate",i.tooltipTemplate?i.tooltipTemplate:a)("tooltipContext",i.anchorValues)("tooltipImmediateExit",!0),n.uIk("x",i.anchorPos)("width",1)("height",i.dims.height)}},dependencies:[v.sg,kn],encapsulation:2,data:{animation:[(0,ft.X$)("animationState",[(0,ft.eR)("inactive => active",[(0,ft.oB)({opacity:0}),(0,ft.jt)(250,(0,ft.oB)({opacity:.7}))]),(0,ft.eR)("active => inactive",[(0,ft.oB)({opacity:.7}),(0,ft.jt)(250,(0,ft.oB)({opacity:0}))])])]},changeDetection:0}),e})(),us=(()=>{class e{constructor(t,i){this.cd=i,this.height=50,this.select=new n.vpe,this.onDomainChange=new n.vpe,this.initialized=!1,this.element=t.nativeElement}ngOnChanges(t){this.update(),this.initialized||(this.addBrush(),this.initialized=!0)}update(){this.dims=this.getDims(),this.height=this.dims.height;const t=this.view[1]-this.height;this.xDomain=this.getXDomain(),this.xScale=this.getXScale(),this.brush&&this.updateBrush(),this.transform=`translate(0 , ${t})`,this.filterId="filter"+He().toString(),this.filter=`url(#${this.filterId})`,this.cd.markForCheck()}getXDomain(){let t=[];for(const a of this.results)for(const o of a.series)t.includes(o.name)||t.push(o.name);let i=[];return this.scaleType===P.Time?i=[Math.min(...t),Math.max(...t)]:this.scaleType===P.Linear?(t=t.map(l=>Number(l)),i=[Math.min(...t),Math.max(...t)]):i=t,i}getXScale(){let t;return this.scaleType===P.Time?t=jn().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===P.Linear?t=Te().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===P.Ordinal&&(t=is().range([0,this.dims.width]).padding(.1).domain(this.xDomain)),t}addBrush(){if(this.brush)return;const t=this.height,i=this.view[0];this.brush=function Lh(){return function Ws(e){var c,s=Sh,t=wh,i=kh,a=!0,o=Ba("start","brush","end"),l=6;function u(S){var I=S.property("__brush",B).selectAll(".overlay").data([un("overlay")]);I.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",qe.overlay).merge(I).each(function(){var O=Ys(this).extent;ee(this).attr("x",O[0][0]).attr("y",O[0][1]).attr("width",O[1][0]-O[0][0]).attr("height",O[1][1]-O[0][1])}),S.selectAll(".selection").data([un("selection")]).enter().append("rect").attr("class","selection").attr("cursor",qe.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var N=S.selectAll(".handle").data(e.handles,function(O){return O.type});N.exit().remove(),N.enter().append("rect").attr("class",function(O){return"handle handle--"+O.type}).attr("cursor",function(O){return qe[O.type]}),S.each(g).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",_).filter(i).on("touchstart.brush",_).on("touchmove.brush",b).on("touchend.brush touchcancel.brush",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(){var S=ee(this),I=Ys(this).selection;I?(S.selectAll(".selection").style("display",null).attr("x",I[0][0]).attr("y",I[0][1]).attr("width",I[1][0]-I[0][0]).attr("height",I[1][1]-I[0][1]),S.selectAll(".handle").style("display",null).attr("x",function(N){return"e"===N.type[N.type.length-1]?I[1][0]-l/2:I[0][0]-l/2}).attr("y",function(N){return"s"===N.type[0]?I[1][1]-l/2:I[0][1]-l/2}).attr("width",function(N){return"n"===N.type||"s"===N.type?I[1][0]-I[0][0]+l:l}).attr("height",function(N){return"e"===N.type||"w"===N.type?I[1][1]-I[0][1]+l:l})):S.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function p(S,I,N){var O=S.__brush.emitter;return!O||N&&O.clean?new x(S,I,N):O}function x(S,I,N){this.that=S,this.args=I,this.state=S.__brush,this.active=0,this.clean=N}function _(S){if((!c||S.touches)&&t.apply(this,arguments)){var pt,q,V,Q,St,bt,xt,Et,ei,te,Ze,I=this,N=S.target.__data__.type,O="selection"===(a&&S.metaKey?N="overlay":N)?fo:a&&S.altKey?Ni:Hi,Y=e===Gn?null:Ch[N],U=e===Wn?null:bh[N],W=Ys(I),ut=W.extent,mt=W.selection,Ft=ut[0][0],Ct=ut[0][1],Nt=ut[1][0],Pt=ut[1][1],Dt=0,Mt=0,Ne=Y&&U&&a&&S.shiftKey,Vt=Array.from(S.touches||[S],K=>{const $t=K.identifier;return(K=to(K,I)).point0=K.slice(),K.identifier=$t,K});Bs(I);var Ie=p(I,arguments,!0).beforestart();if("overlay"===N){mt&&(ei=!0);const K=[Vt[0],Vt[1]||Vt[0]];W.selection=mt=[[pt=e===Gn?Ft:jt(K[0][0],K[1][0]),V=e===Wn?Ct:jt(K[0][1],K[1][1])],[St=e===Gn?Nt:Qt(K[0][0],K[1][0]),xt=e===Wn?Pt:Qt(K[0][1],K[1][1])]],Vt.length>1&&Ot(S)}else pt=mt[0][0],V=mt[0][1],St=mt[1][0],xt=mt[1][1];q=pt,Q=V,bt=St,Et=xt;var G=ee(I).attr("pointer-events","none"),nt=G.selectAll(".overlay").attr("cursor",qe[N]);if(S.touches)Ie.moved=$,Ie.ended=kt;else{var dt=ee(S.view).on("mousemove.brush",$,!0).on("mouseup.brush",kt,!0);a&&dt.on("keydown.brush",function ie(K){switch(K.keyCode){case 16:Ne=Y&&U;break;case 18:O===Hi&&(Y&&(St=bt-Dt*Y,pt=q+Dt*Y),U&&(xt=Et-Mt*U,V=Q+Mt*U),O=Ni,Ot(K));break;case 32:(O===Hi||O===Ni)&&(Y<0?St=bt-Dt:Y>0&&(pt=q-Dt),U<0?xt=Et-Mt:U>0&&(V=Q-Mt),O=Zs,nt.attr("cursor",qe.selection),Ot(K));break;default:return}Ns(K)},!0).on("keyup.brush",function ne(K){switch(K.keyCode){case 16:Ne&&(te=Ze=Ne=!1,Ot(K));break;case 18:O===Ni&&(Y<0?St=bt:Y>0&&(pt=q),U<0?xt=Et:U>0&&(V=Q),O=Hi,Ot(K));break;case 32:O===Zs&&(K.altKey?(Y&&(St=bt-Dt*Y,pt=q+Dt*Y),U&&(xt=Et-Mt*U,V=Q+Mt*U),O=Ni):(Y<0?St=bt:Y>0&&(pt=q),U<0?xt=Et:U>0&&(V=Q),O=Hi),nt.attr("cursor",qe[N]),Ot(K));break;default:return}Ns(K)},!0),function El(e){var s=e.document.documentElement,t=ee(e).on("dragstart.drag",ks,Ss);"onselectstart"in s?t.on("selectstart.drag",ks,Ss):(s.__noselect=s.style.MozUserSelect,s.style.MozUserSelect="none")}(S.view)}g.call(I),Ie.start(S,O.name)}function $(K){for(const $t of K.changedTouches||[K])for(const Dn of Vt)Dn.identifier===$t.identifier&&(Dn.cur=to($t,I));if(Ne&&!te&&!Ze&&1===Vt.length){const $t=Vt[0];xo($t.cur[0]-$t[0])>xo($t.cur[1]-$t[1])?Ze=!0:te=!0}for(const $t of Vt)$t.cur&&($t[0]=$t.cur[0],$t[1]=$t.cur[1]);ei=!0,Ns(K),Ot(K)}function Ot(K){const $t=Vt[0],Dn=$t.point0;var mi;switch(Dt=$t[0]-Dn[0],Mt=$t[1]-Dn[1],O){case Zs:case fo:Y&&(Dt=Qt(Ft-pt,jt(Nt-St,Dt)),q=pt+Dt,bt=St+Dt),U&&(Mt=Qt(Ct-V,jt(Pt-xt,Mt)),Q=V+Mt,Et=xt+Mt);break;case Hi:Vt[1]?(Y&&(q=Qt(Ft,jt(Nt,Vt[0][0])),bt=Qt(Ft,jt(Nt,Vt[1][0])),Y=1),U&&(Q=Qt(Ct,jt(Pt,Vt[0][1])),Et=Qt(Ct,jt(Pt,Vt[1][1])),U=1)):(Y<0?(Dt=Qt(Ft-pt,jt(Nt-pt,Dt)),q=pt+Dt,bt=St):Y>0&&(Dt=Qt(Ft-St,jt(Nt-St,Dt)),q=pt,bt=St+Dt),U<0?(Mt=Qt(Ct-V,jt(Pt-V,Mt)),Q=V+Mt,Et=xt):U>0&&(Mt=Qt(Ct-xt,jt(Pt-xt,Mt)),Q=V,Et=xt+Mt));break;case Ni:Y&&(q=Qt(Ft,jt(Nt,pt-Dt*Y)),bt=Qt(Ft,jt(Nt,St+Dt*Y))),U&&(Q=Qt(Ct,jt(Pt,V-Mt*U)),Et=Qt(Ct,jt(Pt,xt+Mt*U)))}bt<q&&(Y*=-1,mi=pt,pt=St,St=mi,mi=q,q=bt,bt=mi,N in vo&&nt.attr("cursor",qe[N=vo[N]])),Et<Q&&(U*=-1,mi=V,V=xt,xt=mi,mi=Q,Q=Et,Et=mi,N in yo&&nt.attr("cursor",qe[N=yo[N]])),W.selection&&(mt=W.selection),te&&(q=mt[0][0],bt=mt[1][0]),Ze&&(Q=mt[0][1],Et=mt[1][1]),(mt[0][0]!==q||mt[0][1]!==Q||mt[1][0]!==bt||mt[1][1]!==Et)&&(W.selection=[[q,Q],[bt,Et]],g.call(I),Ie.brush(K,O.name))}function kt(K){if(function yh(e){e.stopImmediatePropagation()}(K),K.touches){if(K.touches.length)return;c&&clearTimeout(c),c=setTimeout(function(){c=null},500)}else(function Il(e,s){var t=e.document.documentElement,i=ee(e).on("dragstart.drag",null);s&&(i.on("click.drag",ks,Ss),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in t?i.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)})(K.view,ei),dt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);G.attr("pointer-events","all"),nt.attr("cursor",qe.overlay),W.selection&&(mt=W.selection),function Ah(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}(mt)&&(W.selection=null,g.call(I)),Ie.end(K,O.name)}}function b(S){p(this,arguments).moved(S)}function D(S){p(this,arguments).ended(S)}function B(){var S=this.__brush||{selection:null};return S.extent=Vs(s.apply(this,arguments)),S.dim=e,S}return u.move=function(S,I,N){S.tween?S.on("start.brush",function(O){p(this,arguments).beforestart().start(O)}).on("interrupt.brush end.brush",function(O){p(this,arguments).end(O)}).tween("brush",function(){var O=this,Y=O.__brush,U=p(O,arguments),W=Y.selection,ut=e.input("function"==typeof I?I.apply(this,arguments):I,Y.extent),mt=Si(W,ut);function Ft(pt){Y.selection=1===pt&&null===ut?null:mt(pt),g.call(O),U.brush()}return null!==W&&null!==ut?Ft:Ft(1)}):S.each(function(){var O=this,Y=arguments,U=O.__brush,W=e.input("function"==typeof I?I.apply(O,Y):I,U.extent),ut=p(O,Y).beforestart();Bs(O),U.selection=null===W?null:W,g.call(O),ut.start(N).brush(N).end(N)})},u.clear=function(S,I){u.move(S,null,I)},x.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(S,I){return this.starting?(this.starting=!1,this.emit("start",S,I)):this.emit("brush",S),this},brush:function(S,I){return this.emit("brush",S,I),this},end:function(S,I){return 0==--this.active&&(delete this.state.emitter,this.emit("end",S,I)),this},emit:function(S,I,N){var O=ee(this.that).datum();o.call(S,this.that,new vh(S,{sourceEvent:I,target:u,selection:e.output(this.state.selection),mode:N,dispatch:o}),O)}},u.extent=function(S){return arguments.length?(s="function"==typeof S?S:Hs(Vs(S)),u):s},u.filter=function(S){return arguments.length?(t="function"==typeof S?S:Hs(!!S),u):t},u.touchable=function(S){return arguments.length?(i="function"==typeof S?S:Hs(!!S),u):i},u.handleSize=function(S){return arguments.length?(l=+S,u):l},u.keyModifiers=function(S){return arguments.length?(a=!!S,u):a},u.on=function(){var S=o.on.apply(o,arguments);return S===o?u:S},u}(Wn)}().extent([[0,0],[i,t]]).on("brush end",({selection:a})=>{const l=(a||this.xScale.range()).map(this.xScale.invert);this.onDomainChange.emit(l),this.cd.markForCheck()}),ee(this.element).select(".brush").call(this.brush)}updateBrush(){this.brush&&(this.brush.extent([[0,0],[this.view[0],this.height]]),ee(this.element).select(".brush").call(this.brush),ee(this.element).select(".selection").attr("fill",void 0).attr("stroke",void 0).attr("fill-opacity",void 0),this.cd.markForCheck())}getDims(){return{width:this.view[0],height:this.height}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.sBO))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-timeline",""]],inputs:{view:"view",results:"results",scheme:"scheme",customColors:"customColors",legend:"legend",autoScale:"autoScale",scaleType:"scaleType",height:"height"},outputs:{select:"select",onDomainChange:"onDomainChange"},features:[n.TTD],attrs:nm,ngContentSelectors:kr,decls:7,vars:4,consts:[[1,"timeline"],["in","SourceGraphic","type","matrix","values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"],[1,"embedded-chart"],["x","0","y","0",1,"brush-background"],[1,"brush"]],template:function(t,i){1&t&&(n.F$t(),n.O4$(),n.TgZ(0,"g",0)(1,"filter"),n._UZ(2,"feColorMatrix",1),n.qZA(),n.TgZ(3,"g",2),n.Hsn(4),n.qZA(),n._UZ(5,"rect",3)(6,"g",4),n.qZA()),2&t&&(n.uIk("transform",i.transform),n.xp6(1),n.uIk("id",i.filterId),n.xp6(4),n.uIk("width",i.view[0])("height",i.height))},styles:[".timeline .brush-background{fill:#0000000d}.timeline .brush .selection{fill:#0000001a;stroke-width:1px;stroke:#888}.timeline .brush .handle{fill-opacity:0}.timeline .embedded-chart{opacity:.6}\n"],encapsulation:2,changeDetection:0}),e})(),ms=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[v.ez,Rr,Hr],v.ez,Rr,Hr]}),e})();function tn({width:e,height:s,margins:t,showXAxis:i=!1,showYAxis:a=!1,xAxisHeight:o=0,yAxisWidth:l=0,showXLabel:c=!1,showYLabel:u=!1,showLegend:g=!1,legendType:p=P.Ordinal,legendPosition:x=Fe.Right,columns:_=12}){let b=t[3],D=e,B=s-t[0]-t[2];return g&&x===Fe.Right&&(_-=p===P.Ordinal?2:1),D=D*_/12,D=D-t[1]-t[3],i&&(B-=5,B-=o,c&&(B-=30)),a&&(D-=5,D-=l,b+=l,b+=10,u&&(D-=30,b+=30)),D=Math.max(0,D),B=Math.max(0,B),{width:Math.floor(D),height:Math.floor(B),xOffset:Math.floor(b)}}const Xr=[{name:"vivid",selectable:!0,group:P.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:P.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:P.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:P.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:P.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:P.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:P.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:P.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:P.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:P.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:P.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:P.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:P.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:P.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:P.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class en{constructor(s,t,i,a){"string"==typeof s&&(s=Xr.find(o=>o.name===s)),this.colorDomain=s.domain,this.scaleType=t,this.domain=i,this.customColors=a,this.scale=this.generateColorScheme(s,t,this.domain)}generateColorScheme(s,t,i){let a;switch("string"==typeof s&&(s=Xr.find(o=>o.name===s)),t){case P.Quantile:a=xr().range(s.domain).domain(i);break;case P.Ordinal:a=fa().range(s.domain).domain(i);break;case P.Linear:{const o=[...s.domain];1===o.length&&(o.push(o[0]),this.colorDomain=o);const l=hr(0,1,1/o.length);a=Te().range(o).domain(l)}}return a}getColor(s){if(null==s)throw new Error("Value can not be null");if(this.scaleType===P.Linear){const t=Te().domain(this.domain).range([0,1]);return this.scale(t(s))}{if("function"==typeof this.customColors)return this.customColors(s);const t=s.toString();let i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(a=>a.name.toLowerCase()===t.toLowerCase())),i?i.value:this.scale(s)}}getLinearGradientStops(s,t){void 0===t&&(t=this.domain[0]);const i=Te().domain(this.domain).range([0,1]),a=Ui().domain(this.colorDomain).range([0,1]),o=this.getColor(s),l=i(t),c=this.getColor(t),u=i(s);let g=1,p=l;const x=[];for(x.push({color:c,offset:l,originalOffset:l,opacity:1});p<u&&g<this.colorDomain.length;){const _=this.colorDomain[g],b=a(_);if(b<=l)g++;else{if(b.toFixed(4)>=(u-a.bandwidth()).toFixed(4))break;x.push({color:_,offset:b,opacity:1}),p=b,g++}}if(x[x.length-1].offset<100&&x.push({color:o,offset:u,opacity:1}),u===l)x[0].offset=0,x[1].offset=100;else if(100!==x[x.length-1].offset)for(const _ of x)_.offset=(_.offset-l)/(u-l)*100;return x}}function Ma(e){const s=new Set;for(const t of e)for(const i of t.series)s.add(i.name);return Array.from(s)}function ps(e,s=!0){return s&&e.every(a=>a instanceof Date)?P.Time:e.every(i=>"number"==typeof i)?P.Linear:P.Ordinal}function Ur(e,s,t="asc"){return e.sort((i,a)=>"asc"===t?i[s]-a[s]:a[s]-i[s])}function qr(e,s,t="asc",i){return e.sort((a,o)=>{const c=o[s],u=i.indexOf(a[s]),g=i.indexOf(c);return"asc"===t?u-g:g-u})}function Jr(e,s,t="asc"){return e.sort((i,a)=>{const o=i[s].getTime(),l=a[s].getTime();return"asc"===t?o>l?1:l>o?-1:0:o>l?-1:l>o?1:0})}let Qr=(()=>{class e{constructor(){this.baseValue="auto",this.stacked=!1,this.normalized=!1,this.animations=!0,this.select=new n.vpe}ngOnChanges(t){this.update()}update(){let t,i;this.updateGradient();const a=l=>this.xScale(l.name);this.stacked||this.normalized?(t=qi().x(a).y0((l,c)=>this.yScale(l.d0)).y1((l,c)=>this.yScale(l.d1)),i=qi().x(a).y0(l=>this.yScale.range()[0]).y1(l=>this.yScale.range()[0])):(t=qi().x(a).y0(()=>"auto"===this.baseValue?this.yScale.range()[0]:this.yScale(this.baseValue)).y1(l=>this.yScale(l.value)),i=qi().x(a).y0(l=>"auto"===this.baseValue?this.yScale.range()[0]:this.yScale(this.baseValue)).y1(l=>"auto"===this.baseValue?this.yScale.range()[0]:this.yScale(this.baseValue))),t.curve(this.curve),i.curve(this.curve),this.opacity=.8;let o=this.data.series;o=this.scaleType===P.Linear?Ur(o,"name"):this.scaleType===P.Time?Jr(o,"name"):qr(o,"name","asc",this.xScale.domain()),this.path=t(o),this.startingPath=i(o)}updateGradient(){if(this.colors.scaleType===P.Linear)if(this.hasGradient=!0,this.stacked||this.normalized){const t=this.data.series.map(l=>l.d0),i=this.data.series.map(l=>l.d1),a=Math.max(...i),o=Math.min(...t);this.gradientStops=this.colors.getLinearGradientStops(a,o)}else{const t=this.data.series.map(a=>a.value),i=Math.max(...t);this.gradientStops=this.colors.getLinearGradientStops(i)}else this.hasGradient=!1,this.gradientStops=void 0}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.name===a.name)}isInactive(t){return!(!this.activeEntries||0===this.activeEntries.length)&&void 0===this.activeEntries.find(a=>t.name===a.name)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-area-series",""]],inputs:{data:"data",xScale:"xScale",yScale:"yScale",baseValue:"baseValue",colors:"colors",scaleType:"scaleType",stacked:"stacked",normalized:"normalized",gradient:"gradient",curve:"curve",activeEntries:"activeEntries",animations:"animations"},outputs:{select:"select"},features:[n.TTD],attrs:dm,decls:1,vars:12,consts:[["ngx-charts-area","",1,"area-series",3,"data","path","fill","stops","startingPath","opacity","gradient","animations"]],template:function(t,i){1&t&&(n.O4$(),n._UZ(0,"g",0)),2&t&&(n.ekj("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),n.Q6J("data",i.data)("path",i.path)("fill",i.colors.getColor(i.data.name))("stops",i.gradientStops)("startingPath",i.startingPath)("opacity",i.opacity)("gradient",i.gradient||i.hasGradient)("animations",i.animations))},dependencies:[ka],encapsulation:2,changeDetection:0}),e})(),Qp=(()=>{class e extends Pi{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=Fe.Right,this.xAxis=!1,this.yAxis=!1,this.baseValue="auto",this.autoScale=!1,this.timeline=!1,this.showGridLines=!0,this.curve=Cn,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.wrapTicks=!1,this.activate=new n.vpe,this.deactivate=new n.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.trackBy=(t,i)=>i.name}update(){super.update(),this.dims=tn({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset}, ${this.margin[0]})`,this.clipPathId="clip"+He().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let t=Ma(this.results);this.scaleType=ps(t);let a,o,i=[];return this.scaleType===P.Linear&&(t=t.map(l=>Number(l))),(this.scaleType===P.Time||this.scaleType===P.Linear)&&(a=this.xScaleMin?this.xScaleMin:Math.min(...t),o=this.xScaleMax?this.xScaleMax:Math.max(...t)),this.scaleType===P.Time?(i=[new Date(a),new Date(o)],this.xSet=[...t].sort((l,c)=>{const u=l.getTime(),g=c.getTime();return u>g?1:g>u?-1:0})):this.scaleType===P.Linear?(i=[a,o],this.xSet=[...t].sort((l,c)=>l-c)):(i=t,this.xSet=t),i}getYDomain(){const t=[];for(const l of this.results)for(const c of l.series)t.includes(c.value)||t.push(c.value);const i=[...t];return this.autoScale||i.push(0),"auto"!==this.baseValue&&i.push(this.baseValue),[this.yScaleMin?this.yScaleMin:Math.min(...i),this.yScaleMax?this.yScaleMax:Math.max(...i)]}getSeriesDomain(){return this.results.map(t=>t.name)}getXScale(t,i){let a;return this.scaleType===P.Time?a=jn():this.scaleType===P.Linear?a=Te():this.scaleType===P.Ordinal&&(a=is().padding(.1)),a.range([0,i]).domain(t),this.roundDomains?a.nice():a}getYScale(t,i){const a=Te().range([i,0]).domain(t);return this.roundDomains?a.nice():a}getScaleType(t){let i=!0,a=!0;for(const o of t)Sa(o)&&(i=!1),Xp(o)&&(a=!1);return i?P.Time:a?P.Linear:P.Ordinal}updateDomain(t){this.filteredDomain=t,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(t){this.hoveredVertical=t.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(t,i){i&&(t.series=i.name),this.select.emit(t)}setColors(){let t;t=this.schemeType===P.Ordinal?this.seriesDomain:this.yDomain,this.colors=new en(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){const t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return t.scaleType===P.Ordinal?(t.domain=this.seriesDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.yDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onActivate(t){this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value)>-1||(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t){const i=this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const t of this.activeEntries)this.deactivate.emit({value:t,entries:[]});this.activeEntries=[]}}return e.\u0275fac=function(){let s;return function(i){return(s||(s=n.n5z(e)))(i||e)}}(),e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-area-chart"]],contentQueries:function(t,i,a){if(1&t&&(n.Suo(a,Qi,5),n.Suo(a,ba,5)),2&t){let o;n.iGM(o=n.CRH())&&(i.tooltipTemplate=o.first),n.iGM(o=n.CRH())&&(i.seriesTooltipTemplate=o.first)}},hostBindings:function(t,i){1&t&&n.NdJ("mouseleave",function(){return i.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",baseValue:"baseValue",autoScale:"autoScale",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[n.qOj],decls:11,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"area-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-area-series","",3,"xScale","yScale","baseValue","colors","data","activeEntries","scaleType","gradient","curve","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate","hover"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"xScale","yScale","colors","activeEntries","data","scaleType","visibleValue","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange"],["ngx-charts-area-series","",3,"xScale","yScale","baseValue","colors","data","scaleType","gradient","curve","animations"]],template:function(t,i){1&t&&(n.TgZ(0,"ngx-charts-chart",0),n.NdJ("legendLabelClick",function(o){return i.onClick(o)})("legendLabelActivate",function(o){return i.onActivate(o)})("legendLabelDeactivate",function(o){return i.onDeactivate(o)}),n.O4$(),n.TgZ(1,"defs")(2,"clipPath"),n._UZ(3,"rect"),n.qZA()(),n.TgZ(4,"g",1),n.YNc(5,gm,1,11,"g",2),n.YNc(6,um,1,10,"g",3),n.TgZ(7,"g"),n.YNc(8,mm,2,10,"g",4),n.YNc(9,fm,3,9,"g",5),n.qZA()(),n.YNc(10,_m,2,13,"g",6),n.qZA()),2&t&&(n.Q6J("view",n.WLB(17,Re,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),n.xp6(2),n.uIk("id",i.clipPathId),n.xp6(1),n.uIk("width",i.dims.width+10)("height",i.dims.height+10)("transform","translate(-5, -5)"),n.xp6(1),n.uIk("transform",i.transform),n.xp6(1),n.Q6J("ngIf",i.xAxis),n.xp6(1),n.Q6J("ngIf",i.yAxis),n.xp6(1),n.uIk("clip-path",i.clipPath),n.xp6(1),n.Q6J("ngForOf",i.results)("ngForTrackBy",i.trackBy),n.xp6(1),n.Q6J("ngIf",!i.tooltipDisabled),n.xp6(1),n.Q6J("ngIf",i.timeline&&"ordinal"!=i.scaleType))},dependencies:[Ii,ls,cs,Qr,gs,hs,us,v.O5,v.sg],styles:[".ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}\n"],encapsulation:2,changeDetection:0}),e})(),jp=(()=>{class e extends Pi{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=Fe.Right,this.xAxis=!1,this.yAxis=!1,this.timeline=!1,this.showGridLines=!0,this.curve=Cn,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.wrapTicks=!1,this.activate=new n.vpe,this.deactivate=new n.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.seriesType=Ln}update(){super.update(),this.dims=tn({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height);for(let t=0;t<this.xSet.length;t++){const i=this.xSet[t];let a=0;for(const o of this.results){let l=o.series.find(c=>{let u=c.name,g=i;return this.scaleType===P.Time&&(u=u.valueOf(),g=g.valueOf()),u===g});l?(l.d0=a,l.d1=a+l.value,a+=l.value):(l={name:i,value:0,d0:a,d1:a},o.series.push(l))}}this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+He().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let t=Ma(this.results);this.scaleType=ps(t);let a,o,i=[];return this.scaleType===P.Linear&&(t=t.map(l=>Number(l))),(this.scaleType===P.Time||this.scaleType===P.Linear)&&(a=this.xScaleMin?this.xScaleMin:Math.min(...t),o=this.xScaleMax?this.xScaleMax:Math.max(...t)),this.scaleType===P.Time?(i=[new Date(a),new Date(o)],this.xSet=[...t].sort((l,c)=>{const u=l.getTime(),g=c.getTime();return u>g?1:g>u?-1:0})):this.scaleType===P.Linear?(i=[a,o],this.xSet=[...t].sort((l,c)=>l-c)):(i=t,this.xSet=t),i}getYDomain(){const t=[];for(let o=0;o<this.xSet.length;o++){const l=this.xSet[o];let c=0;for(const u of this.results){const g=u.series.find(p=>{let x=p.name,_=l;return this.scaleType===P.Time&&(x=x.valueOf(),_=_.valueOf()),x===_});g&&(c+=g.value)}t.push(c)}return[this.yScaleMin?this.yScaleMin:Math.min(0,...t),this.yScaleMax?this.yScaleMax:Math.max(...t)]}getSeriesDomain(){return this.results.map(t=>t.name)}getXScale(t,i){let a;return this.scaleType===P.Time?a=jn():this.scaleType===P.Linear?a=Te():this.scaleType===P.Ordinal&&(a=is().padding(.1)),a.range([0,i]).domain(t),this.roundDomains?a.nice():a}getYScale(t,i){const a=Te().range([i,0]).domain(t);return this.roundDomains?a.nice():a}updateDomain(t){this.filteredDomain=t,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(t){this.hoveredVertical=t.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(t,i){i&&(t.series=i.name),this.select.emit(t)}trackBy(t,i){return`${i.name}`}setColors(){let t;t=this.schemeType===P.Ordinal?this.seriesDomain:this.yDomain,this.colors=new en(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){const t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return t.scaleType===P.Ordinal?(t.domain=this.seriesDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.yDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onActivate(t){this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value)>-1||(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t){const i=this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const t of this.activeEntries)this.deactivate.emit({value:t,entries:[]});this.activeEntries=[]}}return e.\u0275fac=function(){let s;return function(i){return(s||(s=n.n5z(e)))(i||e)}}(),e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-area-chart-stacked"]],contentQueries:function(t,i,a){if(1&t&&(n.Suo(a,Qi,5),n.Suo(a,ba,5)),2&t){let o;n.iGM(o=n.CRH())&&(i.tooltipTemplate=o.first),n.iGM(o=n.CRH())&&(i.seriesTooltipTemplate=o.first)}},hostBindings:function(t,i){1&t&&n.NdJ("mouseleave",function(){return i.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[n.qOj],decls:11,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"area-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-area-series","",3,"xScale","yScale","colors","data","scaleType","gradient","activeEntries","stacked","curve","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate","hover"],["ngx-charts-circle-series","",3,"type","xScale","yScale","colors","activeEntries","data","scaleType","visibleValue","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange"],["ngx-charts-area-series","",3,"xScale","yScale","colors","data","scaleType","gradient","stacked","curve","animations"]],template:function(t,i){1&t&&(n.TgZ(0,"ngx-charts-chart",0),n.NdJ("legendLabelClick",function(o){return i.onClick(o)})("legendLabelActivate",function(o){return i.onActivate(o)})("legendLabelDeactivate",function(o){return i.onDeactivate(o)}),n.O4$(),n.TgZ(1,"defs")(2,"clipPath"),n._UZ(3,"rect"),n.qZA()(),n.TgZ(4,"g",1),n.YNc(5,Tm,1,11,"g",2),n.YNc(6,Cm,1,10,"g",3),n.TgZ(7,"g"),n.YNc(8,bm,2,10,"g",4),n.YNc(9,Sm,3,10,"g",5),n.qZA()(),n.YNc(10,Am,2,13,"g",6),n.qZA()),2&t&&(n.Q6J("view",n.WLB(17,Re,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),n.xp6(2),n.uIk("id",i.clipPathId),n.xp6(1),n.uIk("width",i.dims.width+10)("height",i.dims.height+10)("transform","translate(-5, -5)"),n.xp6(1),n.uIk("transform",i.transform),n.xp6(1),n.Q6J("ngIf",i.xAxis),n.xp6(1),n.Q6J("ngIf",i.yAxis),n.xp6(1),n.uIk("clip-path",i.clipPath),n.xp6(1),n.Q6J("ngForOf",i.results)("ngForTrackBy",i.trackBy),n.xp6(1),n.Q6J("ngIf",!i.tooltipDisabled),n.xp6(1),n.Q6J("ngIf",i.timeline&&"ordinal"!=i.scaleType))},dependencies:[Ii,ls,cs,Qr,gs,hs,us,v.O5,v.sg],styles:[wn],encapsulation:2,changeDetection:0}),e})(),Kp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[ms]]}),e})(),tf=(()=>{class e{constructor(t){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe,this.hasGradient=!1,this.hideBar=!1,this.element=t.nativeElement}ngOnChanges(t){t.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+He().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){const t=ee(this.element).select(".bar"),i=this.getPath();this.animations?t.transition().duration(500).attr("d",i):t.attr("d",i)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let i,t=this.getRadius();return this.roundEdges?this.orientation===Ht.Vertical?(t=Math.min(this.height,t),i=gi(this.x,this.y+this.height,this.width,1,0,this.edges)):this.orientation===Ht.Horizontal&&(t=Math.min(this.width,t),i=gi(this.x,this.y,1,this.height,0,this.edges)):this.orientation===Ht.Vertical?i=gi(this.x,this.y+this.height,this.width,1,0,this.edges):this.orientation===Ht.Horizontal&&(i=gi(this.x,this.y,1,this.height,0,this.edges)),i}getPath(){let i,t=this.getRadius();return this.roundEdges?this.orientation===Ht.Vertical?(t=Math.min(this.height,t),i=gi(this.x,this.y,this.width,this.height,t,this.edges)):this.orientation===Ht.Horizontal&&(t=Math.min(this.width,t),i=gi(this.x,this.y,this.width,this.height,t,this.edges)):i=gi(this.x,this.y,this.width,this.height,t,this.edges),i}getRadius(){let t=0;return this.roundEdges&&this.height>5&&this.width>5&&(t=Math.floor(Math.min(5,this.height/2,this.width/2))),t}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let t=[!1,!1,!1,!1];return this.roundEdges&&(this.orientation===Ht.Vertical?t=this.data.value>0?[!0,!0,!1,!1]:[!1,!1,!0,!0]:this.orientation===Ht.Horizontal&&(t=this.data.value>0?[!1,!0,!1,!0]:[!0,!1,!0,!1])),t}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&(this.orientation===Ht.Vertical&&0===this.height||this.orientation===Ht.Horizontal&&0===this.width)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(t,i){1&t&&n.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",stops:"stops",animations:"animations",ariaLabel:"ariaLabel",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[n.TTD],attrs:Lm,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(t,i){1&t&&(n.YNc(0,Dm,2,3,"defs",0),n.O4$(),n.TgZ(1,"path",1),n.NdJ("click",function(){return i.select.emit(i.data)}),n.qZA()),2&t&&(n.Q6J("ngIf",i.hasGradient),n.xp6(1),n.ekj("active",i.isActive)("hidden",i.hideBar),n.uIk("d",i.path)("aria-label",i.ariaLabel)("fill",i.hasGradient?i.gradientFill:i.fill))},dependencies:[An,v.O5],encapsulation:2,changeDetection:0}),e})();var ui=function(e){return e.Standard="standard",e.Normalized="normalized",e.Stacked="stacked",e}(ui||{}),nn=function(e){return e.positive="positive",e.negative="negative",e}(nn||{});let ef=(()=>{class e{constructor(t){this.dimensionsChanged=new n.vpe,this.horizontalPadding=2,this.verticalPadding=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}getSize(){return{height:this.element.getBoundingClientRect().height,width:this.element.getBoundingClientRect().width,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.formatedValue=this.valueFormatting?this.valueFormatting(this.value):ti(this.value),"horizontal"===this.orientation?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[n.TTD],attrs:Mm,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"text",0),n._uU(1),n.qZA()),2&t&&(n.uIk("text-anchor",i.textAnchor)("transform",i.transform)("x",i.x)("y",i.y),n.xp6(1),n.hij(" ",i.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0}),e})(),nf=(()=>{class e{constructor(t){this.platformId=t,this.type=ui.Standard,this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe,this.dataLabelHeightChanged=new n.vpe,this.barsForDataLabels=[],this.barOrientation=Ht,this.isSSR=!1}ngOnInit(){(0,v.PM)(this.platformId)&&(this.isSSR=!0)}ngOnChanges(t){this.update()}update(){let t;this.updateTooltipSettings(),this.series.length&&(t=this.xScale.bandwidth()),t=Math.round(t);const i=Math.max(this.yScale.domain()[0],0),a={[nn.positive]:0,[nn.negative]:0};let l,o=nn.positive;this.type===ui.Normalized&&(l=this.series.map(c=>c.value).reduce((c,u)=>c+u,0)),this.bars=this.series.map((c,u)=>{let g=c.value;const p=this.getLabel(c),x=ti(p);o=g>0?nn.positive:nn.negative;const b={value:g,label:p,roundEdges:this.roundEdges,data:c,width:t,formattedLabel:x,height:0,x:0,y:0};if(this.type===ui.Standard)b.height=Math.abs(this.yScale(g)-this.yScale(i)),b.x=this.xScale(p),b.y=this.yScale(g<0?0:g);else if(this.type===ui.Stacked){const B=a[o],S=B+g;a[o]+=g,b.height=this.yScale(B)-this.yScale(S),b.x=0,b.y=this.yScale(S),b.offset0=B,b.offset1=S}else if(this.type===ui.Normalized){let B=a[o],S=B+g;a[o]+=g,l>0?(B=100*B/l,S=100*S/l):(B=0,S=0),b.height=this.yScale(B)-this.yScale(S),b.x=0,b.y=this.yScale(S),b.offset0=B,b.offset1=S,g=(S-B).toFixed(2)+"%"}this.colors.scaleType===P.Ordinal?b.color=this.colors.getColor(p):this.type===ui.Standard?(b.color=this.colors.getColor(g),b.gradientStops=this.colors.getLinearGradientStops(g)):(b.color=this.colors.getColor(b.offset1),b.gradientStops=this.colors.getLinearGradientStops(b.offset1,b.offset0));let D=x;return b.ariaLabel=x+" "+g.toLocaleString(),null!=this.seriesName&&(D=`${this.seriesName} \u2022 ${x}`,b.data.series=this.seriesName,b.ariaLabel=this.seriesName+" "+b.ariaLabel),b.tooltipText=this.tooltipDisabled?void 0:`\n        <span class="tooltip-label">${rs(D)}</span>\n        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(g):g.toLocaleString()}</span>\n      `,b}),this.updateDataLabels()}updateDataLabels(){if(this.type===ui.Stacked){this.barsForDataLabels=[];const t={};t.series=this.seriesName;const i=this.series.map(o=>o.value).reduce((o,l)=>l>0?o+l:o,0),a=this.series.map(o=>o.value).reduce((o,l)=>l<0?o+l:o,0);t.total=i+a,t.x=0,t.y=0,t.height=this.yScale(t.total>0?i:a),t.width=this.xScale.bandwidth(),this.barsForDataLabels.push(t)}else this.barsForDataLabels=this.series.map(t=>{const i={};return i.series=this.seriesName??t.label,i.total=t.value,i.x=this.xScale(t.label),i.y=this.yScale(0),i.height=this.yScale(i.total)-this.yScale(0),i.width=this.xScale.bandwidth(),i})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:lt.Top,this.tooltipType=this.tooltipDisabled?void 0:Oi.tooltip}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.name===a.name&&t.value===a.value)}onClick(t){this.select.emit(t)}getLabel(t){return t.label?t.label:t.name}trackBy(t,i){return i.label}trackDataLabelBy(t,i){return t+"#"+i.series+"#"+i.total}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-series-vertical",""]],inputs:{dims:"dims",type:"type",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",animations:"animations",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"},features:[n.TTD],attrs:zm,decls:3,vars:3,consts:[[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged"]],template:function(t,i){1&t&&(n.YNc(0,Hm,2,2,"g",0),n.YNc(1,Zm,2,2,"g",0),n.YNc(2,Ym,2,2,"g",0)),2&t&&(n.Q6J("ngIf",!i.isSSR),n.xp6(1),n.Q6J("ngIf",i.isSSR),n.xp6(1),n.Q6J("ngIf",i.showDataLabel))},dependencies:[tf,ef,v.O5,v.sg,kn],encapsulation:2,data:{animation:[(0,ft.X$)("animationState",[(0,ft.eR)(":leave",[(0,ft.oB)({opacity:1}),(0,ft.jt)(500,(0,ft.oB)({opacity:0}))])])]},changeDetection:0}),e})(),sf=(()=>{class e extends Pi{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=Fe.Right,this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.wrapTicks=!1,this.activate=new n.vpe,this.deactivate=new n.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=tn({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`}getXScale(){this.xDomain=this.getXDomain();const t=this.xDomain.length/(this.dims.width/this.barPadding+1);return Ui().range([0,this.dims.width]).paddingInner(t).domain(this.xDomain)}getYScale(){this.yDomain=this.getYDomain();const t=Te().range([this.dims.height,0]).domain(this.yDomain);return this.roundDomains?t.nice():t}getXDomain(){return this.results.map(t=>t.label)}getYDomain(){const t=this.results.map(o=>o.value);let i=this.yScaleMin?Math.min(this.yScaleMin,...t):Math.min(0,...t);this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(i=Math.min(i,...this.yAxisTicks));let a=this.yScaleMax?Math.max(this.yScaleMax,...t):Math.max(0,...t);return this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(a=Math.max(a,...this.yAxisTicks)),[i,a]}onClick(t){this.select.emit(t)}setColors(){let t;t=this.schemeType===P.Ordinal?this.xDomain:this.yDomain,this.colors=new en(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){const t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return t.scaleType===P.Ordinal?(t.domain=this.xDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.yDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onDataLabelMaxHeightChanged(t){t.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,t.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,t.size.height),t.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(t,i=!1){t=this.results.find(o=>i?o.label===t.name:o.name===t.name),!(this.activeEntries.findIndex(o=>o.name===t.name&&o.value===t.value&&o.series===t.series)>-1)&&(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,i=!1){t=this.results.find(o=>i?o.label===t.name:o.name===t.name);const a=this.activeEntries.findIndex(o=>o.name===t.name&&o.value===t.value&&o.series===t.series);this.activeEntries.splice(a,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}}return e.\u0275fac=function(){let s;return function(i){return(s||(s=n.n5z(e)))(i||e)}}(),e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-bar-vertical"]],contentQueries:function(t,i,a){if(1&t&&n.Suo(a,Qi,5),2&t){let o;n.iGM(o=n.CRH())&&(i.tooltipTemplate=o.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",tooltipDisabled:"tooltipDisabled",gradient:"gradient",showGridLines:"showGridLines",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",yScaleMax:"yScaleMax",yScaleMin:"yScaleMin",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[n.qOj],decls:5,vars:25,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-vertical","",3,"xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","activeEntries","roundEdges","animations","noBarWhenZero","activate","deactivate","select","dataLabelHeightChanged"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"]],template:function(t,i){1&t&&(n.TgZ(0,"ngx-charts-chart",0),n.NdJ("legendLabelClick",function(o){return i.onClick(o)})("legendLabelActivate",function(o){return i.onActivate(o,!0)})("legendLabelDeactivate",function(o){return i.onDeactivate(o,!0)}),n.O4$(),n.TgZ(1,"g",1),n.YNc(2,Wm,1,12,"g",2),n.YNc(3,Gm,1,10,"g",3),n.TgZ(4,"g",4),n.NdJ("activate",function(o){return i.onActivate(o)})("deactivate",function(o){return i.onDeactivate(o)})("select",function(o){return i.onClick(o)})("dataLabelHeightChanged",function(o){return i.onDataLabelMaxHeightChanged(o)}),n.qZA()()()),2&t&&(n.Q6J("view",n.WLB(22,Re,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),n.xp6(1),n.uIk("transform",i.transform),n.xp6(1),n.Q6J("ngIf",i.xAxis),n.xp6(1),n.Q6J("ngIf",i.yAxis),n.xp6(1),n.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("series",i.results)("dims",i.dims)("gradient",i.gradient)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)("showDataLabel",i.showDataLabel)("dataLabelFormatting",i.dataLabelFormatting)("activeEntries",i.activeEntries)("roundEdges",i.roundEdges)("animations",i.animations)("noBarWhenZero",i.noBarWhenZero))},dependencies:[Ii,ls,cs,nf,v.O5],styles:[wn],encapsulation:2,changeDetection:0}),e})(),af=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[ms]]}),e})();Xg();let of=(()=>{class e{constructor(t,i){this.element=t,this.platformId=i,this.fill="none",this.animations=!0,this.initialized=!1,this.isSSR=!1}ngOnInit(){(0,v.PM)(this.platformId)&&(this.isSSR=!0)}ngOnChanges(t){this.initialized?this.updatePathEl():(this.initialized=!0,this.initialPath=this.path)}updatePathEl(){const t=ee(this.element.nativeElement).select(".line");this.animations?t.transition().duration(750).attr("d",this.path):t.attr("d",this.path)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-line",""]],inputs:{path:"path",stroke:"stroke",data:"data",fill:"fill",animations:"animations"},features:[n.TTD],attrs:sp,decls:2,vars:2,consts:[[4,"ngIf"],["stroke-width","1.5px",1,"line"]],template:function(t,i){1&t&&(n.YNc(0,ap,2,4,"g",0),n.YNc(1,op,2,3,"g",0)),2&t&&(n.Q6J("ngIf",!i.isSSR),n.xp6(1),n.Q6J("ngIf",i.isSSR))},dependencies:[v.O5],encapsulation:2,data:{animation:[(0,ft.X$)("animationState",[(0,ft.eR)(":enter",[(0,ft.oB)({strokeDasharray:2e3,strokeDashoffset:2e3}),(0,ft.jt)(1e3,(0,ft.oB)({strokeDashoffset:0}))])])]},changeDetection:0}),e})(),rf=(()=>{class e{constructor(){this.animations=!0,this.barOrientation=Ht}ngOnChanges(t){this.update()}update(){this.updateGradients();const t=this.sortData(this.data.series),i=this.getLineGenerator();this.path=i(t)||"";const a=this.getAreaGenerator();if(this.areaPath=a(t)||"",this.hasRange){const o=this.getRangeGenerator();this.outerPath=o(t)||""}if(this.hasGradient){this.stroke=this.gradientUrl;const o=this.data.series.map(u=>u.value),l=Math.max(...o);l===Math.min(...o)&&(this.stroke=this.colors.getColor(l))}else this.stroke=this.colors.getColor(this.data.name)}getLineGenerator(){return Cr().x(t=>{const i=t.name;let a;return a=this.xScale(this.scaleType===P.Time?i:this.scaleType===P.Linear?Number(i):i),a}).y(t=>this.yScale(t.value)).curve(this.curve)}getRangeGenerator(){return qi().x(t=>{const i=t.name;let a;return a=this.xScale(this.scaleType===P.Time?i:this.scaleType===P.Linear?Number(i):i),a}).y0(t=>this.yScale("number"==typeof t.min?t.min:t.value)).y1(t=>this.yScale("number"==typeof t.max?t.max:t.value)).curve(this.curve)}getAreaGenerator(){return qi().x(i=>this.xScale(i.name)).y0(()=>this.yScale.range()[0]).y1(i=>this.yScale(i.value)).curve(this.curve)}sortData(t){return this.scaleType===P.Linear?Ur(t,"name"):this.scaleType===P.Time?Jr(t,"name"):qr(t,"name","asc",this.xScale.domain())}updateGradients(){if(this.colors.scaleType===P.Linear){this.hasGradient=!0,this.gradientId="grad"+He().toString(),this.gradientUrl=`url(#${this.gradientId})`;const t=this.data.series.map(o=>o.value),i=Math.max(...t),a=Math.min(...t);this.gradientStops=this.colors.getLinearGradientStops(i,a),this.areaGradientStops=this.colors.getLinearGradientStops(i)}else this.hasGradient=!1,this.gradientStops=void 0,this.areaGradientStops=void 0}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.name===a.name)}isInactive(t){return!(!this.activeEntries||0===this.activeEntries.length)&&void 0===this.activeEntries.find(a=>t.name===a.name)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-line-series",""]],inputs:{data:"data",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",curve:"curve",activeEntries:"activeEntries",rangeFillOpacity:"rangeFillOpacity",hasRange:"hasRange",animations:"animations"},features:[n.TTD],attrs:rp,decls:6,vars:22,consts:[["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops",4,"ngIf"],["ngx-charts-area","",1,"line-highlight",3,"data","path","fill","opacity","startOpacity","gradient","stops","animations"],["ngx-charts-line","",1,"line-series",3,"data","path","stroke","animations"],["ngx-charts-area","","class","line-series-range",3,"data","path","fill","active","inactive","opacity","animations",4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["ngx-charts-area","",1,"line-series-range",3,"data","path","fill","opacity","animations"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"g")(1,"defs"),n.YNc(2,lp,1,3,"g",0),n.qZA(),n._UZ(3,"g",1)(4,"g",2),n.YNc(5,cp,1,9,"g",3),n.qZA()),2&t&&(n.xp6(2),n.Q6J("ngIf",i.hasGradient),n.xp6(1),n.ekj("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),n.Q6J("data",i.data)("path",i.areaPath)("fill",i.hasGradient?i.gradientUrl:i.colors.getColor(i.data.name))("opacity",.25)("startOpacity",0)("gradient",!0)("stops",i.areaGradientStops)("animations",i.animations),n.xp6(1),n.ekj("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),n.Q6J("data",i.data)("path",i.path)("stroke",i.stroke)("animations",i.animations),n.xp6(1),n.Q6J("ngIf",i.hasRange))},dependencies:[An,ka,of,v.O5],encapsulation:2,changeDetection:0}),e})(),lf=(()=>{class e extends Pi{constructor(){super(...arguments),this.legendTitle="Legend",this.legendPosition=Fe.Right,this.showGridLines=!0,this.curve=Cn,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.showRefLines=!1,this.showRefLabels=!0,this.wrapTicks=!1,this.activate=new n.vpe,this.deactivate=new n.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.isSSR=!1}ngOnInit(){(0,v.PM)(this.platformId)&&(this.isSSR=!0)}update(){super.update(),this.dims=tn({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+He().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let t=Ma(this.results);this.scaleType=ps(t);let a,o,i=[];return this.scaleType===P.Linear&&(t=t.map(l=>Number(l))),(this.scaleType===P.Time||this.scaleType===P.Linear)&&(a=this.xScaleMin?this.xScaleMin:Math.min(...t),o=this.xScaleMax?this.xScaleMax:Math.max(...t)),this.scaleType===P.Time?(i=[new Date(a),new Date(o)],this.xSet=[...t].sort((l,c)=>{const u=l.getTime(),g=c.getTime();return u>g?1:g>u?-1:0})):this.scaleType===P.Linear?(i=[a,o],this.xSet=[...t].sort((l,c)=>l-c)):(i=t,this.xSet=t),i}getYDomain(){const t=[];for(const l of this.results)for(const c of l.series)t.indexOf(c.value)<0&&t.push(c.value),void 0!==c.min&&(this.hasRange=!0,t.indexOf(c.min)<0&&t.push(c.min)),void 0!==c.max&&(this.hasRange=!0,t.indexOf(c.max)<0&&t.push(c.max));const i=[...t];return this.autoScale||i.push(0),[this.yScaleMin?this.yScaleMin:Math.min(...i),this.yScaleMax?this.yScaleMax:Math.max(...i)]}getSeriesDomain(){return this.results.map(t=>t.name)}getXScale(t,i){let a;return this.scaleType===P.Time?a=jn().range([0,i]).domain(t):this.scaleType===P.Linear?(a=Te().range([0,i]).domain(t),this.roundDomains&&(a=a.nice())):this.scaleType===P.Ordinal&&(a=is().range([0,i]).padding(.1).domain(t)),a}getYScale(t,i){const a=Te().range([i,0]).domain(t);return this.roundDomains?a.nice():a}updateDomain(t){this.filteredDomain=t,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(t){this.hoveredVertical=t.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(t){this.select.emit(t)}trackBy(t,i){return`${i.name}`}setColors(){let t;t=this.schemeType===P.Ordinal?this.seriesDomain:this.yDomain,this.colors=new en(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){const t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return t.scaleType===P.Ordinal?(t.domain=this.seriesDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.yDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onActivate(t){this.deactivateAll(),!(this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value)>-1)&&(this.activeEntries=[t],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t){const i=this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const t of this.activeEntries)this.deactivate.emit({value:t,entries:[]});this.activeEntries=[]}}return e.\u0275fac=function(){let s;return function(i){return(s||(s=n.n5z(e)))(i||e)}}(),e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-line-chart"]],contentQueries:function(t,i,a){if(1&t&&(n.Suo(a,Qi,5),n.Suo(a,ba,5)),2&t){let o;n.iGM(o=n.CRH())&&(i.tooltipTemplate=o.first),n.iGM(o=n.CRH())&&(i.seriesTooltipTemplate=o.first)}},hostBindings:function(t,i){1&t&&n.NdJ("mouseleave",function(){return i.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",autoScale:"autoScale",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",rangeFillOpacity:"rangeFillOpacity",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",showRefLines:"showRefLines",referenceLines:"referenceLines",showRefLabels:"showRefLabels",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[n.qOj],decls:12,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"line-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngIf"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","activeEntries","scaleType","curve","rangeFillOpacity","hasRange","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate","hover"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"xScale","yScale","colors","data","scaleType","visibleValue","activeEntries","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","scaleType","curve","hasRange","animations"]],template:function(t,i){1&t&&(n.TgZ(0,"ngx-charts-chart",0),n.NdJ("legendLabelClick",function(o){return i.onClick(o)})("legendLabelActivate",function(o){return i.onActivate(o)})("legendLabelDeactivate",function(o){return i.onDeactivate(o)}),n.O4$(),n.TgZ(1,"defs")(2,"clipPath"),n._UZ(3,"rect"),n.qZA()(),n.TgZ(4,"g",1),n.YNc(5,hp,1,11,"g",2),n.YNc(6,dp,1,13,"g",3),n.TgZ(7,"g"),n.YNc(8,up,2,2,"g",4),n.YNc(9,pp,2,2,"g",4),n.YNc(10,xp,3,9,"g",5),n.qZA()(),n.YNc(11,vp,2,13,"g",6),n.qZA()),2&t&&(n.Q6J("view",n.WLB(17,Re,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),n.xp6(2),n.uIk("id",i.clipPathId),n.xp6(1),n.uIk("width",i.dims.width+10)("height",i.dims.height+10)("transform","translate(-5, -5)"),n.xp6(1),n.uIk("transform",i.transform),n.xp6(1),n.Q6J("ngIf",i.xAxis),n.xp6(1),n.Q6J("ngIf",i.yAxis),n.xp6(1),n.uIk("clip-path",i.clipPath),n.xp6(1),n.Q6J("ngIf",!i.isSSR),n.xp6(1),n.Q6J("ngIf",i.isSSR),n.xp6(1),n.Q6J("ngIf",!i.tooltipDisabled),n.xp6(1),n.Q6J("ngIf",i.timeline&&"ordinal"!=i.scaleType))},dependencies:[Ii,ls,cs,rf,gs,hs,us,v.O5,v.sg],styles:[wn],encapsulation:2,data:{animation:[(0,ft.X$)("animationState",[(0,ft.eR)(":leave",[(0,ft.oB)({opacity:1}),(0,ft.jt)(500,(0,ft.oB)({opacity:0}))])])]},changeDetection:0}),e})(),cf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[ms]]}),e})(),hf=(()=>{class e{constructor(t){this.platformId=t,this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.trimLabel=ji}ngOnChanges(t){this.setTransforms(),this.update()}setTransforms(){if((0,v.PM)(this.platformId))this.styleTransform=`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=`translate(${this.textX},${this.textY})`,this.textTransition=this.animations?"transform 0.75s":null;else{const t=/(edge|msie|trident)/i.test(navigator.userAgent);this.styleTransform=t?null:`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=t?`translate(${this.textX},${this.textY})`:null,this.textTransition=t||!this.animations?null:"transform 0.75s"}}update(){let t=this.radius;this.explodeSlices&&(t=this.radius*this.value/this.max);const a=Ca().innerRadius(t).outerRadius(t).centroid(this.data);let o=this.data.pos[1]/a[1];(0===this.data.pos[1]||0===a[1])&&(o=1),this.line=`M${a}L${[o*a[0],o*a[1]]}L${this.data.pos}`}get textX(){return this.data.pos[0]}get textY(){return this.data.pos[1]}textAnchor(){return this.midAngle(this.data)<Math.PI?Ee.Start:Ee.End}midAngle(t){return t.startAngle+(t.endAngle-t.startAngle)/2}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Lbi))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-pie-label",""]],inputs:{data:"data",radius:"radius",label:"label",color:"color",max:"max",value:"value",explodeSlices:"explodeSlices",animations:"animations",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize"},features:[n.TTD],attrs:yp,decls:6,vars:17,consts:[["dy",".35em",1,"pie-label"],["fill","none",1,"pie-label-line","line"]],template:function(t,i){1&t&&(n.TgZ(0,"title"),n._uU(1),n.qZA(),n.O4$(),n.TgZ(2,"g")(3,"text",0),n._uU(4),n.qZA()(),n._UZ(5,"path",1)),2&t&&(n.xp6(1),n.Oqu(i.label),n.xp6(1),n.Udp("transform",i.styleTransform)("transition",i.textTransition),n.uIk("transform",i.attrTransform),n.xp6(1),n.Udp("text-anchor",i.textAnchor())("shape-rendering","crispEdges"),n.ekj("animation",i.animations),n.xp6(1),n.hij(" ",i.labelTrim?i.trimLabel(i.label,i.labelTrimSize):i.label," "),n.xp6(1),n.ekj("animation",i.animations),n.uIk("d",i.line)("stroke",i.color))},encapsulation:2,changeDetection:0}),e})();Math;let jr=(()=>{class e{constructor(t){this.startAngle=0,this.endAngle=2*Math.PI,this.cornerRadius=0,this.explodeSlices=!1,this.gradient=!1,this.animate=!0,this.pointerEvents=!0,this.isActive=!1,this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe,this.dblclick=new n.vpe,this.barOrientation=Ht,this.initialized=!1,this.element=t.nativeElement}ngOnChanges(t){this.update()}getGradient(){return this.gradient?this.gradientFill:this.fill}getPointerEvents(){return this.pointerEvents?"auto":"none"}update(){const t=this.calculateArc();this.startOpacity=.5,this.radialGradientId="linearGrad"+He().toString(),this.gradientFill=`url(#${this.radialGradientId})`,this.animate?this.initialized?this.updateAnimation():(this.loadAnimation(),this.initialized=!0):this.path=t.startAngle(this.startAngle).endAngle(this.endAngle)()}calculateArc(){let t=this.outerRadius;return this.explodeSlices&&0===this.innerRadius&&(t=this.outerRadius*this.value/this.max),Ca().innerRadius(this.innerRadius).outerRadius(t).cornerRadius(this.cornerRadius)}loadAnimation(){const t=ee(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();t.transition().attrTween("d",function(a){this._current=this._current||a;const o=Object.assign({},a);o.endAngle=o.startAngle;const l=Si(o,o);return this._current=l(0),function(c){return i(l(c))}}).transition().duration(750).attrTween("d",function(a){this._current=this._current||a;const o=Si(this._current,a);return this._current=o(0),function(l){return i(o(l))}})}updateAnimation(){const t=ee(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();t.transition().duration(750).attrTween("d",function(a){this._current=this._current||a;const o=Si(this._current,a);return this._current=o(0),function(l){return i(o(l))}})}onClick(){clearTimeout(this._timeout),this._timeout=setTimeout(()=>this.select.emit(this.data),200)}onDblClick(t){t.preventDefault(),t.stopPropagation(),clearTimeout(this._timeout),this.dblclick.emit({data:this.data,nativeEvent:t})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-pie-arc",""]],inputs:{fill:"fill",startAngle:"startAngle",endAngle:"endAngle",innerRadius:"innerRadius",outerRadius:"outerRadius",cornerRadius:"cornerRadius",value:"value",max:"max",data:"data",explodeSlices:"explodeSlices",gradient:"gradient",animate:"animate",pointerEvents:"pointerEvents",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[n.TTD],attrs:Sp,decls:3,vars:7,consts:[[1,"arc-group"],[4,"ngIf"],[1,"arc",3,"click","dblclick","mouseenter","mouseleave"],["ngx-charts-svg-radial-gradient","",3,"color","name","startOpacity"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"g",0),n.YNc(1,kp,2,3,"defs",1),n.TgZ(2,"path",2),n.NdJ("click",function(){return i.onClick()})("dblclick",function(o){return i.onDblClick(o)})("mouseenter",function(){return i.activate.emit(i.data)})("mouseleave",function(){return i.deactivate.emit(i.data)}),n.qZA()()),2&t&&(n.xp6(1),n.Q6J("ngIf",i.gradient),n.xp6(1),n.Udp("pointer-events",i.getPointerEvents()),n.ekj("active",i.isActive),n.uIk("d",i.path)("fill",i.getGradient()))},dependencies:[Yr,v.O5],encapsulation:2,changeDetection:0}),e})(),df=(()=>{class e{constructor(){this.series=[],this.innerRadius=60,this.outerRadius=80,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe,this.dblclick=new n.vpe,this.placementTypes=lt,this.styleTypes=Oi}ngOnChanges(t){this.update()}update(){const i=Sr().value(a=>a.value).sort(null)(this.series);this.max=function Wg(e,s){let t;if(void 0===s)for(const i of e)null!=i&&(t<i||void 0===t&&i>=i)&&(t=i);else{let i=-1;for(let a of e)null!=(a=s(a,++i,e))&&(t<a||void 0===t&&a>=a)&&(t=a)}return t}(i,a=>a.value),this.data=this.calculateLabelPositions(i),this.tooltipText=this.tooltipText||this.defaultTooltipText}midAngle(t){return t.startAngle+(t.endAngle-t.startAngle)/2}outerArc(){return Ca().innerRadius(1.5*this.outerRadius).outerRadius(1.5*this.outerRadius)}calculateLabelPositions(t){const o=t;o.forEach(l=>{l.pos=this.outerArc().centroid(l),l.pos[0]=1.5*this.outerRadius*(this.midAngle(l)<Math.PI?1:-1)});for(let l=0;l<o.length-1;l++){const c=o[l];if(this.labelVisible(c))for(let u=l+1;u<o.length;u++){const g=o[u];if(this.labelVisible(g)&&g.pos[0]*c.pos[0]>0){const p=10-Math.abs(g.pos[1]-c.pos[1]);p>0&&(g.pos[1]+=Math.sign(g.pos[0])*p)}}}return o}labelVisible(t){return this.showLabels&&t.endAngle-t.startAngle>Math.PI/30}getTooltipTitle(t){return this.tooltipTemplate?void 0:this.tooltipText(t)}labelText(t){return this.labelFormatting?this.labelFormatting(t.data.name):this.label(t)}label(t){return ti(t.data.name)}defaultTooltipText(t){const i=this.label(t),a=ti(t.data.value);return`\n      <span class="tooltip-label">${rs(i)}</span>\n      <span class="tooltip-val">${a}</span>\n    `}color(t){return this.colors.getColor(this.label(t))}trackBy(t,i){return i.data.name}onClick(t){this.select.emit(t)}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.name===a.name&&t.series===a.series)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-pie-series",""]],inputs:{colors:"colors",series:"series",dims:"dims",innerRadius:"innerRadius",outerRadius:"outerRadius",explodeSlices:"explodeSlices",showLabels:"showLabels",gradient:"gradient",activeEntries:"activeEntries",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",animations:"animations"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[n.TTD],attrs:Ap,decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations",4,"ngIf"],["ngx-charts-pie-arc","","ngx-tooltip","",3,"startAngle","endAngle","innerRadius","outerRadius","fill","value","gradient","data","max","explodeSlices","isActive","animate","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate","dblclick"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations"]],template:function(t,i){1&t&&n.YNc(0,Dp,3,19,"g",0),2&t&&n.Q6J("ngForOf",i.data)("ngForTrackBy",i.trackBy)},dependencies:[hf,jr,v.sg,v.O5,kn],encapsulation:2,changeDetection:0}),e})(),gf=(()=>{class e extends Pi{constructor(){super(...arguments),this.labels=!1,this.legend=!1,this.legendTitle="Legend",this.legendPosition=Fe.Right,this.explodeSlices=!1,this.doughnut=!1,this.arcWidth=.25,this.activeEntries=[],this.tooltipDisabled=!1,this.trimLabels=!0,this.maxLabelLength=10,this.dblclick=new n.vpe,this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe}update(){super.update(),this.labels&&this.hasNoOptionalMarginsSet()?this.margins=[30,80,30,80]:!this.labels&&this.hasNoOptionalMarginsSet()&&(this.margins=[20,20,20,20]),this.dims=tn({width:this.width,height:this.height,margins:this.margins,showLegend:this.legend,legendPosition:this.legendPosition}),this.formatDates(),this.translation=`translate(${this.margins[3]+this.dims.width/2}, ${this.margins[0]+this.dims.height/2})`,this.outerRadius=Math.min(this.dims.width,this.dims.height),this.outerRadius/=this.labels?3:2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),this.data=this.results.sort((a,o)=>this.domain.indexOf(a.name)-this.domain.indexOf(o.name)),this.setColors(),this.legendOptions=this.getLegendOptions()}getDomain(){return this.results.map(t=>t.label)}onClick(t){this.select.emit(t)}setColors(){this.colors=new en(this.scheme,P.Ordinal,this.domain,this.customColors)}getLegendOptions(){return{scaleType:P.Ordinal,domain:this.domain,colors:this.colors,title:this.legendTitle,position:this.legendPosition}}onActivate(t,i=!1){t=this.results.find(o=>i?o.label===t.name:o.name===t.name),!(this.activeEntries.findIndex(o=>o.name===t.name&&o.value===t.value&&o.series===t.series)>-1)&&(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,i=!1){t=this.results.find(o=>i?o.label===t.name:o.name===t.name);const a=this.activeEntries.findIndex(o=>o.name===t.name&&o.value===t.value&&o.series===t.series);this.activeEntries.splice(a,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}hasNoOptionalMarginsSet(){return!this.margins||this.margins.length<=0}}return e.\u0275fac=function(){let s;return function(i){return(s||(s=n.n5z(e)))(i||e)}}(),e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-pie-chart"]],contentQueries:function(t,i,a){if(1&t&&n.Suo(a,Qi,5),2&t){let o;n.iGM(o=n.CRH())&&(i.tooltipTemplate=o.first)}},inputs:{labels:"labels",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",explodeSlices:"explodeSlices",doughnut:"doughnut",arcWidth:"arcWidth",gradient:"gradient",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",margins:"margins"},outputs:{dblclick:"dblclick",select:"select",activate:"activate",deactivate:"deactivate"},features:[n.qOj],decls:3,vars:24,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"pie-chart","chart"],["ngx-charts-pie-series","",3,"colors","series","showLabels","labelFormatting","trimLabels","maxLabelLength","activeEntries","innerRadius","outerRadius","explodeSlices","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText","dblclick","select","activate","deactivate"]],template:function(t,i){1&t&&(n.TgZ(0,"ngx-charts-chart",0),n.NdJ("legendLabelActivate",function(o){return i.onActivate(o,!0)})("legendLabelDeactivate",function(o){return i.onDeactivate(o,!0)})("legendLabelClick",function(o){return i.onClick(o)}),n.O4$(),n.TgZ(1,"g",1)(2,"g",2),n.NdJ("dblclick",function(o){return i.dblclick.emit(o)})("select",function(o){return i.onClick(o)})("activate",function(o){return i.onActivate(o)})("deactivate",function(o){return i.onDeactivate(o)}),n.qZA()()()),2&t&&(n.Q6J("view",n.WLB(21,Re,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),n.xp6(1),n.uIk("transform",i.translation),n.xp6(1),n.Q6J("colors",i.colors)("series",i.data)("showLabels",i.labels)("labelFormatting",i.labelFormatting)("trimLabels",i.trimLabels)("maxLabelLength",i.maxLabelLength)("activeEntries",i.activeEntries)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("explodeSlices",i.explodeSlices)("gradient",i.gradient)("animations",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)("tooltipText",i.tooltipText))},dependencies:[Ii,df],styles:[wn,".pie-label{font-size:11px}.pie-label.animation{animation:.75s ease-in fadeIn}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{animation:3s linear drawOut;transition:d .75s}@keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}\n"],encapsulation:2,changeDetection:0}),e})();let ff=(()=>{class e{constructor(t){this.innerRadius=70,this.outerRadius=80,this.animations=!0,this.select=new n.vpe,this.activate=new n.vpe,this.deactivate=new n.vpe,this.element=t.nativeElement}ngOnChanges(t){this.update()}update(){this.layout=Sr().value(t=>t.data.value).sort(null),this.arcs=this.getArcs()}getArcs(){return this.layout(this.data).map((t,i)=>{const a=t.data.data.name,o=t.data.data.other;0===i&&(t.startAngle=0);const l=this.colors(a);return{data:t.data.data,class:"arc arc"+i,fill:l,startAngle:o?0:t.startAngle,endAngle:t.endAngle,animate:this.animations&&!o,pointerEvents:!o}})}onClick(t){this.select.emit(this.data[0].data)}trackBy(t,i){return i.data.name}label(t){return t.data.name}color(t){return this.colors(this.label(t))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275cmp=n.Xpm({type:e,selectors:[["g","ngx-charts-pie-grid-series",""]],inputs:{colors:"colors",data:"data",innerRadius:"innerRadius",outerRadius:"outerRadius",animations:"animations"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[n.TTD],attrs:Fp,decls:2,vars:2,consts:[[1,"pie-grid-arcs"],["ngx-charts-pie-arc","",3,"startAngle","endAngle","innerRadius","outerRadius","fill","value","data","gradient","pointerEvents","animate","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-arc","",3,"startAngle","endAngle","innerRadius","outerRadius","fill","value","data","gradient","pointerEvents","animate","select","activate","deactivate"]],template:function(t,i){1&t&&(n.O4$(),n.TgZ(0,"g",0),n.YNc(1,Ep,1,11,"g",1),n.qZA()),2&t&&(n.xp6(1),n.Q6J("ngForOf",i.arcs)("ngForTrackBy",i.trackBy))},dependencies:[jr,v.sg],encapsulation:2,changeDetection:0}),e})(),xf=(()=>{class e extends Pi{constructor(){super(...arguments),this.tooltipDisabled=!1,this.label="Total",this.minWidth=150,this.activeEntries=[],this.activate=new n.vpe,this.deactivate=new n.vpe,this.margin=[20,20,20,20],this.placementTypes=lt,this.styleTypes=Oi}update(){super.update(),this.dims=tn({width:this.width,height:this.height,margins:this.margin}),this.formatDates(),this.domain=this.getDomain(),this.data=function mf(e,s,t,i){const a=Ui(),o=Ui(),l=e.width,c=e.height,[u,g]=function uf(e,s,t){let i=1,a=s;const o=e.width;if(o>t)for(;o/a<t;)i+=1,a=Math.ceil(s/i);return[a,i]}(e,s.length,t),p=[],x=[];for(let S=0;S<g;S++)x.push(S);for(let S=0;S<u;S++)p.push(S);a.domain(p),o.domain(x),a.rangeRound([0,l],.1),o.rangeRound([0,c],.1);const _=[],b=i||function pf(e){return e.map(s=>s?s.value:0).reduce((s,t)=>s+t,0)}(s),D=a.bandwidth(),B=o.bandwidth();for(let S=0;S<s.length;S++)_[S]={},_[S].data={name:s[S]?s[S].name:"",value:s[S]?s[S].value:void 0,extra:s[S]?s[S].extra:void 0,label:s[S]?s[S].label:""},_[S].x=a(S%u),_[S].y=o(Math.floor(S/u)),_[S].width=D,_[S].height=B,_[S].data.percent=b>0?_[S].data.value/b:0,_[S].data.total=b;return _}(this.dims,this.results,this.minWidth,this.designatedTotal),this.transform=`translate(${this.margin[3]} , ${this.margin[0]})`,this.series=this.getSeries(),this.setColors(),this.tooltipText=this.tooltipText||this.defaultTooltipText}defaultTooltipText({data:t}){return`\n      <span class="tooltip-label">${ji(ti(t.name))}</span>\n      <span class="tooltip-val">${t.value.toLocaleString()}</span>\n    `}getDomain(){return this.results.map(t=>t.label)}getSeries(){const t=this.designatedTotal?this.designatedTotal:this.getTotal();return this.data.map(i=>{const l=i.data.name,c=ti(l),u=i.data.value,g=function Gg(e,s){let t;if(void 0===s)for(const i of e)null!=i&&(t>i||void 0===t&&i>=i)&&(t=i);else{let i=-1;for(let a of e)null!=(a=s(a,++i,e))&&(t>a||void 0===t&&a>=a)&&(t=a)}return t}([i.width-10,i.height-20])/2-5;let x=0;return{transform:`translate(${i.x+(i.width-10)/2}, ${i.y+(i.height-20)/2})`,colors:()=>(x+=1,1===x?"rgba(100,100,100,0.3)":this.colorScale.getColor(c)),innerRadius:.9*g,outerRadius:g,name:l,label:ji(c),total:u,value:u,percent:ma(".1%")(i.data.percent),data:[i,{data:{other:!0,value:t-u,name:i.data.name}}]}})}getTotal(){return this.results.map(t=>t.value).reduce((t,i)=>t+i,0)}onClick(t){this.select.emit(t)}setColors(){this.colorScale=new en(this.scheme,P.Ordinal,this.domain,this.customColors)}onActivate(t,i=!1){t=this.results.find(o=>i?o.label===t.name:o.name===t.name),!(this.activeEntries.findIndex(o=>o.name===t.name&&o.value===t.value&&o.series===t.series)>-1)&&(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,i=!1){t=this.results.find(o=>i?o.label===t.name:o.name===t.name);const a=this.activeEntries.findIndex(o=>o.name===t.name&&o.value===t.value&&o.series===t.series);this.activeEntries.splice(a,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}}return e.\u0275fac=function(){let s;return function(i){return(s||(s=n.n5z(e)))(i||e)}}(),e.\u0275cmp=n.Xpm({type:e,selectors:[["ngx-charts-pie-grid"]],contentQueries:function(t,i,a){if(1&t&&n.Suo(a,Qi,5),2&t){let o;n.iGM(o=n.CRH())&&(i.tooltipTemplate=o.first)}},inputs:{designatedTotal:"designatedTotal",tooltipDisabled:"tooltipDisabled",tooltipText:"tooltipText",label:"label",minWidth:"minWidth",activeEntries:"activeEntries"},outputs:{activate:"activate",deactivate:"deactivate"},features:[n.qOj],decls:3,vars:8,consts:[[3,"view","showLegend","animations"],[1,"pie-grid","chart"],["class","pie-grid-item",4,"ngFor","ngForOf"],[1,"pie-grid-item"],["ngx-charts-pie-grid-series","","ngx-tooltip","",3,"colors","data","innerRadius","outerRadius","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate"],["class","label percent-label","dy","-0.5em","x","0","y","5","ngx-charts-count-up","","text-anchor","middle",3,"countTo","countSuffix",4,"ngIf"],["class","label percent-label","dy","-0.5em","x","0","y","5","text-anchor","middle",4,"ngIf"],["dy","0.5em","x","0","y","5","text-anchor","middle",1,"label"],["class","label","dy","1.23em","x","0","text-anchor","middle","ngx-charts-count-up","",3,"countTo","countPrefix",4,"ngIf"],["class","label","dy","1.23em","x","0","text-anchor","middle",4,"ngIf"],["dy","-0.5em","x","0","y","5","ngx-charts-count-up","","text-anchor","middle",1,"label","percent-label",3,"countTo","countSuffix"],["dy","-0.5em","x","0","y","5","text-anchor","middle",1,"label","percent-label"],["dy","1.23em","x","0","text-anchor","middle","ngx-charts-count-up","",1,"label",3,"countTo","countPrefix"],["dy","1.23em","x","0","text-anchor","middle",1,"label"]],template:function(t,i){1&t&&(n.TgZ(0,"ngx-charts-chart",0),n.O4$(),n.TgZ(1,"g",1),n.YNc(2,zp,8,19,"g",2),n.qZA()()),2&t&&(n.Q6J("view",n.WLB(5,Re,i.width,i.height))("showLegend",!1)("animations",i.animations),n.xp6(1),n.uIk("transform",i.transform),n.xp6(1),n.Q6J("ngForOf",i.series))},dependencies:[Ii,ff,Aa,v.sg,kn,v.O5],styles:[wn,".pie-grid .arc1{opacity:.4}.pie-grid .percent-label{font-size:16px;font-weight:400}\n"],encapsulation:2,changeDetection:0}),e})(),_f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[ms]]}),e})()},35024:(pi,Gt,z)=>{z.d(Gt,{IM:()=>R,IX:()=>F,sm:()=>ni});var n=z(96814),v=z(99468),st=z(78645),rt=z(83620),gt=z(59773),tt=z(94664),r=z(99080);function Z(y,h){if(1&y&&v._UZ(0,"div",3),2&y){const d=h.index,m=v.oxw();v.Q6J("ngStyle",m.gridRenderer.getGridColumnStyle(d))}}function H(y,h){if(1&y&&v._UZ(0,"div",4),2&y){const d=h.index,m=v.oxw();v.Q6J("ngStyle",m.gridRenderer.getGridRowStyle(d))}}const et=["*"];function X(y,h){if(1&y){const d=v.EpF();v.TgZ(0,"div",8),v.NdJ("mousedown",function(f){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(f))})("touchstart",function(f){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(f))}),v.qZA()}}function ht(y,h){if(1&y){const d=v.EpF();v.TgZ(0,"div",9),v.NdJ("mousedown",function(f){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(f))})("touchstart",function(f){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(f))}),v.qZA()}}function qt(y,h){if(1&y){const d=v.EpF();v.TgZ(0,"div",10),v.NdJ("mousedown",function(f){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(f))})("touchstart",function(f){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(f))}),v.qZA()}}function Bt(y,h){if(1&y){const d=v.EpF();v.TgZ(0,"div",11),v.NdJ("mousedown",function(f){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(f))})("touchstart",function(f){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(f))}),v.qZA()}}function me(y,h){if(1&y){const d=v.EpF();v.TgZ(0,"div",12),v.NdJ("mousedown",function(f){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(f))})("touchstart",function(f){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(f))}),v.qZA()}}function Pe(y,h){if(1&y){const d=v.EpF();v.TgZ(0,"div",13),v.NdJ("mousedown",function(f){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(f))})("touchstart",function(f){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(f))}),v.qZA()}}function Ce(y,h){if(1&y){const d=v.EpF();v.TgZ(0,"div",14),v.NdJ("mousedown",function(f){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(f))})("touchstart",function(f){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(f))}),v.qZA()}}function Lt(y,h){if(1&y){const d=v.EpF();v.TgZ(0,"div",15),v.NdJ("mousedown",function(f){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(f))})("touchstart",function(f){v.CHM(d);const k=v.oxw();return v.KtG(k.resize.dragStartDelay(f))}),v.qZA()}}var ct=function(y){return y.Fit="fit",y.ScrollVertical="scrollVertical",y.ScrollHorizontal="scrollHorizontal",y.Fixed="fixed",y.VerticalFixed="verticalFixed",y.HorizontalFixed="horizontalFixed",y}(ct||{}),Ve=function(y){return y.Always="always",y.OnDragAndResize="onDrag&Resize",y.None="none",y}(Ve||{}),_t=function(y){return y.None="none",y.CompactUp="compactUp",y.CompactLeft="compactLeft",y.CompactUpAndLeft="compactUp&Left",y.CompactLeftAndUp="compactLeft&Up",y.CompactRight="compactRight",y.CompactUpAndRight="compactUp&Right",y.CompactRightAndUp="compactRight&Up",y.CompactDown="compactDown",y.CompactDownAndLeft="compactDown&Left",y.CompactLeftAndDown="compactLeft&Down",y.CompactDownAndRight="compactDown&Right",y.CompactRightAndDown="compactRight&Down",y}(_t||{}),It=function(y){return y.LTR="ltr",y.RTL="rtl",y}(It||{});class $i{constructor(h){this.gridster=h}destroy(){this.gridster=null}checkCompact(){this.gridster.$options.compactType!==_t.None&&(this.gridster.$options.compactType===_t.CompactUp?this.checkCompactMovement("y",-1):this.gridster.$options.compactType===_t.CompactLeft?this.checkCompactMovement("x",-1):this.gridster.$options.compactType===_t.CompactUpAndLeft?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===_t.CompactLeftAndUp?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===_t.CompactRight?this.checkCompactMovement("x",1):this.gridster.$options.compactType===_t.CompactUpAndRight?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===_t.CompactRightAndUp?(this.checkCompactMovement("x",1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===_t.CompactDown?this.checkCompactMovement("y",1):this.gridster.$options.compactType===_t.CompactDownAndLeft?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===_t.CompactDownAndRight?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===_t.CompactLeftAndDown?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",1)):this.gridster.$options.compactType===_t.CompactRightAndDown&&(this.checkCompactMovement("x",1),this.checkCompactMovement("y",1)))}checkCompactItem(h){this.gridster.$options.compactType!==_t.None&&(this.gridster.$options.compactType===_t.CompactUp?this.moveTillCollision(h,"y",-1):this.gridster.$options.compactType===_t.CompactLeft?this.moveTillCollision(h,"x",-1):this.gridster.$options.compactType===_t.CompactUpAndLeft?(this.moveTillCollision(h,"y",-1),this.moveTillCollision(h,"x",-1)):this.gridster.$options.compactType===_t.CompactLeftAndUp?(this.moveTillCollision(h,"x",-1),this.moveTillCollision(h,"y",-1)):this.gridster.$options.compactType===_t.CompactUpAndRight?(this.moveTillCollision(h,"y",-1),this.moveTillCollision(h,"x",1)):this.gridster.$options.compactType===_t.CompactDown?this.moveTillCollision(h,"y",1):this.gridster.$options.compactType===_t.CompactDownAndLeft?(this.moveTillCollision(h,"y",1),this.moveTillCollision(h,"x",-1)):this.gridster.$options.compactType===_t.CompactLeftAndDown?(this.moveTillCollision(h,"x",-1),this.moveTillCollision(h,"y",1)):this.gridster.$options.compactType===_t.CompactDownAndRight?(this.moveTillCollision(h,"y",1),this.moveTillCollision(h,"x",1)):this.gridster.$options.compactType===_t.CompactRightAndDown&&(this.moveTillCollision(h,"x",1),this.moveTillCollision(h,"y",1)))}checkCompactMovement(h,d){let m=!1;this.gridster.grid.forEach(f=>{!1!==f.$item.compactEnabled&&this.moveTillCollision(f.$item,h,d)&&(m=!0,f.item[h]=f.$item[h],f.itemChanged())}),m&&this.checkCompact()}moveTillCollision(h,d,m){return h[d]+=m,this.gridster.checkCollision(h)?(h[d]-=m,!1):(this.moveTillCollision(h,d,m),!0)}}const fi={gridType:ct.Fit,scale:1,fixedColWidth:250,fixedRowHeight:250,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,setGridSize:!1,compactType:_t.None,mobileBreakpoint:640,useBodyForBreakpoint:!1,allowMultiLayer:!1,defaultLayerIndex:0,maxLayerIndex:2,baseLayerIndex:1,minCols:1,maxCols:100,minRows:1,maxRows:100,defaultItemCols:1,defaultItemRows:1,maxItemCols:50,maxItemRows:50,minItemCols:1,minItemRows:1,minItemArea:1,maxItemArea:2500,addEmptyRowsCount:0,rowHeightRatio:1,margin:10,outerMargin:!0,outerMarginTop:null,outerMarginRight:null,outerMarginBottom:null,outerMarginLeft:null,useTransformPositioning:!0,scrollSensitivity:10,scrollSpeed:20,initCallback:void 0,destroyCallback:void 0,gridSizeChangedCallback:void 0,itemChangeCallback:void 0,itemResizeCallback:void 0,itemInitCallback:void 0,itemRemovedCallback:void 0,itemValidateCallback:void 0,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,enableOccupiedCellDrop:!1,emptyCellClickCallback:void 0,emptyCellContextMenuCallback:void 0,emptyCellDropCallback:void 0,emptyCellDragCallback:void 0,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{delayStart:0,enabled:!1,ignoreContentClass:"gridster-item-content",ignoreContent:!1,dragHandleClass:"drag-handler",stop:void 0,start:void 0,dropOverItems:!1,dropOverItemsCallback:void 0},resizable:{delayStart:0,enabled:!1,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0},stop:void 0,start:void 0},swap:!0,swapWhileDragging:!1,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:Ve.OnDragAndResize,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1,disableScrollHorizontal:!1,disableScrollVertical:!1,enableBoundaryControl:!1,disableAutoPositionOnConflict:!1,dirType:It.LTR};class At{static merge(h,d,m){for(const f in d)void 0!==d[f]&&m.hasOwnProperty(f)&&("object"==typeof d[f]?(f in h||(h[f]={}),h[f]=At.merge(h[f],d[f],m[f])):h[f]=d[f]);return h}static checkTouchEvent(h){void 0===h.clientX&&h.touches&&(h.touches&&h.touches.length?(h.clientX=h.touches[0].clientX,h.clientY=h.touches[0].clientY):h.changedTouches&&h.changedTouches.length&&(h.clientX=h.changedTouches[0].clientX,h.clientY=h.changedTouches[0].clientY))}static checkContentClassForEvent(h,d){if(h.$options.draggable.ignoreContent){if(!At.checkDragHandleClass(d.target,d.currentTarget,h.$options.draggable.dragHandleClass,h.$options.draggable.ignoreContentClass))return!0}else if(At.checkContentClass(d.target,d.currentTarget,h.$options.draggable.ignoreContentClass))return!0;return!1}static checkContentClassForEmptyCellClickEvent(h,d){return At.checkContentClass(d.target,d.currentTarget,h.$options.draggable.ignoreContentClass)||At.checkContentClass(d.target,d.currentTarget,h.$options.draggable.dragHandleClass)}static checkDragHandleClass(h,d,m,f){if(!h||h===d)return!1;if(h.hasAttribute("class")){const k=h.getAttribute("class").split(" ");if(k.indexOf(m)>-1)return!0;if(k.indexOf(f)>-1)return!1}return At.checkDragHandleClass(h.parentNode,d,m,f)}static checkContentClass(h,d,m){return!(!h||h===d)&&(!!(h.hasAttribute("class")&&h.getAttribute("class").split(" ").indexOf(m)>-1)||At.checkContentClass(h.parentNode,d,m))}static compareItems(h,d){return h.y>d.y?-1:h.y<d.y?1:h.x>d.x?-1:1}}class ft{constructor(h){this.gridster=h,this.emptyCellClickCb=d=>{if(!this.gridster||this.gridster.movingItem||At.checkContentClassForEmptyCellClickEvent(this.gridster,d))return;const m=this.getValidItemFromEvent(d);m&&(this.gridster.options.emptyCellClickCallback&&this.gridster.options.emptyCellClickCallback(d,m),this.gridster.cdRef.markForCheck())},this.emptyCellContextMenuCb=d=>{if(this.gridster.movingItem||At.checkContentClassForEmptyCellClickEvent(this.gridster,d))return;d.preventDefault(),d.stopPropagation();const m=this.getValidItemFromEvent(d);m&&(this.gridster.options.emptyCellContextMenuCallback&&this.gridster.options.emptyCellContextMenuCallback(d,m),this.gridster.cdRef.markForCheck())},this.emptyCellDragDrop=d=>{const m=this.getValidItemFromEvent(d);m&&(this.gridster.options.emptyCellDropCallback&&this.gridster.options.emptyCellDropCallback(d,m),this.gridster.cdRef.markForCheck())},this.emptyCellDragOver=d=>{d.preventDefault(),d.stopPropagation();const m=this.getValidItemFromEvent(d);m?(d.dataTransfer&&(d.dataTransfer.dropEffect="move"),this.gridster.movingItem=m):(d.dataTransfer&&(d.dataTransfer.dropEffect="none"),this.gridster.movingItem=null),this.gridster.previewStyle()},this.emptyCellMouseDown=d=>{if(At.checkContentClassForEmptyCellClickEvent(this.gridster,d))return;d.preventDefault(),d.stopPropagation();const m=this.getValidItemFromEvent(d);!m||1!==d.buttons&&!(d instanceof TouchEvent)||(this.initialItem=m,this.gridster.movingItem=m,this.gridster.previewStyle(),this.gridster.zone.runOutsideAngular(()=>{this.removeWindowMousemoveListenerFn=this.gridster.renderer.listen("window","mousemove",this.emptyCellMouseMove),this.removeWindowTouchmoveListenerFn=this.gridster.renderer.listen("window","touchmove",this.emptyCellMouseMove)}),this.removeWindowMouseupListenerFn=this.gridster.renderer.listen("window","mouseup",this.emptyCellMouseUp),this.removeWindowTouchendListenerFn=this.gridster.renderer.listen("window","touchend",this.emptyCellMouseUp))},this.emptyCellMouseMove=d=>{d.preventDefault(),d.stopPropagation();const m=this.getValidItemFromEvent(d,this.initialItem);m&&(this.gridster.movingItem=m,this.gridster.previewStyle())},this.emptyCellMouseUp=d=>{this.removeWindowMousemoveListenerFn(),this.removeWindowTouchmoveListenerFn(),this.removeWindowMouseupListenerFn(),this.removeWindowTouchendListenerFn();const m=this.getValidItemFromEvent(d,this.initialItem);m&&(this.gridster.movingItem=m),this.gridster.options.emptyCellDragCallback&&this.gridster.movingItem&&this.gridster.options.emptyCellDragCallback(d,this.gridster.movingItem),setTimeout(()=>{this.initialItem=null,this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())}),this.gridster.cdRef.markForCheck()}}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(),this.gridster.movingItem=null,this.initialItem=this.gridster=null,this.removeDocumentDragendListenerFn&&(this.removeDocumentDragendListenerFn(),this.removeDocumentDragendListenerFn=null)}updateOptions(){this.gridster.$options.enableEmptyCellClick&&!this.removeEmptyCellClickListenerFn&&this.gridster.options.emptyCellClickCallback?(this.removeEmptyCellClickListenerFn=this.gridster.renderer.listen(this.gridster.el,"click",this.emptyCellClickCb),this.removeEmptyCellTouchendListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchend",this.emptyCellClickCb)):!this.gridster.$options.enableEmptyCellClick&&this.removeEmptyCellClickListenerFn&&this.removeEmptyCellTouchendListenerFn&&(this.removeEmptyCellClickListenerFn(),this.removeEmptyCellTouchendListenerFn(),this.removeEmptyCellClickListenerFn=null,this.removeEmptyCellTouchendListenerFn=null),this.gridster.$options.enableEmptyCellContextMenu&&!this.removeEmptyCellContextMenuListenerFn&&this.gridster.options.emptyCellContextMenuCallback?this.removeEmptyCellContextMenuListenerFn=this.gridster.renderer.listen(this.gridster.el,"contextmenu",this.emptyCellContextMenuCb):!this.gridster.$options.enableEmptyCellContextMenu&&this.removeEmptyCellContextMenuListenerFn&&(this.removeEmptyCellContextMenuListenerFn(),this.removeEmptyCellContextMenuListenerFn=null),this.gridster.$options.enableEmptyCellDrop&&!this.removeEmptyCellDropListenerFn&&this.gridster.options.emptyCellDropCallback?(this.removeEmptyCellDropListenerFn=this.gridster.renderer.listen(this.gridster.el,"drop",this.emptyCellDragDrop),this.gridster.zone.runOutsideAngular(()=>{this.removeEmptyCellDragoverListenerFn=this.gridster.renderer.listen(this.gridster.el,"dragover",this.emptyCellDragOver)}),this.removeDocumentDragendListenerFn=this.gridster.renderer.listen("document","dragend",()=>{this.gridster.movingItem=null,this.gridster.previewStyle()})):!this.gridster.$options.enableEmptyCellDrop&&this.removeEmptyCellDropListenerFn&&this.removeEmptyCellDragoverListenerFn&&this.removeDocumentDragendListenerFn&&(this.removeEmptyCellDropListenerFn(),this.removeEmptyCellDragoverListenerFn(),this.removeDocumentDragendListenerFn(),this.removeEmptyCellDragoverListenerFn=null,this.removeEmptyCellDropListenerFn=null,this.removeDocumentDragendListenerFn=null),this.gridster.$options.enableEmptyCellDrag&&!this.removeEmptyCellMousedownListenerFn&&this.gridster.options.emptyCellDragCallback?(this.removeEmptyCellMousedownListenerFn=this.gridster.renderer.listen(this.gridster.el,"mousedown",this.emptyCellMouseDown),this.removeEmptyCellTouchstartListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchstart",this.emptyCellMouseDown)):!this.gridster.$options.enableEmptyCellDrag&&this.removeEmptyCellMousedownListenerFn&&this.removeEmptyCellTouchstartListenerFn&&(this.removeEmptyCellMousedownListenerFn(),this.removeEmptyCellTouchstartListenerFn(),this.removeEmptyCellMousedownListenerFn=null,this.removeEmptyCellTouchstartListenerFn=null)}getPixelsX(h,d){const m=this.gridster.options.scale;return m?(h.clientX-d.left)/m+this.gridster.el.scrollLeft-this.gridster.gridRenderer.getLeftMargin():h.clientX+this.gridster.el.scrollLeft-d.left-this.gridster.gridRenderer.getLeftMargin()}getPixelsY(h,d){const m=this.gridster.options.scale;return m?(h.clientY-d.top)/m+this.gridster.el.scrollTop-this.gridster.gridRenderer.getTopMargin():h.clientY+this.gridster.el.scrollTop-d.top-this.gridster.gridRenderer.getTopMargin()}getValidItemFromEvent(h,d){h.preventDefault(),h.stopPropagation(),At.checkTouchEvent(h);const m=this.gridster.el.getBoundingClientRect(),f=this.getPixelsX(h,m),k=this.getPixelsY(h,m),M={x:this.gridster.pixelsToPositionX(f,Math.floor,!0),y:this.gridster.pixelsToPositionY(k,Math.floor,!0),cols:this.gridster.$options.defaultItemCols,rows:this.gridster.$options.defaultItemRows};if(d&&(M.cols=Math.min(Math.abs(d.x-M.x)+1,this.gridster.$options.emptyCellDragMaxCols),M.rows=Math.min(Math.abs(d.y-M.y)+1,this.gridster.$options.emptyCellDragMaxRows),d.x<M.x?M.x=d.x:d.x-M.x>this.gridster.$options.emptyCellDragMaxCols-1&&(M.x=this.gridster.movingItem?this.gridster.movingItem.x:0),d.y<M.y?M.y=d.y:d.y-M.y>this.gridster.$options.emptyCellDragMaxRows-1&&(M.y=this.gridster.movingItem?this.gridster.movingItem.y:0)),this.gridster.$options.enableOccupiedCellDrop||!this.gridster.checkCollision(M))return M}}class ii{constructor(h){this.gridster=h,this.lastGridColumnStyles={},this.lastGridRowStyles={}}destroy(){this.gridster=null}updateItem(h,d,m){if(this.gridster.mobile)this.clearCellPosition(m,h),m.setStyle(h,"height",this.gridster.$options.keepFixedHeightInMobile?(d.rows-1)*this.gridster.$options.margin+d.rows*this.gridster.$options.fixedRowHeight+"px":d.rows*this.gridster.curWidth/d.cols+"px"),m.setStyle(h,"width",this.gridster.$options.keepFixedWidthInMobile?this.gridster.$options.fixedColWidth+"px":""),m.setStyle(h,"margin-bottom",this.gridster.$options.margin+"px"),m.setStyle(h,It.LTR?"margin-right":"margin-left","");else{const f=Math.round(this.gridster.curColWidth*d.x),k=Math.round(this.gridster.curRowHeight*d.y),M=this.gridster.curColWidth*d.cols-this.gridster.$options.margin,J=this.gridster.curRowHeight*d.rows-this.gridster.$options.margin;this.setCellPosition(m,h,f,k),m.setStyle(h,"width",M+"px"),m.setStyle(h,"height",J+"px");let it=null,at=null;this.gridster.$options.outerMargin&&(this.gridster.rows===d.rows+d.y&&(it=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginBottom+"px":this.gridster.$options.margin+"px"),this.gridster.columns===d.cols+d.x&&(at=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginRight+"px":this.gridster.$options.margin+"px")),m.setStyle(h,"margin-bottom",it),m.setStyle(h,It.LTR?"margin-right":"margin-left",at)}}updateGridster(){let h="",d="",m="",f="";if(this.gridster.$options.gridType===ct.Fit)h=ct.Fit,d=ct.ScrollVertical,m=ct.ScrollHorizontal,f=ct.Fixed;else if(this.gridster.$options.gridType===ct.ScrollVertical)this.gridster.curRowHeight=this.gridster.curColWidth*this.gridster.$options.rowHeightRatio,h=ct.ScrollVertical,d=ct.Fit,m=ct.ScrollHorizontal,f=ct.Fixed;else if(this.gridster.$options.gridType===ct.ScrollHorizontal){const k=this.gridster.$options.rowHeightRatio;this.gridster.curColWidth=this.gridster.curRowHeight*(k>=1?k:k+1),h=ct.ScrollHorizontal,d=ct.Fit,m=ct.ScrollVertical,f=ct.Fixed}else this.gridster.$options.gridType===ct.Fixed?(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),h=ct.Fixed,d=ct.Fit,m=ct.ScrollVertical,f=ct.ScrollHorizontal):this.gridster.$options.gridType===ct.VerticalFixed?(this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),h=ct.ScrollVertical,d=ct.Fit,m=ct.ScrollHorizontal,f=ct.Fixed):this.gridster.$options.gridType===ct.HorizontalFixed&&(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),h=ct.ScrollHorizontal,d=ct.Fit,m=ct.ScrollVertical,f=ct.Fixed);this.gridster.mobile||this.gridster.$options.setGridSize&&this.gridster.$options.gridType!==ct.Fit?this.gridster.renderer.removeClass(this.gridster.el,h):this.gridster.renderer.addClass(this.gridster.el,h),this.gridster.renderer.removeClass(this.gridster.el,d),this.gridster.renderer.removeClass(this.gridster.el,m),this.gridster.renderer.removeClass(this.gridster.el,f)}getGridColumnStyle(h){const d={left:this.gridster.curColWidth*h,width:this.gridster.curColWidth-this.gridster.$options.margin,height:this.gridster.gridRows.length*this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};d.style={...this.getLeftPosition(d.left),width:d.width+"px",height:d.height+"px"};const m=this.lastGridColumnStyles[h];return m&&m.left===d.left&&m.width===d.width&&m.height===d.height?m.style:(this.lastGridColumnStyles[h]=d,d.style)}getGridRowStyle(h){const d={top:this.gridster.curRowHeight*h,width:this.gridster.gridColumns.length*this.gridster.curColWidth+this.gridster.$options.margin,height:this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};d.style={...this.getTopPosition(d.top),width:d.width+"px",height:d.height+"px"};const m=this.lastGridRowStyles[h];return m&&m.top===d.top&&m.width===d.width&&m.height===d.height?m.style:(this.lastGridRowStyles[h]=d,d.style)}getLeftPosition(h){const d=this.gridster.$options.dirType===It.RTL?-h:h;return this.gridster.$options.useTransformPositioning?{transform:"translateX("+d+"px)"}:{left:this.getLeftMargin()+d+"px"}}getTopPosition(h){return this.gridster.$options.useTransformPositioning?{transform:"translateY("+h+"px)"}:{top:this.getTopMargin()+h+"px"}}clearCellPosition(h,d){this.gridster.$options.useTransformPositioning?h.setStyle(d,"transform",""):(h.setStyle(d,"top",""),h.setStyle(d,"left",""))}setCellPosition(h,d,m,f){const k=this.gridster.$options.dirType===It.RTL?-m:m;this.gridster.$options.useTransformPositioning?h.setStyle(d,"transform","translate3d("+k+"px, "+f+"px, 0)"):(h.setStyle(d,"left",this.getLeftMargin()+k+"px"),h.setStyle(d,"top",this.getTopMargin()+f+"px"))}getLeftMargin(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginLeft?this.gridster.$options.outerMarginLeft:this.gridster.$options.margin:0}getTopMargin(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginTop?this.gridster.$options.outerMarginTop:this.gridster.$options.margin:0}}let be,se,Oe=(()=>{class y{constructor(d,m){this.renderer=m,this.el=d.nativeElement}ngOnInit(){this.sub=this.previewStyle$.subscribe(d=>this.previewStyle(d))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}previewStyle(d){d?(this.renderer.setStyle(this.el,"display","block"),this.gridRenderer.updateItem(this.el,d,this.renderer)):this.renderer.setStyle(this.el,"display","")}static#t=this.\u0275fac=function(m){return new(m||y)(v.Y36(v.SBq),v.Y36(v.Qsj))};static#e=this.\u0275cmp=v.Xpm({type:y,selectors:[["gridster-preview"]],inputs:{previewStyle$:"previewStyle$",gridRenderer:"gridRenderer"},standalone:!0,features:[v.jDz],decls:0,vars:0,template:function(m,f){},styles:["gridster-preview{position:absolute;display:none;background:rgba(0,0,0,.15)}\n"],encapsulation:2})}return y})(),ni=(()=>{class y{constructor(d,m,f,k){this.renderer=m,this.cdRef=f,this.zone=k,this.columns=0,this.rows=0,this.gridColumns=[],this.gridRows=[],this.previewStyle$=new v.vpe,this.calculateLayout$=new st.x,this.resize$=new st.x,this.destroy$=new st.x,this.optionsChanged=()=>{this.setOptions();let J,M=this.grid.length-1;for(;M>=0;M--)J=this.grid[M],J.updateOptions();this.calculateLayout()},this.onResize=()=>{this.el.clientWidth&&(this.options.setGridSize&&(this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.setGridSize(),this.calculateLayout())},this.getNextPossiblePosition=(M,J={})=>{-1===M.cols&&(M.cols=this.$options.defaultItemCols),-1===M.rows&&(M.rows=this.$options.defaultItemRows),this.setGridDimensions();let at,it=J.y||0;for(;it<this.rows;it++)for(M.y=it,at=J.x||0;at<this.columns;at++)if(M.x=at,!this.checkCollision(M))return!0;const wt=this.$options.maxRows>=this.rows+M.rows;return this.rows<=this.columns&&wt||!(this.$options.maxCols>=this.columns+M.cols)?!!wt&&(M.y=this.rows,M.x=0,!0):(M.x=this.columns,M.y=0,!0)},this.getFirstPossiblePosition=M=>{const J=Object.assign({},M);return this.getNextPossiblePosition(J),J},this.getLastPossiblePosition=M=>{let J={y:0,x:0};J=this.grid.reduce((at,wt)=>{const Zt={y:wt.$item.y+wt.$item.rows-1,x:wt.$item.x+wt.$item.cols-1};return 1===At.compareItems(at,Zt)?Zt:at},J);const it=Object.assign({},M);return this.getNextPossiblePosition(it,J),it},this.el=d.nativeElement,this.$options=JSON.parse(JSON.stringify(fi)),this.mobile=!1,this.curWidth=0,this.curHeight=0,this.grid=[],this.curColWidth=0,this.curRowHeight=0,this.dragInProgress=!1,this.emptyCell=new ft(this),this.compact=new $i(this),this.gridRenderer=new ii(this)}static checkCollisionTwoItemsForSwaping(d,m){return d.x+(1===d.cols?0:1)<m.x+m.cols&&d.x+d.cols>m.x+(1===m.cols?0:1)&&d.y+(1===d.rows?0:1)<m.y+m.rows&&d.y+d.rows>m.y+(1===m.rows?0:1)}checkCollisionTwoItems(d,m){if(!(d.x<m.x+m.cols&&d.x+d.cols>m.x&&d.y<m.y+m.rows&&d.y+d.rows>m.y))return!1;if(!this.$options.allowMultiLayer)return!0;const k=this.$options.defaultLayerIndex;return(void 0===d.layerIndex?k:d.layerIndex)===(void 0===m.layerIndex?k:m.layerIndex)}ngOnInit(){this.options.initCallback&&this.options.initCallback(this),this.calculateLayout$.pipe((0,rt.b)(0),(0,gt.R)(this.destroy$)).subscribe(()=>this.calculateLayout()),this.resize$.pipe((0,tt.w)(()=>(0,r.H)(100)),(0,gt.R)(this.destroy$)).subscribe(()=>this.resize())}ngOnChanges(d){d.options&&(this.setOptions(),this.options.api={optionsChanged:this.optionsChanged,resize:this.onResize,getNextPossiblePosition:this.getNextPossiblePosition,getFirstPossiblePosition:this.getFirstPossiblePosition,getLastPossiblePosition:this.getLastPossiblePosition,getItemComponent:m=>this.getItemComponent(m)},this.columns=this.$options.minCols,this.rows=this.$options.minRows+this.$options.addEmptyRowsCount,this.setGridSize(),this.calculateLayout())}resize(){let d,m;"fit"!==this.$options.gridType||this.mobile?(m=this.el.clientWidth,d=this.el.clientHeight):(m=this.el.offsetWidth,d=this.el.offsetHeight),(m!==this.curWidth||d!==this.curHeight)&&this.checkIfToResize()&&this.onResize()}setOptions(){this.$options=At.merge(this.$options,this.options,this.$options),this.$options.disableWindowResize||this.windowResize?this.$options.disableWindowResize&&this.windowResize&&(this.windowResize(),this.windowResize=null):this.windowResize=this.renderer.listen("window","resize",this.onResize),this.emptyCell.updateOptions()}ngOnDestroy(){this.destroy$.next(),this.previewStyle$.complete(),this.windowResize&&this.windowResize(),this.options&&this.options.destroyCallback&&this.options.destroyCallback(this),this.options&&this.options.api&&(this.options.api.resize=void 0,this.options.api.optionsChanged=void 0,this.options.api.getNextPossiblePosition=void 0,this.options.api=void 0),this.emptyCell.destroy(),this.emptyCell=null,this.compact.destroy(),this.compact=null}checkIfToResize(){const d=this.el.clientWidth,m=this.el.offsetWidth,f=this.el.scrollWidth,k=this.el.clientHeight,M=this.el.offsetHeight,J=this.el.scrollHeight;return!(d<m&&J>M&&J-M<m-d||k<M&&f>m&&f-m<M-k)}checkIfMobile(){return this.$options.useBodyForBreakpoint?this.$options.mobileBreakpoint>document.body.clientWidth:this.$options.mobileBreakpoint>this.curWidth}setGridSize(){const d=this.el;let m,f;this.$options.setGridSize||this.$options.gridType===ct.Fit&&!this.mobile?(m=d.offsetWidth,f=d.offsetHeight):(m=d.clientWidth,f=d.clientHeight),this.curWidth=m,this.curHeight=f}setGridDimensions(){this.setGridSize(),!this.mobile&&this.checkIfMobile()?(this.mobile=!this.mobile,this.renderer.addClass(this.el,"mobile")):this.mobile&&!this.checkIfMobile()&&(this.mobile=!this.mobile,this.renderer.removeClass(this.el,"mobile"));let k,d=this.$options.minRows,m=this.$options.minCols,f=this.grid.length-1;for(;f>=0;f--)k=this.grid[f],k.notPlaced||(d=Math.max(d,k.$item.y+k.$item.rows),m=Math.max(m,k.$item.x+k.$item.cols));d+=this.$options.addEmptyRowsCount,(this.columns!==m||this.rows!==d)&&(this.columns=m,this.rows=d,this.options.gridSizeChangedCallback&&this.options.gridSizeChangedCallback(this))}calculateLayout(){if(this.compact&&this.compact.checkCompact(),this.setGridDimensions(),this.$options.outerMargin){let f=-this.$options.margin;null!==this.$options.outerMarginLeft?(f+=this.$options.outerMarginLeft,this.renderer.setStyle(this.el,"padding-left",this.$options.outerMarginLeft+"px")):(f+=this.$options.margin,this.renderer.setStyle(this.el,"padding-left",this.$options.margin+"px")),null!==this.$options.outerMarginRight?(f+=this.$options.outerMarginRight,this.renderer.setStyle(this.el,"padding-right",this.$options.outerMarginRight+"px")):(f+=this.$options.margin,this.renderer.setStyle(this.el,"padding-right",this.$options.margin+"px")),this.curColWidth=(this.curWidth-f)/this.columns;let k=-this.$options.margin;null!==this.$options.outerMarginTop?(k+=this.$options.outerMarginTop,this.renderer.setStyle(this.el,"padding-top",this.$options.outerMarginTop+"px")):(k+=this.$options.margin,this.renderer.setStyle(this.el,"padding-top",this.$options.margin+"px")),null!==this.$options.outerMarginBottom?(k+=this.$options.outerMarginBottom,this.renderer.setStyle(this.el,"padding-bottom",this.$options.outerMarginBottom+"px")):(k+=this.$options.margin,this.renderer.setStyle(this.el,"padding-bottom",this.$options.margin+"px")),this.curRowHeight=(this.curHeight-k)/this.rows*this.$options.rowHeightRatio}else this.curColWidth=(this.curWidth+this.$options.margin)/this.columns,this.curRowHeight=(this.curHeight+this.$options.margin)/this.rows*this.$options.rowHeightRatio,this.renderer.setStyle(this.el,"padding-left","0px"),this.renderer.setStyle(this.el,"padding-right","0px"),this.renderer.setStyle(this.el,"padding-top","0px"),this.renderer.setStyle(this.el,"padding-bottom","0px");this.gridRenderer.updateGridster(),this.$options.setGridSize?(this.renderer.addClass(this.el,"gridSize"),this.mobile||(this.renderer.setStyle(this.el,"width",this.columns*this.curColWidth+this.$options.margin+"px"),this.renderer.setStyle(this.el,"height",this.rows*this.curRowHeight+this.$options.margin+"px"))):(this.renderer.removeClass(this.el,"gridSize"),this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.updateGrid();let m,d=this.grid.length-1;for(;d>=0;d--)m=this.grid[d],m.setSize(),m.drag.toggle(),m.resize.toggle();this.resize$.next()}updateGrid(){"always"!==this.$options.displayGrid||this.mobile?"onDrag&Resize"===this.$options.displayGrid&&this.dragInProgress?this.renderer.addClass(this.el,"display-grid"):("none"===this.$options.displayGrid||!this.dragInProgress||this.mobile)&&this.renderer.removeClass(this.el,"display-grid"):this.renderer.addClass(this.el,"display-grid"),this.setGridDimensions(),this.gridColumns.length=y.getNewArrayLength(this.columns,this.curWidth,this.curColWidth),this.gridRows.length=y.getNewArrayLength(this.rows,this.curHeight,this.curRowHeight),this.cdRef.markForCheck()}addItem(d){void 0===d.$item.cols&&(d.$item.cols=this.$options.defaultItemCols,d.item.cols=d.$item.cols,d.itemChanged()),void 0===d.$item.rows&&(d.$item.rows=this.$options.defaultItemRows,d.item.rows=d.$item.rows,d.itemChanged()),-1===d.$item.x||-1===d.$item.y?this.autoPositionItem(d):this.checkCollision(d.$item)&&(this.$options.disableWarnings||(d.notPlaced=!0,console.warn("Can't be placed in the bounds of the dashboard, trying to auto position!/n"+JSON.stringify(d.item,["cols","rows","x","y"]))),this.$options.disableAutoPositionOnConflict?d.notPlaced=!0:this.autoPositionItem(d)),this.grid.push(d),this.calculateLayout$.next()}removeItem(d){this.grid.splice(this.grid.indexOf(d),1),this.calculateLayout$.next(),this.options.itemRemovedCallback&&this.options.itemRemovedCallback(d.item,d)}checkCollision(d){let m=!1;if(this.options.itemValidateCallback&&(m=!this.options.itemValidateCallback(d)),!m&&this.checkGridCollision(d)&&(m=!0),!m){const f=this.findItemWithItem(d);f&&(m=f)}return m}checkGridCollision(d){const Xt=d.cols*d.rows;return!(d.y>-1&&d.x>-1&&d.cols+d.x<=this.$options.maxCols&&d.rows+d.y<=this.$options.maxRows&&d.cols<=(void 0===d.maxItemCols?this.$options.maxItemCols:d.maxItemCols)&&d.cols>=(void 0===d.minItemCols?this.$options.minItemCols:d.minItemCols)&&d.rows<=(void 0===d.maxItemRows?this.$options.maxItemRows:d.maxItemRows)&&d.rows>=(void 0===d.minItemRows?this.$options.minItemRows:d.minItemRows)&&(void 0===d.minItemArea?this.$options.minItemArea:d.minItemArea)<=Xt&&(void 0===d.maxItemArea?this.$options.maxItemArea:d.maxItemArea)>=Xt)}findItemWithItem(d){let f,m=0;for(;m<this.grid.length;m++)if(f=this.grid[m],f.$item!==d&&this.checkCollisionTwoItems(f.$item,d))return f;return!1}findItemsWithItem(d){const m=[];let k,f=0;for(;f<this.grid.length;f++)k=this.grid[f],k.$item!==d&&this.checkCollisionTwoItems(k.$item,d)&&m.push(k);return m}autoPositionItem(d){this.getNextPossiblePosition(d.$item)?(d.notPlaced=!1,d.item.x=d.$item.x,d.item.y=d.$item.y,d.itemChanged()):(d.notPlaced=!0,this.$options.disableWarnings||console.warn("Can't be placed in the bounds of the dashboard!/n"+JSON.stringify(d.item,["cols","rows","x","y"])))}pixelsToPositionX(d,m,f){const k=m(d/this.curColWidth);return f?k:Math.max(k,0)}pixelsToPositionY(d,m,f){const k=m(d/this.curRowHeight);return f?k:Math.max(k,0)}positionXToPixels(d){return d*this.curColWidth}positionYToPixels(d){return d*this.curRowHeight}getItemComponent(d){return this.grid.find(m=>m.item===d)}checkCollisionForSwaping(d){let m=!1;if(this.options.itemValidateCallback&&(m=!this.options.itemValidateCallback(d)),!m&&this.checkGridCollision(d)&&(m=!0),!m){const f=this.findItemWithItemForSwapping(d);f&&(m=f)}return m}findItemWithItemForSwapping(d){let f,m=this.grid.length-1;for(;m>-1;m--)if(f=this.grid[m],f.$item!==d&&y.checkCollisionTwoItemsForSwaping(f.$item,d))return f;return!1}previewStyle(d=!1){this.movingItem?(this.compact&&d&&this.compact.checkCompactItem(this.movingItem),this.previewStyle$.next(this.movingItem)):this.previewStyle$.next(null)}static getNewArrayLength(d,m,f){const k=Math.max(d,Math.floor(m/f));return k<0?0:Number.isFinite(k)?Math.floor(k):0}static#t=this.\u0275fac=function(m){return new(m||y)(v.Y36(v.SBq),v.Y36(v.Qsj),v.Y36(v.sBO),v.Y36(v.R0b))};static#e=this.\u0275cmp=v.Xpm({type:y,selectors:[["gridster"]],inputs:{options:"options"},standalone:!0,features:[v.TTD,v.jDz],ngContentSelectors:et,decls:4,vars:4,consts:[["class","gridster-column",3,"ngStyle",4,"ngFor","ngForOf"],["class","gridster-row",3,"ngStyle",4,"ngFor","ngForOf"],[1,"gridster-preview",3,"gridRenderer","previewStyle$"],[1,"gridster-column",3,"ngStyle"],[1,"gridster-row",3,"ngStyle"]],template:function(m,f){1&m&&(v.F$t(),v.YNc(0,Z,1,1,"div",0),v.YNc(1,H,1,1,"div",1),v.Hsn(2),v._UZ(3,"gridster-preview",2)),2&m&&(v.Q6J("ngForOf",f.gridColumns),v.xp6(1),v.Q6J("ngForOf",f.gridRows),v.xp6(2),v.Q6J("gridRenderer",f.gridRenderer)("previewStyle$",f.previewStyle$))},dependencies:[n.sg,n.PC,Oe],styles:["gridster{position:relative;box-sizing:border-box;background:grey;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:block}gridster.fit{overflow-x:hidden;overflow-y:hidden}gridster.scrollVertical{overflow-x:hidden;overflow-y:auto}gridster.scrollHorizontal{overflow-x:auto;overflow-y:hidden}gridster.fixed{overflow:auto}gridster.mobile{overflow-x:hidden;overflow-y:auto}gridster.mobile gridster-item{position:relative}gridster.gridSize{height:initial;width:initial}gridster.gridSize.fit{height:100%;width:100%}gridster .gridster-column,gridster .gridster-row{position:absolute;display:none;transition:.3s;box-sizing:border-box}gridster.display-grid .gridster-column,gridster.display-grid .gridster-row{display:block}gridster .gridster-column{border-left:1px solid white;border-right:1px solid white}gridster .gridster-row{border-top:1px solid white;border-bottom:1px solid white}\n"],encapsulation:2})}return y})();class si{constructor(h){this.iteration=0,this.pushedItems=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],this.pushedItemsPath=[],this.gridsterItem=h,this.gridster=h.gridster,this.tryPattern={fromEast:[this.tryWest,this.trySouth,this.tryNorth,this.tryEast],fromWest:[this.tryEast,this.trySouth,this.tryNorth,this.tryWest],fromNorth:[this.trySouth,this.tryEast,this.tryWest,this.tryNorth],fromSouth:[this.tryNorth,this.tryEast,this.tryWest,this.trySouth]},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){this.gridster=this.gridsterItem=null}pushItems(h,d){if(this.gridster.$options.pushItems&&!d){this.pushedItemsOrder=[],this.iteration=0;const m=this.push(this.gridsterItem,h);return m||this.restoreTempItems(),this.pushedItemsOrder=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],m}return!1}restoreTempItems(){let h=this.pushedItemsTemp.length-1;for(;h>-1;h--)this.removeFromTempPushed(this.pushedItemsTemp[h])}restoreItems(){let h=0;const d=this.pushedItems.length;let m;for(;h<d;h++)m=this.pushedItems[h],m.$item.x=m.item.x||0,m.$item.y=m.item.y||0,m.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let h=0;const d=this.pushedItems.length;let m;for(;h<d;h++)m=this.pushedItems[h],m.checkItemChanges(m.$item,m.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let h=this.pushedItems.length-1,d=!1;for(;h>-1;h--)this.checkPushedItem(this.pushedItems[h],h)&&(d=!0);d&&this.checkPushBack()}push(h,d){if(this.iteration>100)return console.warn("max iteration reached"),!1;if(this.gridster.checkGridCollision(h.$item)||""===d)return!1;const m=this.gridster.findItemsWithItem(h.$item),f=d===this.fromNorth||d===this.fromWest;m.sort((at,wt)=>f?wt.$item.y-at.$item.y||wt.$item.x-at.$item.x:at.$item.y-wt.$item.y||at.$item.x-wt.$item.x);let M,k=0,J=!0;const it=[];for(;k<m.length;k++){if(M=m[k],M===this.gridsterItem)continue;if(!M.canBeDragged()){J=!1;break}const at=this.pushedItemsTemp.indexOf(M);if(at>-1&&this.pushedItemsTempPath[at].length>10){J=!1;break}if(this.tryPattern[d][0].call(this,M,h))this.pushedItemsOrder.push(M),it.push(M);else if(this.tryPattern[d][1].call(this,M,h))this.pushedItemsOrder.push(M),it.push(M);else if(this.tryPattern[d][2].call(this,M,h))this.pushedItemsOrder.push(M),it.push(M);else{if(!this.tryPattern[d][3].call(this,M,h)){J=!1;break}this.pushedItemsOrder.push(M),it.push(M)}}if(!J&&(k=this.pushedItemsOrder.lastIndexOf(it[0]),k>-1)){let at=this.pushedItemsOrder.length-1;for(;at>=k;at--)M=this.pushedItemsOrder[at],this.pushedItemsOrder.pop(),this.removeFromTempPushed(M),this.removeFromPushedItem(M)}return this.iteration++,J}trySouth(h,d){return!!this.gridster.$options.pushDirections.south&&(this.addToTempPushed(h),h.$item.y=d.$item.y+d.$item.rows,this.push(h,this.fromNorth)?(h.setSize(),this.addToPushed(h),!0):(this.removeFromTempPushed(h),!1))}tryNorth(h,d){return!!this.gridster.$options.pushDirections.north&&(this.addToTempPushed(h),h.$item.y=d.$item.y-h.$item.rows,this.push(h,this.fromSouth)?(h.setSize(),this.addToPushed(h),!0):(this.removeFromTempPushed(h),!1))}tryEast(h,d){return!!this.gridster.$options.pushDirections.east&&(this.addToTempPushed(h),h.$item.x=d.$item.x+d.$item.cols,this.push(h,this.fromWest)?(h.setSize(),this.addToPushed(h),!0):(this.removeFromTempPushed(h),!1))}tryWest(h,d){return!!this.gridster.$options.pushDirections.west&&(this.addToTempPushed(h),h.$item.x=d.$item.x-h.$item.cols,this.push(h,this.fromEast)?(h.setSize(),this.addToPushed(h),!0):(this.removeFromTempPushed(h),!1))}addToTempPushed(h){let d=this.pushedItemsTemp.indexOf(h);-1===d&&(d=this.pushedItemsTemp.push(h)-1,this.pushedItemsTempPath[d]=[]),this.pushedItemsTempPath[d].push({x:h.$item.x,y:h.$item.y})}removeFromTempPushed(h){const d=this.pushedItemsTemp.indexOf(h),m=this.pushedItemsTempPath[d].pop();m&&(h.$item.x=m.x,h.$item.y=m.y,h.setSize(),this.pushedItemsTempPath[d].length||(this.pushedItemsTemp.splice(d,1),this.pushedItemsTempPath.splice(d,1)))}addToPushed(h){if(this.pushedItems.indexOf(h)<0)this.pushedItems.push(h),this.pushedItemsPath.push([{x:h.item.x||0,y:h.item.y||0},{x:h.$item.x,y:h.$item.y}]);else{const d=this.pushedItems.indexOf(h);this.pushedItemsPath[d].push({x:h.$item.x,y:h.$item.y})}}removeFromPushed(h){h>-1&&(this.pushedItems.splice(h,1),this.pushedItemsPath.splice(h,1))}removeFromPushedItem(h){const d=this.pushedItems.indexOf(h);d>-1&&(this.pushedItemsPath[d].pop(),this.pushedItemsPath.length||(this.pushedItems.splice(d,1),this.pushedItemsPath.splice(d,1)))}checkPushedItem(h,d){const m=this.pushedItemsPath[d];let k,M,J,f=m.length-2,it=!1;for(;f>-1;f--)k=m[f],M=h.$item.x,J=h.$item.y,h.$item.x=k.x,h.$item.y=k.y,this.gridster.findItemWithItem(h.$item)?(h.$item.x=M,h.$item.y=J):(h.setSize(),m.splice(f+1,m.length-f-1),it=!0);return m.length<2&&this.removeFromPushed(d),it}}const ai=50;let zt,ae,Rt,ce,we,Se,ke;function Ye(y,h,d,m,f,k,M,J,it,at){be=y.$options.scrollSensitivity,se=y.$options.scrollSpeed,zt=y.el,ae=it,Rt=at;const wt=zt.offsetWidth,oe=zt.scrollLeft,he=zt.scrollTop,Xt=d-he,de=zt.offsetHeight+he-d-f,{clientX:_e,clientY:Ti}=k;if(!y.$options.disableScrollVertical)if(M.clientY<Ti&&de<be){if(li(),ae&&Rt&&!Rt.south||ke)return;ke=Ae(1,J,M)}else if(M.clientY>Ti&&he>0&&Xt<be){if(Ge(),ae&&Rt&&!Rt.north||Se)return;Se=Ae(-1,J,M)}else M.clientY!==Ti&&fe();const sn=h-oe;if(!y.$options.disableScrollHorizontal)if(M.clientX<_e&&oe+wt-h-m<=be){if(xe(),ae&&Rt&&!Rt.east||ce)return;ce=pe(1,J,M)}else if(M.clientX>_e&&oe>0&&sn<be){if(ri(),ae&&Rt&&!Rt.west||we)return;we=pe(-1,J,M)}else M.clientX!==_e&&We()}function Ae(y,h,d){let m=d.clientY;return window.setInterval(()=>{(!zt||-1===y&&zt.scrollTop-se<0)&&fe(),zt.scrollTop+=y*se,m+=y*se,h({clientX:d.clientX,clientY:m})},ai)}function pe(y,h,d){let m=d.clientX;return window.setInterval(()=>{(!zt||-1===y&&zt.scrollLeft-se<0)&&We(),zt.scrollLeft+=y*se,m+=y*se,h({clientX:m,clientY:d.clientY})},ai)}function oi(){We(),fe(),zt=null}function We(){ri(),xe()}function fe(){li(),Ge()}function ri(){ce&&(clearInterval(ce),ce=0)}function xe(){we&&(clearInterval(we),we=0)}function Ge(){ke&&(clearInterval(ke),ke=0)}function li(){Se&&(clearInterval(Se),Se=0)}class xi{constructor(h){this.gridsterItem=h,this.gridster=h.gridster}destroy(){this.gridster=this.gridsterItem=this.swapedItem=null}swapItems(){this.gridster.$options.swap&&(this.checkSwapBack(),this.checkSwap(this.gridsterItem))}checkSwapBack(){if(this.swapedItem){const h=this.swapedItem.$item.x,d=this.swapedItem.$item.y;this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.gridster.checkCollision(this.swapedItem.$item)?(this.swapedItem.$item.x=h,this.swapedItem.$item.y=d):(this.swapedItem.setSize(),this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.swapedItem=void 0)}}restoreSwapItem(){this.swapedItem&&(this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.swapedItem.setSize(),this.swapedItem=void 0)}setSwapItem(){this.swapedItem&&(this.swapedItem.checkItemChanges(this.swapedItem.$item,this.swapedItem.item),this.swapedItem=void 0)}checkSwap(h){let d;if(d=this.gridster.$options.swapWhileDragging?this.gridster.checkCollisionForSwaping(h.$item):this.gridster.checkCollision(h.$item),d&&!0!==d&&d.canBeDragged()){const m=d,f=m.$item.x,k=m.$item.y,M=h.$item.x,J=h.$item.y,it=M-f,at=J-k;m.$item.x=h.item.x-it,m.$item.y=h.item.y-at,h.$item.x=m.item.x+it,h.$item.y=m.item.y+at,this.gridster.checkCollision(m.$item)||this.gridster.checkCollision(h.$item)?(h.$item.x=M,h.$item.y=J,m.$item.x=f,m.$item.y=k):(m.setSize(),this.swapedItem=m,this.gridster.$options.swapWhileDragging&&(this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.setSwapItem()))}}}var Yt=function(y){return y.UP="UP",y.DOWN="DOWN",y.LEFT="LEFT",y.RIGHT="RIGHT",y}(Yt||{});class ci{constructor(h,d,m){this.zone=m,this.collision=!1,this.dragMove=f=>{f.stopPropagation(),f.preventDefault(),At.checkTouchEvent(f);let k=this.getDirections(f);this.gridster.options.enableBoundaryControl&&(k.includes(Yt.UP)&&this.gridsterItem.el.getBoundingClientRect().top<this.gridster.el.getBoundingClientRect().top+(this.outerMarginTop??this.margin)&&(k=k.filter(M=>M!=Yt.UP),f=new MouseEvent(f.type,{clientX:f.clientX,clientY:this.lastMouse.clientY})),k.includes(Yt.LEFT)&&this.gridsterItem.el.getBoundingClientRect().left<this.gridster.el.getBoundingClientRect().left+(this.outerMarginLeft??this.margin)&&(k=k.filter(M=>M!=Yt.LEFT),f=new MouseEvent(f.type,{clientX:this.lastMouse.clientX,clientY:f.clientY})),k.includes(Yt.RIGHT)&&this.gridsterItem.el.getBoundingClientRect().right>this.gridster.el.getBoundingClientRect().right-(this.outerMarginRight??this.margin)&&(k=k.filter(M=>M!=Yt.RIGHT),f=new MouseEvent(f.type,{clientX:this.lastMouse.clientX,clientY:f.clientY})),k.includes(Yt.DOWN)&&this.gridsterItem.el.getBoundingClientRect().bottom>this.gridster.el.getBoundingClientRect().bottom-(this.outerMarginBottom??this.margin)&&(k=k.filter(M=>M!=Yt.DOWN),f=new MouseEvent(f.type,{clientX:f.clientX,clientY:this.lastMouse.clientY}))),k.length&&(this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,Ye(this.gridster,this.left,this.top,this.width,this.height,f,this.lastMouse,this.calculateItemPositionFromMousePosition),this.calculateItemPositionFromMousePosition(f))},this.calculateItemPositionFromMousePosition=f=>{this.gridster.options.scale?this.calculateItemPositionWithScale(f,this.gridster.options.scale):this.calculateItemPositionWithoutScale(f),this.calculateItemPosition(),this.lastMouse.clientX=f.clientX,this.lastMouse.clientY=f.clientY,this.zone.run(()=>{this.gridster.updateGrid()})},this.dragStop=f=>{f.stopPropagation(),f.preventDefault(),oi(),this.cancelOnBlur(),this.mousemove(),this.mouseup(),this.mouseleave(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-moving"),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.path=[],this.gridster.options.draggable&&this.gridster.options.draggable.stop?Promise.resolve(this.gridster.options.draggable.stop(this.gridsterItem.item,this.gridsterItem,f)).then(this.makeDrag,this.cancelDrag):this.makeDrag(),setTimeout(()=>{this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle(!0))})},this.cancelDrag=()=>{this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push&&this.push.restoreItems(),this.swap&&this.swap.restoreSwapItem(),this.push&&(this.push.destroy(),this.push=null),this.swap&&(this.swap.destroy(),this.swap=null)},this.makeDrag=()=>{this.gridster.$options.draggable.dropOverItems&&this.gridster.options.draggable&&this.gridster.options.draggable.dropOverItemsCallback&&this.collision&&!0!==this.collision&&this.collision.$item&&this.gridster.options.draggable.dropOverItemsCallback(this.gridsterItem.item,this.collision.item,this.gridster),this.collision=!1,this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push&&this.push.setPushedItems(),this.swap&&this.swap.setSwapItem(),this.push&&(this.push.destroy(),this.push=null),this.swap&&(this.swap.destroy(),this.swap=null)},this.dragStartDelay=f=>{if(f.target.classList.contains("gridster-item-resizable-handler")||At.checkContentClassForEvent(this.gridster,f))return;if(At.checkTouchEvent(f),!this.gridster.$options.draggable.delayStart)return void this.dragStart(f);const M=setTimeout(()=>{this.dragStart(f),Xt()},this.gridster.$options.draggable.delayStart),J=this.gridsterItem.renderer.listen("document","mouseup",Xt),it=this.gridsterItem.renderer.listen("document","mouseleave",Xt),at=this.gridsterItem.renderer.listen("window","blur",Xt),wt=this.gridsterItem.renderer.listen("document","touchmove",function he(de){At.checkTouchEvent(de),(Math.abs(de.clientX-f.clientX)>9||Math.abs(de.clientY-f.clientY)>9)&&Xt()}),Zt=this.gridsterItem.renderer.listen("document","touchend",Xt),oe=this.gridsterItem.renderer.listen("document","touchcancel",Xt);function Xt(){clearTimeout(M),at(),J(),it(),wt(),Zt(),oe()}},this.gridsterItem=h,this.gridster=d,this.lastMouse={clientX:0,clientY:0},this.path=[]}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(!0),this.gridsterItem=this.gridster=this.collision=null,this.mousedown&&(this.mousedown(),this.touchstart())}dragStart(h){h.which&&1!==h.which||(this.gridster.options.draggable&&this.gridster.options.draggable.start&&this.gridster.options.draggable.start(this.gridsterItem.item,this.gridsterItem,h),h.stopPropagation(),h.preventDefault(),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragMove),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-moving"),this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.left=this.gridsterItem.left-this.margin,this.top=this.gridsterItem.top-this.margin,this.originalClientX=h.clientX,this.originalClientY=h.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.diffLeft=this.gridster.$options.dirType===It.RTL?h.clientX-this.gridster.el.scrollWidth+this.gridsterItem.left:h.clientX+this.offsetLeft-this.margin-this.left,this.diffTop=h.clientY+this.offsetTop-this.margin-this.top,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(!0),this.push=new si(this.gridsterItem),this.swap=new xi(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid(),this.path.push({x:this.gridsterItem.item.x||0,y:this.gridsterItem.item.y||0}))}calculateItemPositionWithScale(h,d){this.left=this.gridster.$options.dirType===It.RTL?this.gridster.el.scrollWidth-this.originalClientX+(h.clientX-this.originalClientX)/d+this.diffLeft:this.originalClientX+(h.clientX-this.originalClientX)/d+this.offsetLeft-this.diffLeft,this.top=this.originalClientY+(h.clientY-this.originalClientY)/d+this.offsetTop-this.diffTop}calculateItemPositionWithoutScale(h){this.left=this.gridster.$options.dirType===It.RTL?this.gridster.el.scrollWidth-h.clientX+this.diffLeft:h.clientX+this.offsetLeft-this.diffLeft,this.top=h.clientY+this.offsetTop-this.diffTop}calculateItemPosition(){if(this.gridster.movingItem=this.gridsterItem.$item,this.positionX=this.gridster.pixelsToPositionX(this.left,Math.round),this.positionY=this.gridster.pixelsToPositionY(this.top,Math.round),this.positionXBackup=this.gridsterItem.$item.x,this.positionYBackup=this.gridsterItem.$item.y,this.gridsterItem.$item.x=this.positionX,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.x=this.positionXBackup),this.gridsterItem.$item.y=this.positionY,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.y=this.positionYBackup),this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,this.top),this.positionXBackup!==this.gridsterItem.$item.x||this.positionYBackup!==this.gridsterItem.$item.y){const h=this.path[this.path.length-1];let d="";h.x<this.gridsterItem.$item.x?d=this.push.fromWest:h.x>this.gridsterItem.$item.x?d=this.push.fromEast:h.y<this.gridsterItem.$item.y?d=this.push.fromNorth:h.y>this.gridsterItem.$item.y&&(d=this.push.fromSouth),this.push.pushItems(d,this.gridster.$options.disablePushOnDrag),this.swap.swapItems(),this.collision=this.gridster.checkCollision(this.gridsterItem.$item),this.collision?(this.gridsterItem.$item.x=this.positionXBackup,this.gridsterItem.$item.y=this.positionYBackup,this.gridster.$options.draggable.dropOverItems&&!0!==this.collision&&this.collision.$item&&(this.gridster.movingItem=null)):this.path.push({x:this.gridsterItem.$item.x,y:this.gridsterItem.$item.y}),this.push.checkPushBack()}else this.collision=!1;this.gridster.previewStyle(!0)}toggle(){const h=this.gridsterItem.canBeDragged();!this.enabled&&h?(this.enabled=!this.enabled,this.mousedown=this.gridsterItem.renderer.listen(this.gridsterItem.el,"mousedown",this.dragStartDelay),this.touchstart=this.gridsterItem.renderer.listen(this.gridsterItem.el,"touchstart",this.dragStartDelay)):this.enabled&&!h&&(this.enabled=!this.enabled,this.mousedown(),this.touchstart())}getDirections(h){const d=[];return 0===this.lastMouse.clientX&&0===this.lastMouse.clientY&&(this.lastMouse.clientY=h.clientY,this.lastMouse.clientX=h.clientX),this.lastMouse.clientY>h.clientY&&d.push(Yt.UP),this.lastMouse.clientY<h.clientY&&d.push(Yt.DOWN),this.lastMouse.clientX<h.clientX&&d.push(Yt.RIGHT),this.lastMouse.clientX>h.clientX&&d.push(Yt.LEFT),d}}class vi{constructor(h){this.pushedItems=[],this.pushedItemsPath=[],this.gridsterItem=h,this.gridster=h.gridster,this.tryPattern={fromEast:this.tryWest,fromWest:this.tryEast,fromNorth:this.trySouth,fromSouth:this.tryNorth},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){this.gridster=this.gridsterItem=null}pushItems(h){return!!this.gridster.$options.pushResizeItems&&this.push(this.gridsterItem,h)}restoreItems(){let h=0;const d=this.pushedItems.length;let m;for(;h<d;h++)m=this.pushedItems[h],m.$item.x=m.item.x||0,m.$item.y=m.item.y||0,m.$item.cols=m.item.cols||1,m.$item.row=m.item.row||1,m.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let h=0;const d=this.pushedItems.length;let m;for(;h<d;h++)m=this.pushedItems[h],m.checkItemChanges(m.$item,m.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let h=this.pushedItems.length-1,d=!1;for(;h>-1;h--)this.checkPushedItem(this.pushedItems[h],h)&&(d=!0);d&&this.checkPushBack()}push(h,d){const m=this.gridster.checkCollision(h.$item);if(m&&!0!==m&&m!==this.gridsterItem&&m.canBeResized()){if(this.tryPattern[d].call(this,m,h,d))return!0}else if(!1===m)return!0;return!1}trySouth(h,d,m){const f=h.$item.y,k=h.$item.rows;return h.$item.y=d.$item.y+d.$item.rows,h.$item.rows=k+f-h.$item.y,this.gridster.checkCollisionTwoItems(h.$item,d.$item)||this.gridster.checkGridCollision(h.$item)?(h.$item.y=f,h.$item.rows=k,!1):(h.setSize(),this.addToPushed(h),this.push(d,m),!0)}tryNorth(h,d,m){const f=h.$item.rows;return h.$item.rows=d.$item.y-h.$item.y,this.gridster.checkCollisionTwoItems(h.$item,d.$item)||this.gridster.checkGridCollision(h.$item)?(h.$item.rows=f,!1):(h.setSize(),this.addToPushed(h),this.push(d,m),!0)}tryEast(h,d,m){const f=h.$item.x,k=h.$item.cols;return h.$item.x=d.$item.x+d.$item.cols,h.$item.cols=k+f-h.$item.x,this.gridster.checkCollisionTwoItems(h.$item,d.$item)||this.gridster.checkGridCollision(h.$item)?(h.$item.x=f,h.$item.cols=k,!1):(h.setSize(),this.addToPushed(h),this.push(d,m),!0)}tryWest(h,d,m){const f=h.$item.cols;return h.$item.cols=d.$item.x-h.$item.x,this.gridster.checkCollisionTwoItems(h.$item,d.$item)||this.gridster.checkGridCollision(h.$item)?(h.$item.cols=f,!1):(h.setSize(),this.addToPushed(h),this.push(d,m),!0)}addToPushed(h){if(this.pushedItems.indexOf(h)<0)this.pushedItems.push(h),this.pushedItemsPath.push([{x:h.item.x||0,y:h.item.y||0,cols:h.item.cols||0,rows:h.item.rows||0},{x:h.$item.x,y:h.$item.y,cols:h.$item.cols,rows:h.$item.rows}]);else{const d=this.pushedItems.indexOf(h);this.pushedItemsPath[d].push({x:h.$item.x,y:h.$item.y,cols:h.$item.cols,rows:h.$item.rows})}}removeFromPushed(h){h>-1&&(this.pushedItems.splice(h,1),this.pushedItemsPath.splice(h,1))}checkPushedItem(h,d){const m=this.pushedItemsPath[d];let k,M,J,it,at,f=m.length-2;for(;f>-1;f--)k=m[f],M=h.$item.x,J=h.$item.y,it=h.$item.cols,at=h.$item.rows,h.$item.x=k.x,h.$item.y=k.y,h.$item.cols=k.cols,h.$item.rows=k.rows,this.gridster.findItemWithItem(h.$item)?(h.$item.x=M,h.$item.y=J,h.$item.cols=it,h.$item.rows=at):(h.setSize(),m.splice(f+1,m.length-1-f));return m.length<2&&(this.removeFromPushed(d),!0)}}class yi{constructor(h,d,m){this.zone=m,this.directionFunction=null,this.dragMove=f=>{if(null===this.directionFunction)throw new Error("The `directionFunction` has not been set before calling `dragMove`.");f.stopPropagation(),f.preventDefault(),At.checkTouchEvent(f),this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,Ye(this.gridster,this.left,this.top,this.width,this.height,f,this.lastMouse,this.directionFunction,!0,this.resizeEventScrollType);const k=this.gridster.options.scale||1;this.directionFunction({clientX:this.originalClientX+(f.clientX-this.originalClientX)/k,clientY:this.originalClientY+(f.clientY-this.originalClientY)/k}),this.lastMouse.clientX=f.clientX,this.lastMouse.clientY=f.clientY,this.zone.run(()=>{this.gridster.updateGrid()})},this.dragStop=f=>{f.stopPropagation(),f.preventDefault(),oi(),this.mousemove(),this.mouseup(),this.mouseleave(),this.cancelOnBlur(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.gridster.options.resizable&&this.gridster.options.resizable.stop?Promise.resolve(this.gridster.options.resizable.stop(this.gridsterItem.item,this.gridsterItem,f)).then(this.makeResize,this.cancelResize):this.makeResize(),setTimeout(()=>{this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-resizing"),this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())})},this.cancelResize=()=>{this.gridsterItem.$item.cols=this.gridsterItem.item.cols||1,this.gridsterItem.$item.rows=this.gridsterItem.item.rows||1,this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push.restoreItems(),this.pushResize.restoreItems(),this.push.destroy(),this.push=null,this.pushResize.destroy(),this.pushResize=null},this.makeResize=()=>{this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push.setPushedItems(),this.pushResize.setPushedItems(),this.push.destroy(),this.push=null,this.pushResize.destroy(),this.pushResize=null},this.handleNorth=f=>{if(this.top=f.clientY+this.offsetTop-this.diffTop,this.height=this.bottom-this.top,this.minHeight>this.height?(this.height=this.minHeight,this.top=this.bottom-this.minHeight):this.gridster.options.enableBoundaryControl&&(this.top=Math.max(0,this.top),this.height=this.bottom-this.top),this.newPosition=this.gridster.pixelsToPositionY(this.top+(this.gridster.options.pushItems?this.margin:0),Math.floor),this.gridsterItem.$item.y!==this.newPosition){if(this.itemBackup[1]=this.gridsterItem.$item.y,this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows+=this.gridsterItem.$item.y-this.newPosition,this.gridsterItem.$item.y=this.newPosition,this.pushResize.pushItems(this.pushResize.fromSouth),this.push.pushItems(this.push.fromSouth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.y=this.itemBackup[1],this.gridsterItem.$item.rows=this.itemBackup[3],this.top=this.gridster.positionYToPixels(this.gridsterItem.$item.y),this.setItemTop(this.gridster.positionYToPixels(this.gridsterItem.$item.y)),void this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemTop(this.top),this.setItemHeight(this.height)},this.handleWest=f=>{if(this.left=(this.gridster.$options.dirType===It.RTL?this.originalClientX+(this.originalClientX-f.clientX):f.clientX)+this.offsetLeft-this.diffLeft,this.width=this.right-this.left,this.minWidth>this.width?(this.width=this.minWidth,this.left=this.right-this.minWidth):this.gridster.options.enableBoundaryControl&&(this.left=Math.max(0,this.left),this.width=this.right-this.left),this.newPosition=this.gridster.pixelsToPositionX(this.left+(this.gridster.options.pushItems?this.margin:0),Math.floor),this.gridsterItem.$item.x!==this.newPosition){if(this.itemBackup[0]=this.gridsterItem.$item.x,this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols+=this.gridsterItem.$item.x-this.newPosition,this.gridsterItem.$item.x=this.newPosition,this.pushResize.pushItems(this.pushResize.fromEast),this.push.pushItems(this.push.fromEast,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.x=this.itemBackup[0],this.gridsterItem.$item.cols=this.itemBackup[2],this.left=this.gridster.positionXToPixels(this.gridsterItem.$item.x),this.setItemLeft(this.gridster.positionXToPixels(this.gridsterItem.$item.x)),void this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemLeft(this.left),this.setItemWidth(this.width)},this.handleSouth=f=>{if(this.height=f.clientY+this.offsetTop-this.diffBottom-this.top,this.minHeight>this.height&&(this.height=this.minHeight),this.bottom=this.top+this.height,this.gridster.options.enableBoundaryControl){const M=this.outerMarginBottom??this.margin,J=this.gridster.el.getBoundingClientRect();this.bottom=Math.min(this.bottom,J.bottom-J.top-2*M),this.height=this.bottom-this.top}if(this.newPosition=this.gridster.pixelsToPositionY(this.bottom+(this.gridster.options.pushItems?0:this.margin),Math.ceil),this.gridsterItem.$item.y+this.gridsterItem.$item.rows!==this.newPosition){if(this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows=this.newPosition-this.gridsterItem.$item.y,this.pushResize.pushItems(this.pushResize.fromNorth),this.push.pushItems(this.push.fromNorth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.rows=this.itemBackup[3],void this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemHeight(this.height)},this.handleEast=f=>{if(this.width=(this.gridster.$options.dirType===It.RTL?this.originalClientX+(this.originalClientX-f.clientX):f.clientX)+this.offsetLeft-this.diffRight-this.left,this.minWidth>this.width&&(this.width=this.minWidth),this.right=this.left+this.width,this.gridster.options.enableBoundaryControl){const J=this.outerMarginRight??this.margin,it=this.gridster.el.getBoundingClientRect();this.right=Math.min(this.right,it.right-it.left-2*J),this.width=this.right-this.left}if(this.newPosition=this.gridster.pixelsToPositionX(this.right+(this.gridster.options.pushItems?0:this.margin),Math.ceil),this.gridsterItem.$item.x+this.gridsterItem.$item.cols!==this.newPosition){if(this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols=this.newPosition-this.gridsterItem.$item.x,this.pushResize.pushItems(this.pushResize.fromWest),this.push.pushItems(this.push.fromWest,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.cols=this.itemBackup[2],void this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemWidth(this.width)},this.handleNorthWest=f=>{this.handleNorth(f),this.handleWest(f)},this.handleNorthEast=f=>{this.handleNorth(f),this.handleEast(f)},this.handleSouthWest=f=>{this.handleSouth(f),this.handleWest(f)},this.handleSouthEast=f=>{this.handleSouth(f),this.handleEast(f)},this.gridsterItem=h,this.gridster=d,this.lastMouse={clientX:0,clientY:0},this.itemBackup=[0,0,0,0],this.resizeEventScrollType={west:!1,east:!1,north:!1,south:!1}}destroy(){this.gridster?.previewStyle(),this.gridster=this.gridsterItem=null}dragStart(h){if(h.which&&1!==h.which)return;this.gridster.options.resizable&&this.gridster.options.resizable.start&&this.gridster.options.resizable.start(this.gridsterItem.item,this.gridsterItem,h),h.stopPropagation(),h.preventDefault(),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragMove),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-resizing"),this.lastMouse.clientX=h.clientX,this.lastMouse.clientY=h.clientY,this.left=this.gridsterItem.left,this.top=this.gridsterItem.top,this.originalClientX=h.clientX,this.originalClientY=h.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.bottom=this.gridsterItem.top+this.gridsterItem.height,this.right=this.gridsterItem.left+this.gridsterItem.width,this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.diffLeft=h.clientX+this.offsetLeft-this.left,this.diffRight=h.clientX+this.offsetLeft-this.right,this.diffTop=h.clientY+this.offsetTop-this.top,this.diffBottom=h.clientY+this.offsetTop-this.bottom,this.minHeight=this.gridster.positionYToPixels(this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows)-this.margin,this.minWidth=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(),this.push=new si(this.gridsterItem),this.pushResize=new vi(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid();const{classList:d}=h.target;d.contains("handle-n")?(this.resizeEventScrollType.north=!0,this.directionFunction=this.handleNorth):d.contains("handle-w")?this.gridster.$options.dirType===It.RTL?(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):d.contains("handle-s")?(this.resizeEventScrollType.south=!0,this.directionFunction=this.handleSouth):d.contains("handle-e")?this.gridster.$options.dirType===It.RTL?(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):d.contains("handle-nw")?this.gridster.$options.dirType===It.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):d.contains("handle-ne")?this.gridster.$options.dirType===It.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):d.contains("handle-sw")?this.gridster.$options.dirType===It.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):d.contains("handle-se")&&(this.gridster.$options.dirType===It.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast))}toggle(){this.resizeEnabled=this.gridsterItem.canBeResized(),this.resizableHandles=this.gridsterItem.getResizableHandles()}dragStartDelay(h){if(At.checkTouchEvent(h),!this.gridster.$options.resizable.delayStart)return void this.dragStart(h);const d=setTimeout(()=>{this.dragStart(h),wt()},this.gridster.$options.resizable.delayStart),{cancelMouse:m,cancelMouseLeave:f,cancelOnBlur:k,cancelTouchMove:M,cancelTouchEnd:J,cancelTouchCancel:it}=this.zone.runOutsideAngular(()=>({cancelMouse:this.gridsterItem.renderer.listen("document","mouseup",wt),cancelMouseLeave:this.gridsterItem.renderer.listen("document","mouseleave",wt),cancelOnBlur:this.gridsterItem.renderer.listen("window","blur",wt),cancelTouchMove:this.gridsterItem.renderer.listen("document","touchmove",at),cancelTouchEnd:this.gridsterItem.renderer.listen("document","touchend",wt),cancelTouchCancel:this.gridsterItem.renderer.listen("document","touchcancel",wt)}));function at(Zt){At.checkTouchEvent(Zt),(Math.abs(Zt.clientX-h.clientX)>9||Math.abs(Zt.clientY-h.clientY)>9)&&wt()}function wt(){clearTimeout(d),k(),m(),f(),M(),J(),it()}}setItemTop(h){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,h)}setItemLeft(h){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,h,this.top)}setItemHeight(h){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"height",h+"px")}setItemWidth(h){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"width",h+"px")}}let R=(()=>{class y{get zIndex(){return this.getLayerIndex()+this.gridster.$options.baseLayerIndex}constructor(d,m,f,k){this.renderer=f,this.zone=k,this.itemInit=new v.vpe,this.itemChange=new v.vpe,this.itemResize=new v.vpe,this.el=d.nativeElement,this.$item={cols:-1,rows:-1,x:-1,y:-1},this.gridster=m,this.drag=new ci(this,m,this.zone),this.resize=new yi(this,m,this.zone)}ngOnInit(){this.gridster.addItem(this)}ngOnChanges(d){d.item&&(this.updateOptions(),this.init||this.gridster.calculateLayout$.next()),d.item&&d.item.previousValue&&this.setSize()}updateOptions(){this.$item=At.merge(this.$item,this.item,{cols:void 0,rows:void 0,x:void 0,y:void 0,layerIndex:void 0,dragEnabled:void 0,resizeEnabled:void 0,compactEnabled:void 0,maxItemRows:void 0,minItemRows:void 0,maxItemCols:void 0,minItemCols:void 0,maxItemArea:void 0,minItemArea:void 0,resizableHandles:{s:void 0,e:void 0,n:void 0,w:void 0,se:void 0,ne:void 0,sw:void 0,nw:void 0}})}ngOnDestroy(){this.gridster.removeItem(this),this.drag.destroy(),this.resize.destroy(),this.gridster=this.drag=this.resize=null}setSize(){this.renderer.setStyle(this.el,"display",this.notPlaced?"":"block"),this.gridster.gridRenderer.updateItem(this.el,this.$item,this.renderer),this.updateItemSize()}updateItemSize(){const m=this.$item.x*this.gridster.curColWidth,f=this.$item.cols*this.gridster.curColWidth-this.gridster.$options.margin,k=this.$item.rows*this.gridster.curRowHeight-this.gridster.$options.margin;this.top=this.$item.y*this.gridster.curRowHeight,this.left=m,!this.init&&f>0&&k>0&&(this.init=!0,this.item.initCallback&&this.item.initCallback(this.item,this),this.gridster.options.itemInitCallback&&this.gridster.options.itemInitCallback(this.item,this),this.itemInit.next({item:this.item,itemComponent:this}),this.gridster.$options.scrollToNewItems&&this.el.scrollIntoView(!1)),(f!==this.width||k!==this.height)&&(this.width=f,this.height=k,this.gridster.options.itemResizeCallback&&this.gridster.options.itemResizeCallback(this.item,this),this.itemResize.next({item:this.item,itemComponent:this}))}itemChanged(){this.gridster.options.itemChangeCallback&&this.gridster.options.itemChangeCallback(this.item,this),this.itemChange.next({item:this.item,itemComponent:this})}checkItemChanges(d,m){d.rows===m.rows&&d.cols===m.cols&&d.x===m.x&&d.y===m.y||(this.gridster.checkCollision(this.$item)?(this.$item.x=m.x||0,this.$item.y=m.y||0,this.$item.cols=m.cols||1,this.$item.rows=m.rows||1,this.setSize()):(this.item.cols=this.$item.cols,this.item.rows=this.$item.rows,this.item.x=this.$item.x,this.item.y=this.$item.y,this.gridster.calculateLayout$.next(),this.itemChanged()))}canBeDragged(){const d=this.gridster.$options.draggable.enabled;return!this.gridster.mobile&&d&&(void 0===this.$item.dragEnabled?d:this.$item.dragEnabled)}canBeResized(){const d=this.gridster.$options.resizable.enabled;return!this.gridster.mobile&&d&&(void 0===this.$item.resizeEnabled?d:this.$item.resizeEnabled)}getResizableHandles(){const d=this.gridster.$options.resizable.handles,m=this.$item.resizableHandles;return void 0===m?d:{...d,...m}}bringToFront(d){if(d&&d<=0)return;const m=this.getLayerIndex(),f=this.gridster.$options.maxLayerIndex;if(m<f){const k=d?m+d:f;this.item.layerIndex=this.$item.layerIndex=k>f?f:k}}sendToBack(d){if(d&&d<=0)return;const m=this.getLayerIndex();if(m>0){const f=d?m-d:0;this.item.layerIndex=this.$item.layerIndex=f<0?0:f}}getLayerIndex(){return void 0!==this.item.layerIndex?this.item.layerIndex:void 0!==this.gridster.$options.defaultLayerIndex?this.gridster.$options.defaultLayerIndex:0}static#t=this.\u0275fac=function(m){return new(m||y)(v.Y36(v.SBq),v.Y36(ni),v.Y36(v.Qsj),v.Y36(v.R0b))};static#e=this.\u0275cmp=v.Xpm({type:y,selectors:[["gridster-item"]],hostVars:2,hostBindings:function(m,f){2&m&&v.Udp("z-index",f.zIndex)},inputs:{item:"item"},outputs:{itemInit:"itemInit",itemChange:"itemChange",itemResize:"itemResize"},standalone:!0,features:[v.TTD,v.jDz],ngContentSelectors:et,decls:9,vars:8,consts:[["class","gridster-item-resizable-handler handle-s",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-e",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-n",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-w",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-se",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-ne",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-sw",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-nw",3,"mousedown","touchstart",4,"ngIf"],[1,"gridster-item-resizable-handler","handle-s",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-e",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-n",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-w",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-se",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-ne",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-sw",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-nw",3,"mousedown","touchstart"]],template:function(m,f){1&m&&(v.F$t(),v.Hsn(0),v.YNc(1,X,1,0,"div",0),v.YNc(2,ht,1,0,"div",1),v.YNc(3,qt,1,0,"div",2),v.YNc(4,Bt,1,0,"div",3),v.YNc(5,me,1,0,"div",4),v.YNc(6,Pe,1,0,"div",5),v.YNc(7,Ce,1,0,"div",6),v.YNc(8,Lt,1,0,"div",7)),2&m&&(v.xp6(1),v.Q6J("ngIf",(null==f.resize.resizableHandles?null:f.resize.resizableHandles.s)&&f.resize.resizeEnabled),v.xp6(1),v.Q6J("ngIf",(null==f.resize.resizableHandles?null:f.resize.resizableHandles.e)&&f.resize.resizeEnabled),v.xp6(1),v.Q6J("ngIf",(null==f.resize.resizableHandles?null:f.resize.resizableHandles.n)&&f.resize.resizeEnabled),v.xp6(1),v.Q6J("ngIf",(null==f.resize.resizableHandles?null:f.resize.resizableHandles.w)&&f.resize.resizeEnabled),v.xp6(1),v.Q6J("ngIf",(null==f.resize.resizableHandles?null:f.resize.resizableHandles.se)&&f.resize.resizeEnabled),v.xp6(1),v.Q6J("ngIf",(null==f.resize.resizableHandles?null:f.resize.resizableHandles.ne)&&f.resize.resizeEnabled),v.xp6(1),v.Q6J("ngIf",(null==f.resize.resizableHandles?null:f.resize.resizableHandles.sw)&&f.resize.resizeEnabled),v.xp6(1),v.Q6J("ngIf",(null==f.resize.resizableHandles?null:f.resize.resizableHandles.nw)&&f.resize.resizeEnabled))},dependencies:[n.O5],styles:["gridster-item{box-sizing:border-box;z-index:1;position:absolute;overflow:hidden;transition:.3s;display:none;background:white;-webkit-user-select:text;user-select:text}gridster-item.gridster-item-moving{cursor:move}gridster-item.gridster-item-resizing,gridster-item.gridster-item-moving{transition:0s;z-index:2;box-shadow:0 0 5px 5px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.gridster-item-resizable-handler{position:absolute;z-index:2}.gridster-item-resizable-handler.handle-n{cursor:ns-resize;height:10px;right:0;top:0;left:0}.gridster-item-resizable-handler.handle-e{cursor:ew-resize;width:10px;bottom:0;right:0;top:0}.gridster-item-resizable-handler.handle-s{cursor:ns-resize;height:10px;right:0;bottom:0;left:0}.gridster-item-resizable-handler.handle-w{cursor:ew-resize;width:10px;left:0;top:0;bottom:0}.gridster-item-resizable-handler.handle-ne{cursor:ne-resize;width:10px;height:10px;right:0;top:0}.gridster-item-resizable-handler.handle-nw{cursor:nw-resize;width:10px;height:10px;left:0;top:0}.gridster-item-resizable-handler.handle-se{cursor:se-resize;width:0;height:0;right:0;bottom:0;border-style:solid;border-width:0 0 10px 10px;border-color:transparent}.gridster-item-resizable-handler.handle-sw{cursor:sw-resize;width:10px;height:10px;left:0;bottom:0}gridster-item:hover .gridster-item-resizable-handler.handle-se{border-color:transparent transparent #ccc}\n"],encapsulation:2})}return y})(),F=(()=>{class y{static#t=this.\u0275fac=function(m){return new(m||y)};static#e=this.\u0275mod=v.oAB({type:y});static#i=this.\u0275inj=v.cJS({})}return y})()}}]);